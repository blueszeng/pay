[2017-09-26 16:23:11.820] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:23:11.826] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:23:11.827] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:23:11.835] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m36ms[39m [90m106b[39m
[2017-09-26 16:23:59.398] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:23:59.405] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:23:59.452] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:24:01.572] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:24:01.581] [INFO] console - enter===>
[2017-09-26 16:24:01.583] [INFO] console - sbsbsbs
[2017-09-26 16:24:01.583] [INFO] console - sbsbsbs555555
[2017-09-26 16:24:01.585] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:24:01.587] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:24:01.587] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:24:01.588] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:24:01.602] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:24:01.609] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:24:01.610] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:24:01.620] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m48ms[39m [90m106b[39m
[2017-09-26 16:24:42.830] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:24:42.835] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:24:42.864] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:24:45.434] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:24:45.442] [INFO] console - enter===>
[2017-09-26 16:24:45.444] [INFO] console - sbsbsbs
[2017-09-26 16:24:45.444] [INFO] console - sbsbsbs555555
[2017-09-26 16:24:45.446] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:24:45.447] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:24:45.448] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:24:45.448] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:24:45.465] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:24:45.470] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000055',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:24:45.476] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:24:45.476] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:24:45.484] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m50ms[39m [90m106b[39m
[2017-09-26 16:25:23.740] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:25:23.748] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:25:23.791] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:25:26.261] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:25:26.270] [INFO] console - enter===>
[2017-09-26 16:25:26.272] [INFO] console - sbsbsbs
[2017-09-26 16:25:26.272] [INFO] console - sbsbsbs555555
[2017-09-26 16:25:26.273] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:25:26.275] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:25:26.275] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:25:26.275] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:25:26.288] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:25:26.294] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000055',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:25:26.297] [INFO] console - false
[2017-09-26 16:25:26.299] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:25:26.300] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:25:26.309] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m47ms[39m [90m106b[39m
[2017-09-26 16:26:45.891] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:26:45.897] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:26:45.931] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:26:53.784] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:26:53.793] [INFO] console - enter===>
[2017-09-26 16:26:53.795] [INFO] console - sbsbsbs
[2017-09-26 16:26:53.796] [INFO] console - sbsbsbs555555
[2017-09-26 16:26:53.797] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:26:53.798] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:26:53.799] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:26:53.799] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:26:53.815] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:26:53.822] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000055',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:26:53.824] [INFO] console - appid=wxfe1105bf0e4beb05&attach=å……å€¼&bank_type=CFT&cash_fee=1&fee_type=CNY&is_subscribe=Y&mch_id=1433459502&nonce_str=pgzpm08ajwywgd1&openid=owhU5wTjaXvop_zknhZYp_dNR3KM&out_trade_no=ruijin860000055&result_code=SUCCESS&return_code=SUCCESS&time_end=20170926155215&total_fee=1&trade_type=JSAPI&transaction_id=4200000017201709264372528711
[2017-09-26 16:26:53.824] [INFO] console - appid=wxfe1105bf0e4beb05&attach=å……å€¼&bank_type=CFT&cash_fee=1&fee_type=CNY&is_subscribe=Y&mch_id=1433459502&nonce_str=pgzpm08ajwywgd1&openid=owhU5wTjaXvop_zknhZYp_dNR3KM&out_trade_no=ruijin860000055&result_code=SUCCESS&return_code=SUCCESS&time_end=20170926155215&total_fee=1&trade_type=JSAPI&transaction_id=4200000017201709264372528711&key=89ecv2edcg69f6a2d062t5b4c03s14S0
[2017-09-26 16:26:53.825] [INFO] console - false
[2017-09-26 16:26:53.831] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:26:53.831] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:26:53.840] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m56ms[39m [90m106b[39m
[2017-09-26 16:28:45.919] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:28:58.450] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:28:58.455] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:28:58.481] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:29:01.769] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:29:01.781] [INFO] console - enter===>
[2017-09-26 16:29:01.784] [INFO] console - sbsbsbs
[2017-09-26 16:29:01.784] [INFO] console - sbsbsbs555555
[2017-09-26 16:29:01.787] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:29:01.789] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:29:01.790] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:29:01.790] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:29:01.807] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:29:01.813] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000055',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:29:01.815] [INFO] console - appid=wxfe1105bf0e4beb05&attach=å……å€¼&bank_type=CFT&cash_fee=1&fee_type=CNY&is_subscribe=Y&mch_id=1433459502&nonce_str=pgzpm08ajwywgd1&openid=owhU5wTjaXvop_zknhZYp_dNR3KM&out_trade_no=ruijin860000055&result_code=SUCCESS&return_code=SUCCESS&time_end=20170926155215&total_fee=1&trade_type=JSAPI&transaction_id=4200000017201709264372528711
[2017-09-26 16:29:01.815] [INFO] console - appid=wxfe1105bf0e4beb05&attach=å……å€¼&bank_type=CFT&cash_fee=1&fee_type=CNY&is_subscribe=Y&mch_id=1433459502&nonce_str=pgzpm08ajwywgd1&openid=owhU5wTjaXvop_zknhZYp_dNR3KM&out_trade_no=ruijin860000055&result_code=SUCCESS&return_code=SUCCESS&time_end=20170926155215&total_fee=1&trade_type=JSAPI&transaction_id=4200000017201709264372528711&key=89ecv2edcg69f6a2d062t5b4c03s14S0
[2017-09-26 16:29:01.815] [INFO] console - 37C04BA0A5EC6DD6EB0AA0B26513D486 84680DD50C6B7B52FFA91A7957B0A135
[2017-09-26 16:29:01.816] [INFO] console - false
[2017-09-26 16:29:01.818] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:29:01.819] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:29:01.827] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m59ms[39m [90m106b[39m
[2017-09-26 16:30:44.662] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:30:44.668] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:30:44.674] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:30:44.680] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:30:44.697] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:30:44.714] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:30:52.993] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:30:52.998] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:30:53.024] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:30:58.716] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:30:58.725] [INFO] console - enter===>
[2017-09-26 16:30:58.728] [INFO] console - sbsbsbs
[2017-09-26 16:30:58.728] [INFO] console - sbsbsbs555555
[2017-09-26 16:30:58.730] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:30:58.731] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:30:58.732] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:30:58.733] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:30:58.746] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:30:58.753] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000055',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:30:58.755] [INFO] console - true
[2017-09-26 16:30:58.755] [INFO] console - idddddd======> ruijin860000055
[2017-09-26 16:30:58.756] [INFO] console - idddddd======> 860000055
[2017-09-26 16:30:58.769] [INFO] console - idddddd======> null
[2017-09-26 16:30:58.771] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:30:58.772] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:30:58.785] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m68ms[39m [90m106b[39m
[2017-09-26 16:32:53.022] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:35:32.907] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:35:32.915] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:35:32.947] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:35:38.389] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:35:38.397] [INFO] console - enter===>
[2017-09-26 16:35:38.401] [INFO] console - sbsbsbs
[2017-09-26 16:35:38.402] [INFO] console - sbsbsbs555555
[2017-09-26 16:35:38.404] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:35:38.405] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:35:38.405] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:35:38.406] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:35:38.423] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000049' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:35:38.427] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000049',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:35:38.430] [INFO] console - true
[2017-09-26 16:35:38.430] [INFO] console - idddddd======> ruijin860000049
[2017-09-26 16:35:38.430] [INFO] console - idddddd======> 860000049
[2017-09-26 16:35:38.437] [INFO] console - idddddd======> null
[2017-09-26 16:35:38.441] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:35:38.442] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:35:38.447] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m59ms[39m [90m106b[39m
[2017-09-26 16:37:32.946] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:43:14.810] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:43:14.829] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:43:14.864] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:44:01.036] [INFO] console -   [90m<--[39m [1mPOST[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:44:01.042] [INFO] console -   [90m-->[39m [1mPOST[22m [90m/api/wechat/dyh/v1/wxnotify[39m [33m404[39m [90m7ms[39m [90m-[39m
[2017-09-26 16:44:04.032] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:44:04.037] [INFO] console - enter===>
[2017-09-26 16:44:04.040] [INFO] console - sbsbsbs
[2017-09-26 16:44:04.041] [INFO] console - sbsbsbs555555
[2017-09-26 16:44:04.042] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:44:04.044] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:44:04.044] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:44:04.046] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:44:04.060] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000049' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:44:04.065] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000049',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:44:04.067] [INFO] console - true
[2017-09-26 16:44:04.067] [INFO] console - idddddd======> ruijin860000049
[2017-09-26 16:44:04.067] [INFO] console - idddddd======> 860000049
[2017-09-26 16:44:04.078] [INFO] console - idddddd======> { _id: 59c9fd2d4d5886b9d1bf37ba,
  id: 860000049,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:09:33.967Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 16:44:04.086] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: (0 , _nodeFetch2.default)(...).json is not a function
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:225:61)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:44:04.121] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:44:04.121] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:44:04.125] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m93ms[39m [90m106b[39m
[2017-09-26 16:44:04.132] [ERROR] console - (node:55242) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): FetchError: request to http://192.168.0.107:8080/paynotify?uid=10000&count=5 failed, reason: connect ECONNREFUSED 192.168.0.107:8080
[2017-09-26 16:45:14.837] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:47:16.606] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:47:16.645] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:47:16.927] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:47:50.862] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:47:50.867] [INFO] console - enter===>
[2017-09-26 16:47:50.870] [INFO] console - sbsbsbs
[2017-09-26 16:47:50.870] [INFO] console - sbsbsbs555555
[2017-09-26 16:47:50.872] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:47:50.874] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:47:50.875] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:47:50.875] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:47:50.894] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000049' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:47:50.899] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000049',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:47:50.902] [INFO] console - true
[2017-09-26 16:47:50.903] [INFO] console - idddddd======> ruijin860000049
[2017-09-26 16:47:50.903] [INFO] console - idddddd======> 860000049
[2017-09-26 16:47:50.911] [INFO] console - idddddd======> { _id: 59c9fd2d4d5886b9d1bf37ba,
  id: 860000049,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:09:33.967Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 16:47:50.925] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { FetchError: request to http://192.168.0.107:8080/paynotify?uid=10000&count=5 failed, reason: connect ECONNREFUSED 192.168.0.107:8080
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://192.168.0.107:8080/paynotify?uid=10000&count=5 failed, reason: connect ECONNREFUSED 192.168.0.107:8080',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 16:47:50.935] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:47:50.936] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:47:50.940] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m78ms[39m [90m106b[39m
[2017-09-26 16:48:16.687] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:48:16.692] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:48:16.720] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:48:24.619] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:48:24.624] [INFO] console - enter===>
[2017-09-26 16:48:24.626] [INFO] console - sbsbsbs
[2017-09-26 16:48:24.627] [INFO] console - sbsbsbs555555
[2017-09-26 16:48:24.628] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:48:24.629] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:48:24.629] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:48:24.630] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:48:24.644] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000049' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:48:24.648] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000049',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:48:24.651] [INFO] console - true
[2017-09-26 16:48:24.652] [INFO] console - idddddd======> ruijin860000049
[2017-09-26 16:48:24.652] [INFO] console - idddddd======> 860000049
[2017-09-26 16:48:24.663] [INFO] console - idddddd======> { _id: 59c9fd2d4d5886b9d1bf37ba,
  id: 860000049,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:09:33.967Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 16:48:24.674] [INFO] console - http://192.168.0.107:8080/paynotify?uid=10000&count=5
[2017-09-26 16:48:24.685] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { FetchError: request to http://192.168.0.107:8080/paynotify?uid=10000&count=5 failed, reason: connect ECONNREFUSED 192.168.0.107:8080
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://192.168.0.107:8080/paynotify?uid=10000&count=5 failed, reason: connect ECONNREFUSED 192.168.0.107:8080',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 16:48:24.707] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:48:24.707] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:48:24.715] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m96ms[39m [90m106b[39m
[2017-09-26 16:50:16.715] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:54:01.023] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:54:01.029] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:54:01.060] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:54:14.574] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:54:14.578] [INFO] console - enter===>
[2017-09-26 16:54:14.579] [INFO] console - sbsbsbs
[2017-09-26 16:54:14.579] [INFO] console - sbsbsbs555555
[2017-09-26 16:54:14.580] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:54:14.581] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:54:14.581] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:54:14.582] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:54:14.594] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000049' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:54:14.598] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000049',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:54:14.600] [INFO] console - true
[2017-09-26 16:54:14.600] [INFO] console - idddddd======> ruijin860000049
[2017-09-26 16:54:14.600] [INFO] console - idddddd======> 860000049
[2017-09-26 16:54:14.604] [INFO] console - idddddd======> { _id: 59c9fd2d4d5886b9d1bf37ba,
  id: 860000049,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:09:33.967Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 16:54:14.610] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=5
[2017-09-26 16:54:35.785] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:54:35.786] [INFO] console - enter===>
[2017-09-26 16:54:35.786] [INFO] console - sbsbsbs
[2017-09-26 16:54:35.786] [INFO] console - sbsbsbs555555
[2017-09-26 16:54:35.787] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:54:35.787] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:54:35.787] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:54:35.788] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000049]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:54:35.796] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000049' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:54:35.800] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000049',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: '84680DD50C6B7B52FFA91A7957B0A135',
  time_end: '20170926155215',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000017201709264372528711' }
[2017-09-26 16:54:35.802] [INFO] console - true
[2017-09-26 16:54:35.803] [INFO] console - idddddd======> ruijin860000049
[2017-09-26 16:54:35.803] [INFO] console - idddddd======> 860000049
[2017-09-26 16:54:35.803] [INFO] console - idddddd======> { _id: 59c9fd2d4d5886b9d1bf37ba,
  id: 860000049,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:09:33.967Z,
  status: 1,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 16:54:35.807] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[SUCCESS]]></return_code>
    <return_msg><![CDATA[OK]]></return_msg>
</xml> false
[2017-09-26 16:54:35.818] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m31ms[39m [90m107b[39m
[2017-09-26 16:56:01.055] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 17:03:19.732] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=22[39m
[2017-09-26 17:03:19.735] [INFO] console - enter===>
[2017-09-26 17:03:19.746] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-26 17:03:19.748] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 17:03:19.751] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=22[39m [32m200[39m [90m19ms[39m [90m26b[39m
[2017-09-26 17:03:21.244] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=23[39m
[2017-09-26 17:03:21.245] [INFO] console - enter===>
[2017-09-26 17:03:21.246] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 17:03:21.247] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-26 17:03:21.276] [INFO] console - { __v: 0,
  id: 860000056,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T09:03:21.248Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59ca17d9c93cd4db22ad159e }
[2017-09-26 17:03:21.278] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  body: 'å……å€¼5é’»çŸ³',
  mch_id: '1433459502',
  nonce_str: 'qzsig9rnncendef',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000056',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-26 17:03:21.564] [INFO] console - string
[2017-09-26 17:03:21.565] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[SyausfuMSkWIrr86]]></nonce_str>
<sign><![CDATA[AFED382AFD1E44E65BE2225972FF1A1D]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170926170321f67daec7060619885014]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-26 17:03:21.565] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[SyausfuMSkWIrr86]]></nonce_str>\n<sign><![CDATA[AFED382AFD1E44E65BE2225972FF1A1D]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170926170321f67daec7060619885014]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-26 17:03:21.566] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506416601',
     nonceStr: 'qzsig9rnncendef',
     signType: 'MD5',
     package: 'prepay_id=wx20170926170321f67daec7060619885014',
     paySign: '56C0B8892F052899102B01E77EC1C8BA' } } false
[2017-09-26 17:03:21.568] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=23[39m [32m200[39m [90m324ms[39m [90m225b[39m
[2017-09-26 17:05:39.813] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:05:39.821] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:05:39.833] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:05:39.866] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:06:33.303] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:06:33.311] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:06:33.319] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:06:33.353] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:07:24.179] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 17:07:24.183] [INFO] console - enter===>
[2017-09-26 17:07:24.184] [INFO] console - sbsbsbs
[2017-09-26 17:07:24.186] [INFO] console - sbsbsbs555555
[2017-09-26 17:07:24.190] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 17:07:24.191] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:07:24.192] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:07:24.193] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:07:24.206] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'qzsig9rnncendef' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000056' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ 'BB4F94F63B9CF2B66D6334C73D1F6F4B' ],
     time_end: [ '20170926170330' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000016201709264384488279' ] } }
[2017-09-26 17:07:24.209] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'qzsig9rnncendef',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000056',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: 'BB4F94F63B9CF2B66D6334C73D1F6F4B',
  time_end: '20170926170330',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000016201709264384488279' }
[2017-09-26 17:07:24.211] [INFO] console - true
[2017-09-26 17:07:24.211] [INFO] console - idddddd======> ruijin860000056
[2017-09-26 17:07:24.212] [INFO] console - idddddd======> 860000056
[2017-09-26 17:07:24.218] [INFO] console - idddddd======> { _id: 59ca17d9c93cd4db22ad159e,
  id: 860000056,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T09:03:21.248Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 17:07:24.224] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=5
[2017-09-26 17:07:40.604] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 17:07:40.605] [INFO] console - enter===>
[2017-09-26 17:07:40.605] [INFO] console - sbsbsbs
[2017-09-26 17:07:40.605] [INFO] console - sbsbsbs555555
[2017-09-26 17:07:40.605] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 17:07:40.606] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:07:40.607] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:07:40.607] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:07:40.619] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'qzsig9rnncendef' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000056' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ 'BB4F94F63B9CF2B66D6334C73D1F6F4B' ],
     time_end: [ '20170926170330' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000016201709264384488279' ] } }
[2017-09-26 17:07:40.621] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'qzsig9rnncendef',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000056',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: 'BB4F94F63B9CF2B66D6334C73D1F6F4B',
  time_end: '20170926170330',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000016201709264384488279' }
[2017-09-26 17:07:40.627] [INFO] console - true
[2017-09-26 17:07:40.628] [INFO] console - idddddd======> ruijin860000056
[2017-09-26 17:07:40.628] [INFO] console - idddddd======> 860000056
[2017-09-26 17:07:40.629] [INFO] console - idddddd======> { _id: 59ca17d9c93cd4db22ad159e,
  id: 860000056,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T09:03:21.248Z,
  status: 1,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 17:07:40.631] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[SUCCESS]]></return_code>
    <return_msg><![CDATA[OK]]></return_msg>
</xml> false
[2017-09-26 17:07:40.643] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m39ms[39m [90m107b[39m
[2017-09-26 17:07:56.396] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:07:56.401] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:07:56.429] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:07:56.435] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:08:02.930] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 17:08:02.937] [INFO] console - enter===>
[2017-09-26 17:08:02.939] [INFO] console - sbsbsbs
[2017-09-26 17:08:02.939] [INFO] console - sbsbsbs555555
[2017-09-26 17:08:02.941] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 17:08:02.941] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:08:02.948] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:08:02.949] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:08:02.978] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'qzsig9rnncendef' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000056' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ 'BB4F94F63B9CF2B66D6334C73D1F6F4B' ],
     time_end: [ '20170926170330' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000016201709264384488279' ] } }
[2017-09-26 17:08:02.982] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'qzsig9rnncendef',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000056',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: 'BB4F94F63B9CF2B66D6334C73D1F6F4B',
  time_end: '20170926170330',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000016201709264384488279' }
[2017-09-26 17:08:02.985] [INFO] console - BB4F94F63B9CF2B66D6334C73D1F6F4B BB4F94F63B9CF2B66D6334C73D1F6F4B
[2017-09-26 17:08:02.985] [INFO] console - true
[2017-09-26 17:08:02.985] [INFO] console - idddddd======> ruijin860000056
[2017-09-26 17:08:02.986] [INFO] console - idddddd======> 860000056
[2017-09-26 17:08:02.991] [INFO] console - idddddd======> { _id: 59ca17d9c93cd4db22ad159e,
  id: 860000056,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T09:03:21.248Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 17:08:03.003] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=5
[2017-09-26 17:08:11.105] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 17:08:11.105] [INFO] console - enter===>
[2017-09-26 17:08:11.106] [INFO] console - sbsbsbs
[2017-09-26 17:08:11.106] [INFO] console - sbsbsbs555555
[2017-09-26 17:08:11.106] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 17:08:11.106] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:08:11.106] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:08:11.107] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:08:11.113] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'qzsig9rnncendef' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000056' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ 'BB4F94F63B9CF2B66D6334C73D1F6F4B' ],
     time_end: [ '20170926170330' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000016201709264384488279' ] } }
[2017-09-26 17:08:11.116] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'qzsig9rnncendef',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000056',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: 'BB4F94F63B9CF2B66D6334C73D1F6F4B',
  time_end: '20170926170330',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000016201709264384488279' }
[2017-09-26 17:08:11.119] [INFO] console - BB4F94F63B9CF2B66D6334C73D1F6F4B BB4F94F63B9CF2B66D6334C73D1F6F4B
[2017-09-26 17:08:11.119] [INFO] console - true
[2017-09-26 17:08:11.119] [INFO] console - idddddd======> ruijin860000056
[2017-09-26 17:08:11.120] [INFO] console - idddddd======> 860000056
[2017-09-26 17:08:11.120] [INFO] console - idddddd======> { _id: 59ca17d9c93cd4db22ad159e,
  id: 860000056,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T09:03:21.248Z,
  status: 1,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 17:08:11.122] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[SUCCESS]]></return_code>
    <return_msg><![CDATA[OK]]></return_msg>
</xml> false
[2017-09-26 17:08:11.133] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m28ms[39m [90m107b[39m
[2017-09-26 17:09:56.473] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 17:10:02.936] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 17:10:02.936] [INFO] console - enter===>
[2017-09-26 17:10:02.937] [INFO] console - sbsbsbs
[2017-09-26 17:10:02.938] [INFO] console - sbsbsbs555555
[2017-09-26 17:10:02.938] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 17:10:02.938] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:10:02.939] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:10:02.939] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[qzsig9rnncendef]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000056]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[BB4F94F63B9CF2B66D6334C73D1F6F4B]]></sign>
<time_end><![CDATA[20170926170330]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000016201709264384488279]]></transaction_id>
</xml>
[2017-09-26 17:10:02.946] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ 'å……å€¼' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'qzsig9rnncendef' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000056' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ 'BB4F94F63B9CF2B66D6334C73D1F6F4B' ],
     time_end: [ '20170926170330' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000016201709264384488279' ] } }
[2017-09-26 17:10:02.948] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  bank_type: 'CFT',
  cash_fee: '1',
  fee_type: 'CNY',
  is_subscribe: 'Y',
  mch_id: '1433459502',
  nonce_str: 'qzsig9rnncendef',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000056',
  result_code: 'SUCCESS',
  return_code: 'SUCCESS',
  sign: 'BB4F94F63B9CF2B66D6334C73D1F6F4B',
  time_end: '20170926170330',
  total_fee: '1',
  trade_type: 'JSAPI',
  transaction_id: '4200000016201709264384488279' }
[2017-09-26 17:10:02.949] [INFO] console - BB4F94F63B9CF2B66D6334C73D1F6F4B BB4F94F63B9CF2B66D6334C73D1F6F4B
[2017-09-26 17:10:02.949] [INFO] console - true
[2017-09-26 17:10:02.950] [INFO] console - idddddd======> ruijin860000056
[2017-09-26 17:10:02.950] [INFO] console - idddddd======> 860000056
[2017-09-26 17:10:02.951] [INFO] console - idddddd======> { _id: 59ca17d9c93cd4db22ad159e,
  id: 860000056,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T09:03:21.248Z,
  status: 1,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  __v: 0 }
[2017-09-26 17:10:02.957] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[SUCCESS]]></return_code>
    <return_msg><![CDATA[OK]]></return_msg>
</xml> false
[2017-09-26 17:10:02.960] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m22ms[39m [90m107b[39m
[2017-09-26 17:11:59.620] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=24[39m
[2017-09-26 17:11:59.624] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=24[39m [33m404[39m [90m4ms[39m [90m-[39m
[2017-09-26 17:18:21.148] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112404295998630835812_1506417501142&code=c1Vn_nVK0ePDDPOxEZ5HvJDfFSlFhaMcuQfeIdMnClI&state=1288Aa&_v=0&_=1506417501143[39m
[2017-09-26 17:18:21.153] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-26 17:18:21.180] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112404295998630835812_1506417501142&code=c1Vn_nVK0ePDDPOxEZ5HvJDfFSlFhaMcuQfeIdMnClI&state=1288Aa&_v=0&_=1506417501143[39m [32m200[39m [90m32ms[39m [90m2b[39m
[2017-09-26 17:18:25.771] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240998579304259418_1506417505768&code=fjXMma_R2qKDGBY8_HCHqN3lF0dL65IIby84FZ6BdHo&state=1288Aa&_v=0&_=1506417505769[39m
[2017-09-26 17:18:25.773] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-26 17:18:25.779] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240998579304259418_1506417505768&code=fjXMma_R2qKDGBY8_HCHqN3lF0dL65IIby84FZ6BdHo&state=1288Aa&_v=0&_=1506417505769[39m [32m200[39m [90m8ms[39m [90m2b[39m
[2017-09-26 17:18:28.662] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124021496976641503784_1506417508661&code=C7f9CGR1Lfk4WbPf_7TqgR9kjwd9xtMBpoHhnrRMURw&state=1288Aa&_v=0&_=1506417508662[39m
[2017-09-26 17:18:28.663] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-26 17:18:28.671] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124021496976641503784_1506417508661&code=C7f9CGR1Lfk4WbPf_7TqgR9kjwd9xtMBpoHhnrRMURw&state=1288Aa&_v=0&_=1506417508662[39m [32m200[39m [90m9ms[39m [90m2b[39m
[2017-09-26 17:18:32.793] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124009801920219474203_1506417512795&code=FCd04MMoOvVXGQXEvj9N73PRZ0VyVi4fnRJ92m7zyeU&state=1288Aa&_v=0&_=1506417512796[39m
[2017-09-26 17:18:32.794] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-26 17:18:32.802] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124009801920219474203_1506417512795&code=FCd04MMoOvVXGQXEvj9N73PRZ0VyVi4fnRJ92m7zyeU&state=1288Aa&_v=0&_=1506417512796[39m [32m200[39m [90m9ms[39m [90m2b[39m
[2017-09-26 17:18:36.925] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112408004465048734484_1506417516922&code=HX8bUwqOypRkfLM6y_r6PBWySivWDeVFmCImsfFxXZs&state=1288Aa&_v=0&_=1506417516923[39m
[2017-09-26 17:18:36.926] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-26 17:18:36.932] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112408004465048734484_1506417516922&code=HX8bUwqOypRkfLM6y_r6PBWySivWDeVFmCImsfFxXZs&state=1288Aa&_v=0&_=1506417516923[39m [32m200[39m [90m7ms[39m [90m2b[39m
[2017-09-26 17:20:26.409] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:20:26.414] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:20:26.422] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:20:26.449] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:20:42.129] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:20:42.135] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:20:42.144] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:20:42.173] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:20:46.647] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:20:46.653] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:20:46.663] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:20:46.702] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:20:50.402] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:20:50.407] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:20:50.416] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:20:50.443] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:21:16.207] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:21:16.217] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:21:16.229] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:21:16.272] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:21:36.806] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:21:36.817] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:21:36.851] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:21:36.838] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:21:36.862] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:21:36.878] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:21:36.894] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:21:36.922] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:21:37.055] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:21:37.061] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:21:37.071] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:21:37.101] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:23:36.847] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 17:23:36.906] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 17:23:37.080] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 17:29:31.350] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:29:31.356] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:29:31.392] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:29:31.404] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:29:32.590] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:29:32.595] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:29:32.619] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:29:32.626] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:29:35.827] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:29:35.835] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:29:35.869] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:29:35.892] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:29:39.409] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:29:39.416] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:29:39.448] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:29:39.455] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:29:39.502] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:29:39.513] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:29:39.525] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:29:39.561] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:29:45.014] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:29:45.023] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:29:45.072] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:29:45.069] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 17:29:45.078] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:29:45.137] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:29:45.191] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:29:45.201] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:30:49.645] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:30:49.650] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:30:49.672] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:30:49.678] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:32:49.797] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 17:33:53.597] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:33:53.602] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:33:53.609] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:33:53.634] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:35:53.663] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 17:36:31.234] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124021560057728569304_1506418591210&code=p5XAOWSzpku6xovAvA50_cKGr0KixOqL_1GE6cXFzUo&state=1288Aa&_v=0&_=1506418591211[39m
[2017-09-26 17:36:31.240] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-26 17:36:31.271] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124021560057728569304_1506418591210&code=p5XAOWSzpku6xovAvA50_cKGr0KixOqL_1GE6cXFzUo&state=1288Aa&_v=0&_=1506418591211[39m [32m200[39m [90m36ms[39m [90m2b[39m
[2017-09-26 17:37:10.778] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:37:10.783] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:37:10.796] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:37:10.831] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:37:17.945] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407821793976408142_1506418637899&code=tNN6fitiDP9hbwCfhlMG1j9bsyK5_v1Y50lZ6KCVbVY&state=1288Aa&_v=0&_=1506418637900[39m
[2017-09-26 17:37:17.956] [WARN] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wechat.js - åœ¨ç¼“å­˜ä¸­å¾®ä¿¡Api Tokenä¸ºç©º
[2017-09-26 17:37:19.472] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:42:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 17:37:19.496] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 17:37:19.498] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407821793976408142_1506418637899&code=tNN6fitiDP9hbwCfhlMG1j9bsyK5_v1Y50lZ6KCVbVY&state=1288Aa&_v=0&_=1506418637900[39m [32m200[39m [90m1,553ms[39m [90m12b[39m
[2017-09-26 17:38:11.004] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:38:11.010] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:38:11.021] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:38:11.056] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:38:13.903] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240001954149899747182_1506418693856&code=hQ67G5apN0iPc0pW84f1B0cSucxe65QFgAPqLew3CnA&state=1288Aa&_v=0&_=1506418693857[39m
[2017-09-26 17:38:14.683] [INFO] console - { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  enable: true,
  power: 1,
  cards: 0 }
[2017-09-26 17:38:14.687] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 17:38:14.708] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 17:38:14.711] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240001954149899747182_1506418693856&code=hQ67G5apN0iPc0pW84f1B0cSucxe65QFgAPqLew3CnA&state=1288Aa&_v=0&_=1506418693857[39m [32m200[39m [90m807ms[39m [90m12b[39m
[2017-09-26 17:39:34.711] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:39:34.717] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:39:34.731] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:39:34.765] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:39:37.587] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409707710969237924_1506418777539&code=VQaToig6hdfO1J1dkmbAmiBMMhKUrLde-zYWQ0uZYrg&state=1288Aa&_v=0&_=1506418777540[39m
[2017-09-26 17:39:38.299] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 17:39:38.308] [INFO] console - { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  enable: true,
  power: 1,
  cards: 0 }
[2017-09-26 17:39:38.310] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:44:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 17:39:38.331] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 17:39:38.334] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409707710969237924_1506418777539&code=VQaToig6hdfO1J1dkmbAmiBMMhKUrLde-zYWQ0uZYrg&state=1288Aa&_v=0&_=1506418777540[39m [32m200[39m [90m746ms[39m [90m12b[39m
[2017-09-26 17:40:07.829] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 17:40:07.834] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 17:40:07.843] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 17:40:07.871] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 17:40:09.125] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112403179403490304641_1506418809079&code=Hv9C1FfMnkerhSTn_a8_CG8663fWfA4iHZflUtJNqU4&state=1288Aa&_v=0&_=1506418809080[39m
[2017-09-26 17:40:09.825] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 17:40:09.832] [INFO] console - { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  enable: true,
  power: 1,
  cards: 0 }
[2017-09-26 17:40:09.835] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:45:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 17:40:09.855] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 17:40:09.858] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112403179403490304641_1506418809079&code=Hv9C1FfMnkerhSTn_a8_CG8663fWfA4iHZflUtJNqU4&state=1288Aa&_v=0&_=1506418809080[39m [32m200[39m [90m734ms[39m [90m12b[39m
[2017-09-26 17:42:07.917] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:00:20.337] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:00:20.344] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:00:20.352] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:00:20.380] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:00:30.454] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:00:30.460] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:00:30.467] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:00:30.495] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:01:47.106] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112401351179845056697_1506420107006&code=SklMaREq48lEJfIs2MEMXjjb48y8YgtYoStkhwyRW88&state=1288Aa&_v=0&_=1506420107007[39m
[2017-09-26 18:01:47.881] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:01:47.894] [INFO] console - { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  enable: true,
  power: 1,
  cards: 0 }
[2017-09-26 18:01:47.896] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:45:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:01:47.928] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:01:47.931] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112401351179845056697_1506420107006&code=SklMaREq48lEJfIs2MEMXjjb48y8YgtYoStkhwyRW88&state=1288Aa&_v=0&_=1506420107007[39m [32m200[39m [90m826ms[39m [90m12b[39m
[2017-09-26 18:02:19.274] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:02:19.279] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:02:19.289] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:02:19.320] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:02:21.958] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240199619398569995_1506420141233&code=-Q2ROAMJguiKtbvlUKLWnfmMibdksCy7WOizaC_eh8w&state=1288Aa&_v=0&_=1506420141234[39m
[2017-09-26 18:02:22.687] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:02:22.693] [INFO] console - isibsbsb { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  enable: true,
  power: 1,
  cards: 0 }
[2017-09-26 18:02:22.695] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:45:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:02:22.715] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:02:22.720] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240199619398569995_1506420141233&code=-Q2ROAMJguiKtbvlUKLWnfmMibdksCy7WOizaC_eh8w&state=1288Aa&_v=0&_=1506420141234[39m [32m200[39m [90m762ms[39m [90m12b[39m
[2017-09-26 18:02:22.864] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240565127398795027_1506420142760&code=Ulkjied9BWOI_43DGsR52pMOwQLfxY9R2KqOMuBQtB4&state=1288Aa&_v=0&_=1506420142761[39m
[2017-09-26 18:02:23.621] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:02:23.622] [INFO] console - isibsbsb { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     enable: true,
     power: 1,
     cards: 0 } }
[2017-09-26 18:02:23.652] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f2249ab9686452323fa0ce8b81bd41ead',
  cards: 0 } false
[2017-09-26 18:02:23.654] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240565127398795027_1506420142760&code=Ulkjied9BWOI_43DGsR52pMOwQLfxY9R2KqOMuBQtB4&state=1288Aa&_v=0&_=1506420142761[39m [32m200[39m [90m790ms[39m [90m163b[39m
[2017-09-26 18:03:00.951] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409087031260298495_1506420180886&code=sXKEvwpnTcppwyw_gncTq3grwXy5dq0-vcSQSs6yEjM&state=1288Aa&_v=0&_=1506420180887[39m
[2017-09-26 18:03:01.627] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:03:01.629] [INFO] console - isibsbsb { data: 
   { login: 2017-09-26T10:02:23.636Z,
     _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     enable: true,
     power: 1,
     cards: 0 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f2249ab9686452323fa0ce8b81bd41ead' }
[2017-09-26 18:03:01.636] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4b76c1d25e942c01bf89487c6ced61ac',
  cards: 0 } false
[2017-09-26 18:03:01.639] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409087031260298495_1506420180886&code=sXKEvwpnTcppwyw_gncTq3grwXy5dq0-vcSQSs6yEjM&state=1288Aa&_v=0&_=1506420180887[39m [32m200[39m [90m688ms[39m [90m163b[39m
[2017-09-26 18:04:19.383] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:04:34.794] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=irR5FucZ4uVsE7dmrYNRXcIYOLC5_oIHdPIoF-AaLqc&state=1288Aa&_v=0[39m
[2017-09-26 18:04:35.473] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:04:35.474] [INFO] console - isibsbsb { data: 
   { login: 2017-09-26T10:03:01.633Z,
     _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     enable: true,
     power: 1,
     cards: 0 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4b76c1d25e942c01bf89487c6ced61ac' }
[2017-09-26 18:04:35.481] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fc5d398a6c275fdccf1e32b42e4973fbc',
  cards: 0 } false
[2017-09-26 18:04:35.484] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=irR5FucZ4uVsE7dmrYNRXcIYOLC5_oIHdPIoF-AaLqc&state=1288Aa&_v=0[39m [32m200[39m [90m691ms[39m [90m163b[39m
[2017-09-26 18:04:39.135] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=haFdw_nPCXPknFWf34_d0kOm9TOoPXxLOfJhIYtx8lQ&state=1288Aa&_v=0[39m
[2017-09-26 18:04:39.829] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:04:39.830] [INFO] console - isibsbsb { data: 
   { login: 2017-09-26T10:04:35.478Z,
     _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     enable: true,
     power: 1,
     cards: 0 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fc5d398a6c275fdccf1e32b42e4973fbc' }
[2017-09-26 18:04:39.834] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9d0b0358038c053ff705fad74c0f1bc7',
  cards: 0 } false
[2017-09-26 18:04:39.835] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=haFdw_nPCXPknFWf34_d0kOm9TOoPXxLOfJhIYtx8lQ&state=1288Aa&_v=0[39m [32m200[39m [90m700ms[39m [90m163b[39m
[2017-09-26 18:04:46.319] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9d0b0358038c053ff705fad74c0f1bc7&_v=1[39m
[2017-09-26 18:04:46.322] [INFO] console -   [31mxxx[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9d0b0358038c053ff705fad74c0f1bc7&_v=1[39m [31m500[39m [90m3ms[39m [90m-[39m
[2017-09-26 18:04:46.337] [ERROR] console - 
[2017-09-26 18:04:46.338] [ERROR] console -   ReferenceError: req is not defined
      at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:32:12)
      at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
      at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
      at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
      at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
      at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
      at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
      at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
      at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at logger (/Users/zyg/optimization/pay/node_modules/.2.0.1@koa-logger/index.js:50:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at filter (/Users/zyg/optimization/pay/node_modules/.2.0.2@koa-json/index.js:25:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
[2017-09-26 18:04:46.338] [ERROR] console - 
[2017-09-26 18:06:04.613] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:06:04.620] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:06:04.629] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 18:06:04.633] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:06:04.636] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:06:04.651] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:06:04.668] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:06:04.690] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:06:15.674] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=ahGb0XkMRhl5cNLUh97fkeFhO91Vm0CIFpdZ-7USKX4&state=1288Aa&_v=0[39m
[2017-09-26 18:06:16.446] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:06:16.453] [INFO] console - isibsbsb { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  login: 2017-09-26T10:04:39.831Z,
  enable: true,
  power: 1,
  cards: 0 }
[2017-09-26 18:06:16.455] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:45:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:06:16.477] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:06:16.480] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=ahGb0XkMRhl5cNLUh97fkeFhO91Vm0CIFpdZ-7USKX4&state=1288Aa&_v=0[39m [32m200[39m [90m807ms[39m [90m12b[39m
[2017-09-26 18:06:34.168] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 18:06:34.173] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 18:06:34.173] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:06:34.178] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:06:34.185] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:06:34.192] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:06:34.216] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:06:34.227] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:06:36.278] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=TEr4F3fhkMaySJCOhqVzMaG-EpTK0R2YeDL_yT1m578&state=1288Aa&_v=0[39m
[2017-09-26 18:06:36.997] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:06:36.998] [INFO] console - isibsbsb { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-26T10:04:39.831Z,
     enable: true,
     power: 1,
     cards: 0 } }
[2017-09-26 18:06:37.019] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fabbd60bd1e72d4fbaa9854e03fb270db',
  cards: 0 } false
[2017-09-26 18:06:37.022] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=TEr4F3fhkMaySJCOhqVzMaG-EpTK0R2YeDL_yT1m578&state=1288Aa&_v=0[39m [32m200[39m [90m744ms[39m [90m163b[39m
[2017-09-26 18:06:41.922] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fabbd60bd1e72d4fbaa9854e03fb270db&_v=1[39m
[2017-09-26 18:06:41.945] [INFO] console -   [31mxxx[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fabbd60bd1e72d4fbaa9854e03fb270db&_v=1[39m [31m500[39m [90m23ms[39m [90m-[39m
[2017-09-26 18:06:41.953] [ERROR] console - 
[2017-09-26 18:06:41.954] [ERROR] console -   ReferenceError: TimeBreak is not defined
      at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:40:29)
      at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
      at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
      at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
      at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
      at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
      at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
      at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
      at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at logger (/Users/zyg/optimization/pay/node_modules/.2.0.1@koa-logger/index.js:50:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at filter (/Users/zyg/optimization/pay/node_modules/.2.0.2@koa-json/index.js:25:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
[2017-09-26 18:06:41.955] [ERROR] console - 
[2017-09-26 18:07:18.652] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 18:07:18.657] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:07:18.666] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:07:18.692] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:07:21.714] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=F5xoJzXLidEjOak0b-Sm1B_mvRaKRkUEqSTtUDh1rVA&state=1288Aa&_v=0[39m
[2017-09-26 18:07:22.340] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:07:22.341] [INFO] console - isibsbsb { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-26T10:06:36.999Z,
     enable: true,
     power: 1,
     cards: 0 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fabbd60bd1e72d4fbaa9854e03fb270db' }
[2017-09-26 18:07:22.348] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fae0456ffe8e2a523f1318009c68efb2c',
  cards: 0 } false
[2017-09-26 18:07:22.349] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=F5xoJzXLidEjOak0b-Sm1B_mvRaKRkUEqSTtUDh1rVA&state=1288Aa&_v=0[39m [32m200[39m [90m635ms[39m [90m163b[39m
[2017-09-26 18:07:29.877] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fae0456ffe8e2a523f1318009c68efb2c&_v=1[39m
[2017-09-26 18:07:29.880] [INFO] console -   [31mxxx[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fae0456ffe8e2a523f1318009c68efb2c&_v=1[39m [31m500[39m [90m3ms[39m [90m-[39m
[2017-09-26 18:07:29.887] [ERROR] console - 
[2017-09-26 18:07:29.888] [ERROR] console -   ReferenceError: TimeBreak is not defined
      at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:40:29)
      at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
      at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
      at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
      at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
      at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
      at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
      at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
      at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at logger (/Users/zyg/optimization/pay/node_modules/.2.0.1@koa-logger/index.js:50:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at filter (/Users/zyg/optimization/pay/node_modules/.2.0.2@koa-json/index.js:25:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
[2017-09-26 18:07:29.888] [ERROR] console - 
[2017-09-26 18:07:58.650] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:07:58.656] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:07:58.663] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:07:58.694] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:08:00.225] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=ThnvfkFWOshn11m8GXU2qLf26fH9iBITuFR2OF1mr6M&state=1288Aa&_v=0[39m
[2017-09-26 18:08:00.968] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:08:00.975] [INFO] console - isibsbsb { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  login: 2017-09-26T10:07:22.344Z,
  enable: true,
  power: 1,
  cards: 0 }
[2017-09-26 18:08:00.977] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:45:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:08:00.998] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:08:01.001] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=ThnvfkFWOshn11m8GXU2qLf26fH9iBITuFR2OF1mr6M&state=1288Aa&_v=0[39m [32m200[39m [90m776ms[39m [90m12b[39m
[2017-09-26 18:08:07.120] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=vZ9-e6Ut2bad3av9gxN6BI3jtY0y7R-3hl-M3y8L10U&state=1288Aa&_v=0[39m
[2017-09-26 18:08:07.798] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:08:07.800] [INFO] console - isibsbsb { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-26T10:07:22.344Z,
     enable: true,
     power: 1,
     cards: 0 } }
[2017-09-26 18:08:07.818] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0a3dcfcd39c2f195a1d5c6f88fe23f4d',
  cards: 0 } false
[2017-09-26 18:08:07.819] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=vZ9-e6Ut2bad3av9gxN6BI3jtY0y7R-3hl-M3y8L10U&state=1288Aa&_v=0[39m [32m200[39m [90m699ms[39m [90m163b[39m
[2017-09-26 18:08:12.404] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=40000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0a3dcfcd39c2f195a1d5c6f88fe23f4d&_v=1[39m
[2017-09-26 18:08:12.405] [INFO] console -   [31mxxx[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=40000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0a3dcfcd39c2f195a1d5c6f88fe23f4d&_v=1[39m [31m500[39m [90m1ms[39m [90m-[39m
[2017-09-26 18:08:12.419] [ERROR] console - 
[2017-09-26 18:08:12.420] [ERROR] console -   ReferenceError: userCache is not defined
      at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:42:11)
      at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
      at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
      at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
      at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
      at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
      at /Users/zyg/optimization/pay/utils/wrapRoute.js:6:3
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
      at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
      at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at logger (/Users/zyg/optimization/pay/node_modules/.2.0.1@koa-logger/index.js:50:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at filter (/Users/zyg/optimization/pay/node_modules/.2.0.2@koa-json/index.js:25:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
[2017-09-26 18:08:12.420] [ERROR] console - 
[2017-09-26 18:08:37.876] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:08:37.881] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:08:37.891] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:08:37.921] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:08:40.317] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=gj9qYMD4O0T1NgSfPIy85JfqgJCGFLE3-4meyXpch9M&state=1288Aa&_v=0[39m
[2017-09-26 18:08:41.133] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:08:41.140] [INFO] console - isibsbsb { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  login: 2017-09-26T10:08:07.802Z,
  enable: true,
  power: 1,
  cards: 0 }
[2017-09-26 18:08:41.143] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:45:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:08:41.164] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:08:41.167] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=gj9qYMD4O0T1NgSfPIy85JfqgJCGFLE3-4meyXpch9M&state=1288Aa&_v=0[39m [32m200[39m [90m849ms[39m [90m12b[39m
[2017-09-26 18:08:44.134] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=IgcFpWHe1ZoSrW72Y9X1lU3WHI8vDefXyt2dp-OIJmY&state=1288Aa&_v=0[39m
[2017-09-26 18:08:44.758] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:08:44.759] [INFO] console - isibsbsb { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-26T10:08:07.802Z,
     enable: true,
     power: 1,
     cards: 0 } }
[2017-09-26 18:08:44.776] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff',
  cards: 0 } false
[2017-09-26 18:08:44.778] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=IgcFpWHe1ZoSrW72Y9X1lU3WHI8vDefXyt2dp-OIJmY&state=1288Aa&_v=0[39m [32m200[39m [90m644ms[39m [90m163b[39m
[2017-09-26 18:08:51.612] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=1[39m
[2017-09-26 18:08:51.613] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:08:51.614] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=1[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:09:05.253] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=2[39m
[2017-09-26 18:09:05.255] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:09:05.258] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=2[39m [32m200[39m [90m5ms[39m [90m12b[39m
[2017-09-26 18:09:12.676] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10002&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=3[39m
[2017-09-26 18:09:12.698] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:09:12.700] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10002&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=3[39m [32m200[39m [90m24ms[39m [90m12b[39m
[2017-09-26 18:09:23.961] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=4[39m
[2017-09-26 18:09:23.966] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:09:23.970] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=4[39m [32m200[39m [90m9ms[39m [90m12b[39m
[2017-09-26 18:09:28.055] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10001&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=5[39m
[2017-09-26 18:09:28.060] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:09:28.064] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10001&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff&_v=5[39m [32m200[39m [90m9ms[39m [90m12b[39m
[2017-09-26 18:10:06.143] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=VYvZlBz-Raz0cC4omyOUnN9FniMeGK5Wvhsi3Tzi7GQ&state=1288Aa&_v=0[39m
[2017-09-26 18:10:06.815] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:10:06.817] [INFO] console - isibsbsb { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-26T10:08:44.761Z,
     enable: true,
     power: 1,
     cards: 0 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f310b276270effc0ed810990618f515ff' }
[2017-09-26 18:10:06.821] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5c85fc9fb15c4cbf5659b0ae4ef6b76f',
  cards: 0 } false
[2017-09-26 18:10:06.824] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=VYvZlBz-Raz0cC4omyOUnN9FniMeGK5Wvhsi3Tzi7GQ&state=1288Aa&_v=0[39m [32m200[39m [90m681ms[39m [90m163b[39m
[2017-09-26 18:10:27.833] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=vdLFaicBCSpwnXFAyHUp5Ic8f6nZ5To5IjdZx1ocbhg&state=1288Aa&_v=0[39m
[2017-09-26 18:10:28.703] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:10:28.704] [INFO] console - isibsbsb { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-26T10:10:06.818Z,
     enable: true,
     power: 1,
     cards: 0 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5c85fc9fb15c4cbf5659b0ae4ef6b76f' }
[2017-09-26 18:10:28.708] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9d1bbe27ec29cfda99391b3804d707a1',
  cards: 0 } false
[2017-09-26 18:10:28.710] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=vdLFaicBCSpwnXFAyHUp5Ic8f6nZ5To5IjdZx1ocbhg&state=1288Aa&_v=0[39m [32m200[39m [90m877ms[39m [90m163b[39m
[2017-09-26 18:10:38.016] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:11:46.246] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Q08CzP-go0pYyRgsBYaZgpJLJRiudI71Omj_zbtIrPE&state=1288Aa&_v=0[39m
[2017-09-26 18:11:47.193] [INFO] console - cfdf { errcode: 0,
  errmsg: 'ok',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0' }
[2017-09-26 18:11:47.194] [INFO] console - isibsbsb { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-26T10:10:28.706Z,
     enable: true,
     power: 1,
     cards: 0 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9d1bbe27ec29cfda99391b3804d707a1' }
[2017-09-26 18:11:47.198] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fb5dfc37b1024a16ae7a67d42aa86073f',
  cards: 0 } false
[2017-09-26 18:11:47.200] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Q08CzP-go0pYyRgsBYaZgpJLJRiudI71Omj_zbtIrPE&state=1288Aa&_v=0[39m [32m200[39m [90m954ms[39m [90m163b[39m
[2017-09-26 18:12:54.930] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:12:54.934] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:12:54.942] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:12:54.966] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:12:55.498] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=I9kZaRmQcg4U6gbCtZP0FAEZCykWfe_NKLwVBJEhG08&state=1288Aa&_v=0[39m
[2017-09-26 18:12:56.376] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:12:56.392] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:12:56.395] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=I9kZaRmQcg4U6gbCtZP0FAEZCykWfe_NKLwVBJEhG08&state=1288Aa&_v=0[39m [32m200[39m [90m897ms[39m [90m12b[39m
[2017-09-26 18:12:58.858] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=bz2JmGEsRsv9Gjc-iC4GGSi5H1Ro3-u7Mzp5nGBnDe4&state=1288Aa&_v=0[39m
[2017-09-26 18:12:59.566] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7c2abfe971caf41ac5e9cd502f4f0eda',
  cards: 0 } false
[2017-09-26 18:12:59.567] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=bz2JmGEsRsv9Gjc-iC4GGSi5H1Ro3-u7Mzp5nGBnDe4&state=1288Aa&_v=0[39m [32m200[39m [90m710ms[39m [90m163b[39m
[2017-09-26 18:13:18.716] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=PqO9L1MUe5KkV2pPjj85tcQghQpFUC3Oy_RJe768WPo&state=1288Aa&_v=0[39m
[2017-09-26 18:13:19.441] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd61a8a10d66f4f332888a32957270323',
  cards: 0 } false
[2017-09-26 18:13:19.442] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=PqO9L1MUe5KkV2pPjj85tcQghQpFUC3Oy_RJe768WPo&state=1288Aa&_v=0[39m [32m200[39m [90m726ms[39m [90m163b[39m
[2017-09-26 18:13:23.684] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd61a8a10d66f4f332888a32957270323&_v=1[39m
[2017-09-26 18:13:23.686] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:13:23.688] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd61a8a10d66f4f332888a32957270323&_v=1[39m [32m200[39m [90m4ms[39m [90m12b[39m
[2017-09-26 18:14:16.243] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:14:16.248] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:14:16.256] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:14:16.284] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:14:41.349] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd61a8a10d66f4f332888a32957270323&_v=2[39m
[2017-09-26 18:14:41.353] [INFO] console - enter====> client { code: 503, v: undefined } false
[2017-09-26 18:14:41.359] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd61a8a10d66f4f332888a32957270323&_v=2[39m [32m200[39m [90m10ms[39m [90m12b[39m
[2017-09-26 18:16:02.298] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:16:02.303] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:16:02.326] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:16:02.375] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:16:04.123] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=DvD1qAHo5cdQZ0hmfHqNdSVqako3gDim-fNpjIB39wk&state=1288Aa&_v=0[39m
[2017-09-26 18:16:04.838] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:16:04.854] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:16:04.857] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=DvD1qAHo5cdQZ0hmfHqNdSVqako3gDim-fNpjIB39wk&state=1288Aa&_v=0[39m [32m200[39m [90m736ms[39m [90m12b[39m
[2017-09-26 18:16:07.971] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Fv_kIc2B70LO42mbVvDcdsKg2evLCVYZyHjDNXLkrDk&state=1288Aa&_v=0[39m
[2017-09-26 18:16:08.662] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9ab3995e5e19df7212ef51a838bcfd27',
  cards: 0 } false
[2017-09-26 18:16:08.663] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Fv_kIc2B70LO42mbVvDcdsKg2evLCVYZyHjDNXLkrDk&state=1288Aa&_v=0[39m [32m200[39m [90m692ms[39m [90m163b[39m
[2017-09-26 18:16:11.122] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9ab3995e5e19df7212ef51a838bcfd27&_v=1[39m
[2017-09-26 18:16:11.123] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:16:11.126] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9ab3995e5e19df7212ef51a838bcfd27&_v=1[39m [32m200[39m [90m4ms[39m [90m12b[39m
[2017-09-26 18:16:35.022] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:16:35.028] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:16:35.035] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:16:35.068] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:16:36.232] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=FTBIlC54Xdqmd6CMLMqFNoN0oGjEpHmbYelJL9E6C0k&state=1288Aa&_v=0[39m
[2017-09-26 18:16:37.008] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:16:37.021] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:16:37.024] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=FTBIlC54Xdqmd6CMLMqFNoN0oGjEpHmbYelJL9E6C0k&state=1288Aa&_v=0[39m [32m200[39m [90m792ms[39m [90m12b[39m
[2017-09-26 18:16:40.489] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=vSPcuCfXlRstl6KlcYvCUvcy3-x2fy35XaYi8mwTVI0&state=1288Aa&_v=0[39m
[2017-09-26 18:16:41.148] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fc917b6dfd4421327ac3358e7e59c13c0',
  cards: 0 } false
[2017-09-26 18:16:41.150] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=vSPcuCfXlRstl6KlcYvCUvcy3-x2fy35XaYi8mwTVI0&state=1288Aa&_v=0[39m [32m200[39m [90m661ms[39m [90m163b[39m
[2017-09-26 18:16:44.000] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fc917b6dfd4421327ac3358e7e59c13c0&_v=1[39m
[2017-09-26 18:16:44.000] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:16:44.002] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fc917b6dfd4421327ac3358e7e59c13c0&_v=1[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:17:02.647] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:17:02.656] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:17:02.667] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:17:02.706] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:17:04.577] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=acgpFACui0JmaFnybOPqUBtHahPoVtic5jX7V4ZPjpk&state=1288Aa&_v=0[39m
[2017-09-26 18:17:05.244] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:17:05.263] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:17:05.265] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=acgpFACui0JmaFnybOPqUBtHahPoVtic5jX7V4ZPjpk&state=1288Aa&_v=0[39m [32m200[39m [90m689ms[39m [90m12b[39m
[2017-09-26 18:17:08.757] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Li9nnL1urbq7NB5uwjh_ZKaQdPkWYb8xuZOsEqraDy0&state=1288Aa&_v=0[39m
[2017-09-26 18:17:09.436] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1726df33e431c11b0641b55077aa878f',
  cards: 0 } false
[2017-09-26 18:17:09.437] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Li9nnL1urbq7NB5uwjh_ZKaQdPkWYb8xuZOsEqraDy0&state=1288Aa&_v=0[39m [32m200[39m [90m680ms[39m [90m163b[39m
[2017-09-26 18:17:11.594] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=28000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1726df33e431c11b0641b55077aa878f&_v=1[39m
[2017-09-26 18:17:11.595] [INFO] console - hooaaoaolaji322222
[2017-09-26 18:17:11.595] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:17:11.597] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=28000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1726df33e431c11b0641b55077aa878f&_v=1[39m [32m200[39m [90m4ms[39m [90m12b[39m
[2017-09-26 18:17:32.273] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:17:32.280] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:17:32.294] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:17:32.330] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:17:34.478] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=bWVscFtJpXgLUNWyvVCGsyfbJwtrHW-2CmR5c-edR6c&state=1288Aa&_v=0[39m
[2017-09-26 18:17:35.238] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:17:35.254] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:17:35.257] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=bWVscFtJpXgLUNWyvVCGsyfbJwtrHW-2CmR5c-edR6c&state=1288Aa&_v=0[39m [32m200[39m [90m780ms[39m [90m12b[39m
[2017-09-26 18:17:38.387] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=-2bBbYQkzz48gf0m6_LG-DgOahmwH2kMVlCxxFskUvk&state=1288Aa&_v=0[39m
[2017-09-26 18:17:39.049] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fff218c6ea026bb78cfaafd387a27a3',
  cards: 0 } false
[2017-09-26 18:17:39.051] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=-2bBbYQkzz48gf0m6_LG-DgOahmwH2kMVlCxxFskUvk&state=1288Aa&_v=0[39m [32m200[39m [90m664ms[39m [90m163b[39m
[2017-09-26 18:17:41.473] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fff218c6ea026bb78cfaafd387a27a3&_v=1[39m
[2017-09-26 18:17:41.474] [INFO] console - hooaaoaolaji322222 undefined a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fff218c6ea026bb78cfaafd387a27a3
[2017-09-26 18:17:41.474] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:17:41.476] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fff218c6ea026bb78cfaafd387a27a3&_v=1[39m [32m200[39m [90m3ms[39m [90m12b[39m
[2017-09-26 18:19:32.408] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:21:27.684] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:21:27.692] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:21:27.711] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:21:27.749] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:22:29.145] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:22:29.153] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:22:29.167] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:22:29.195] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:23:55.434] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:23:55.442] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:23:55.451] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:23:55.485] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:23:57.806] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:23:57.814] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:23:57.836] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:23:57.883] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:24:21.067] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:24:21.072] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:24:21.081] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:24:21.116] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:24:24.318] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fff218c6ea026bb78cfaafd387a27a3&_v=3[39m
[2017-09-26 18:24:24.321] [INFO] console - hooaaoaolaji
[2017-09-26 18:24:24.322] [INFO] console - enter====> client { code: 503, v: undefined } false
[2017-09-26 18:24:24.328] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fff218c6ea026bb78cfaafd387a27a3&_v=3[39m [32m200[39m [90m10ms[39m [90m12b[39m
[2017-09-26 18:24:25.875] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=8gBZxEZbHy0q3upGElUtkGANPTMvdDzo4nx1wXWVKeo&state=1288Aa&_v=0[39m
[2017-09-26 18:24:26.557] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:24:26.574] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:24:26.575] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=8gBZxEZbHy0q3upGElUtkGANPTMvdDzo4nx1wXWVKeo&state=1288Aa&_v=0[39m [32m200[39m [90m700ms[39m [90m12b[39m
[2017-09-26 18:24:28.852] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=W8Qy8lo_T7xrgNbhuCIoHXOBVvP7vQpd1ChbtWiqy1I&state=1288Aa&_v=0[39m
[2017-09-26 18:24:29.509] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5ff60687a33b46787f4f9259b04dcb6b',
  cards: 0 } false
[2017-09-26 18:24:29.510] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=W8Qy8lo_T7xrgNbhuCIoHXOBVvP7vQpd1ChbtWiqy1I&state=1288Aa&_v=0[39m [32m200[39m [90m658ms[39m [90m163b[39m
[2017-09-26 18:24:47.137] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5ff60687a33b46787f4f9259b04dcb6b&_v=1[39m
[2017-09-26 18:24:47.156] [INFO] console - hooaaoaolaji322222 undefined a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5ff60687a33b46787f4f9259b04dcb6b
[2017-09-26 18:24:47.156] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:24:47.158] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5ff60687a33b46787f4f9259b04dcb6b&_v=1[39m [32m200[39m [90m21ms[39m [90m12b[39m
[2017-09-26 18:25:07.199] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:25:07.205] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:25:07.216] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:25:07.245] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:25:09.007] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=0Q-55PKWssvVNMIfSYg4g5BFuGpp1jTxX778pP5jAK0&state=1288Aa&_v=0[39m
[2017-09-26 18:25:09.776] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:25:09.791] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:25:09.794] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=0Q-55PKWssvVNMIfSYg4g5BFuGpp1jTxX778pP5jAK0&state=1288Aa&_v=0[39m [32m200[39m [90m787ms[39m [90m12b[39m
[2017-09-26 18:25:12.765] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=jQRT1eV6Biw68XQz-gCB7W2kaF6bzj_l0ApGfxZF_Bw&state=1288Aa&_v=0[39m
[2017-09-26 18:25:13.490] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe316353193df5c06036897d2afa4d3ae',
  cards: 0 } false
[2017-09-26 18:25:13.491] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=jQRT1eV6Biw68XQz-gCB7W2kaF6bzj_l0ApGfxZF_Bw&state=1288Aa&_v=0[39m [32m200[39m [90m726ms[39m [90m163b[39m
[2017-09-26 18:25:16.552] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10002&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe316353193df5c06036897d2afa4d3ae&_v=1[39m
[2017-09-26 18:25:16.553] [INFO] console - hooaaoaolaji322222 {} a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe316353193df5c06036897d2afa4d3ae
[2017-09-26 18:25:16.553] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:25:16.554] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10002&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe316353193df5c06036897d2afa4d3ae&_v=1[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:25:41.389] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:25:41.399] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:25:41.410] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:25:41.451] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:25:43.057] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=HK18t5sCqiT28wO6AwbtQEMzwh36qYw0xg5u2hv3In0&state=1288Aa&_v=0[39m
[2017-09-26 18:25:43.829] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:25:43.843] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:25:43.846] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=HK18t5sCqiT28wO6AwbtQEMzwh36qYw0xg5u2hv3In0&state=1288Aa&_v=0[39m [32m200[39m [90m789ms[39m [90m12b[39m
[2017-09-26 18:25:46.075] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=bgyE-0ICWBduEK9yads9noN8b5rwXAlLBqo8OhxaVHg&state=1288Aa&_v=0[39m
[2017-09-26 18:25:46.789] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f7673cccc7ef360e943d59ace9282b7',
  cards: 0 } false
[2017-09-26 18:25:46.790] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=bgyE-0ICWBduEK9yads9noN8b5rwXAlLBqo8OhxaVHg&state=1288Aa&_v=0[39m [32m200[39m [90m715ms[39m [90m163b[39m
[2017-09-26 18:25:54.904] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=20000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f7673cccc7ef360e943d59ace9282b7&_v=1[39m
[2017-09-26 18:25:54.905] [INFO] console - hooaaoaolaji322222 {} a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f7673cccc7ef360e943d59ace9282b7
[2017-09-26 18:25:54.905] [INFO] console - enter====> client { code: 500 } false
[2017-09-26 18:25:54.907] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=20000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f7673cccc7ef360e943d59ace9282b7&_v=1[39m [32m200[39m [90m3ms[39m [90m12b[39m
[2017-09-26 18:25:56.076] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=PnXCRZF0WXY9fdpsyb56ubVhFFmR4192CgDmtezPhJQ&state=1288Aa&_v=0[39m
[2017-09-26 18:25:56.767] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f71513ccfe6d7c54554402288924e665d',
  cards: 0 } false
[2017-09-26 18:25:56.767] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=PnXCRZF0WXY9fdpsyb56ubVhFFmR4192CgDmtezPhJQ&state=1288Aa&_v=0[39m [32m200[39m [90m691ms[39m [90m163b[39m
[2017-09-26 18:26:10.359] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=7dIDtcpk6pHhuoZZLRZs60aNGoy5uONBwsfz374f1W4&state=1288Aa&_v=0[39m
[2017-09-26 18:26:11.095] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd9e50f634181ef42fc0052af94d0ff46',
  cards: 0 } false
[2017-09-26 18:26:11.096] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=7dIDtcpk6pHhuoZZLRZs60aNGoy5uONBwsfz374f1W4&state=1288Aa&_v=0[39m [32m200[39m [90m738ms[39m [90m163b[39m
[2017-09-26 18:27:41.419] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:27:41.665] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=C_mCfnVX5QPMesijKD_dWzOHheW2E-_jJ5WShrtkr7k&state=1288Aa&_v=0[39m
[2017-09-26 18:27:42.275] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131faf10f7b23f4bb28e23b7375436175c00',
  cards: 0 } false
[2017-09-26 18:27:42.276] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=C_mCfnVX5QPMesijKD_dWzOHheW2E-_jJ5WShrtkr7k&state=1288Aa&_v=0[39m [32m200[39m [90m611ms[39m [90m163b[39m
[2017-09-26 18:27:48.005] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=o3AU7nrd4VT-pkDrL2kJYB_6sa7W88H_rLy9llSVSck&state=1288Aa&_v=0[39m
[2017-09-26 18:27:48.652] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f95907bdf0c0a1595863621a99414289c',
  cards: 0 } false
[2017-09-26 18:27:48.653] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=o3AU7nrd4VT-pkDrL2kJYB_6sa7W88H_rLy9llSVSck&state=1288Aa&_v=0[39m [32m200[39m [90m648ms[39m [90m163b[39m
[2017-09-26 18:27:54.408] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=bb9ddDV8FemtwkviCzWWRHEm3dNcahs8OUSCUNfMmK8&state=1288Aa&_v=0[39m
[2017-09-26 18:27:55.173] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f029929a2fdeaa3eacc3563d0d64123f2',
  cards: 0 } false
[2017-09-26 18:27:55.174] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=bb9ddDV8FemtwkviCzWWRHEm3dNcahs8OUSCUNfMmK8&state=1288Aa&_v=0[39m [32m200[39m [90m766ms[39m [90m163b[39m
[2017-09-26 18:35:26.702] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:35:26.708] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:35:26.718] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:35:26.766] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:37:01.195] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:37:01.203] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:37:01.216] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:37:01.252] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:37:57.888] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=sRitLkSJb7sO4fFEXt76aB3Y42YxUpH2eiFRP10DLig&state=1288Aa&_v=0[39m
[2017-09-26 18:37:58.737] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:37:58.757] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:37:58.760] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=sRitLkSJb7sO4fFEXt76aB3Y42YxUpH2eiFRP10DLig&state=1288Aa&_v=0[39m [32m200[39m [90m873ms[39m [90m12b[39m
[2017-09-26 18:38:01.852] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=jSsshza9-IXUwMbUI4p9zVJ2HZP0dyffGJBMmjVNSi4&state=1288Aa&_v=0[39m
[2017-09-26 18:38:02.630] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f03b4c233d486432868db264cb5c4d704',
  cards: 0 } false
[2017-09-26 18:38:02.632] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=jSsshza9-IXUwMbUI4p9zVJ2HZP0dyffGJBMmjVNSi4&state=1288Aa&_v=0[39m [32m200[39m [90m780ms[39m [90m163b[39m
[2017-09-26 18:38:09.171] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f03b4c233d486432868db264cb5c4d704&_v=1[39m
[2017-09-26 18:38:09.171] [INFO] console -   [31mxxx[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=30000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f03b4c233d486432868db264cb5c4d704&_v=1[39m [31m500[39m [90m0ms[39m [90m-[39m
[2017-09-26 18:38:09.202] [ERROR] console - 
[2017-09-26 18:38:09.203] [ERROR] console -   ReferenceError: userManager is not defined
      at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:52:20)
      at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
      at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
      at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
      at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
      at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
      at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
      at /Users/zyg/optimization/pay/utils/wrapRoute.js:7:3
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
      at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
      at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
      at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
      at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at logger (/Users/zyg/optimization/pay/node_modules/.2.0.1@koa-logger/index.js:50:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
      at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
      at filter (/Users/zyg/optimization/pay/node_modules/.2.0.2@koa-json/index.js:25:12)
      at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
[2017-09-26 18:38:09.207] [ERROR] console - 
[2017-09-26 18:39:01.259] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:39:24.697] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:39:24.703] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:39:24.715] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:39:24.757] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:39:24.766] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 18:39:24.771] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:39:24.791] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:39:24.829] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:39:28.772] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=0t36W_R7KuxzFdDLXOtn8jsQzrtFXg-N-LZ3ixcXnK8&state=1288Aa&_v=0[39m
[2017-09-26 18:39:29.609] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:39:29.623] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:39:29.626] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=0t36W_R7KuxzFdDLXOtn8jsQzrtFXg-N-LZ3ixcXnK8&state=1288Aa&_v=0[39m [32m200[39m [90m853ms[39m [90m12b[39m
[2017-09-26 18:39:32.830] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=X7KbM8rrQq0NnxnjzfCjqAdON9zrN0u_A6qWsmh68As&state=1288Aa&_v=0[39m
[2017-09-26 18:39:33.565] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42',
  cards: 0 } false
[2017-09-26 18:39:33.566] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=X7KbM8rrQq0NnxnjzfCjqAdON9zrN0u_A6qWsmh68As&state=1288Aa&_v=0[39m [32m200[39m [90m736ms[39m [90m163b[39m
[2017-09-26 18:39:36.666] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=20000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=1[39m
[2017-09-26 18:39:36.667] [INFO] console - enter===>
[2017-09-26 18:39:36.668] [INFO] console - juuiiiid 20000
[2017-09-26 18:39:36.673] [INFO] console - enter===>22 { code: 507 }
[2017-09-26 18:39:36.674] [INFO] console - enter====> client { code: 507 } false
[2017-09-26 18:39:36.674] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=20000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=1[39m [32m200[39m [90m8ms[39m [90m12b[39m
[2017-09-26 18:39:48.231] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=2[39m
[2017-09-26 18:39:48.233] [INFO] console - enter===>
[2017-09-26 18:39:48.233] [INFO] console - juuiiiid 10000
[2017-09-26 18:39:48.238] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:39:48.240] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=2[39m [32m200[39m [90m9ms[39m [90m26b[39m
[2017-09-26 18:39:54.133] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=200&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=3[39m
[2017-09-26 18:39:54.133] [INFO] console - enter===>
[2017-09-26 18:39:54.135] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:39:54.135] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:39:54.136] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=200&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=3[39m [32m200[39m [90m4ms[39m [90m12b[39m
[2017-09-26 18:39:55.669] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=200&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=4[39m
[2017-09-26 18:39:55.687] [INFO] console - enter===>
[2017-09-26 18:39:55.689] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:39:55.689] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:39:55.691] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=200&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=4[39m [32m200[39m [90m22ms[39m [90m12b[39m
[2017-09-26 18:39:59.718] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=200&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=5[39m
[2017-09-26 18:39:59.718] [INFO] console - enter===>
[2017-09-26 18:39:59.719] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:39:59.719] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:39:59.720] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=200&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=5[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:40:06.855] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=100&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=6[39m
[2017-09-26 18:40:06.855] [INFO] console - enter===>
[2017-09-26 18:40:06.856] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:40:06.856] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:40:06.857] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=100&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f27a5feff80b752d7b030520b02d70c42&_v=6[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:41:24.743] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:41:26.840] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 18:41:26.845] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:41:26.860] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:41:26.894] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:41:29.292] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=BCn3DNi-552EIw3L_ShJzntYpnufkZb1-9LJyKDOqQ0&state=1288Aa&_v=0[39m
[2017-09-26 18:41:29.921] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6',
  cards: 0 } false
[2017-09-26 18:41:29.921] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=BCn3DNi-552EIw3L_ShJzntYpnufkZb1-9LJyKDOqQ0&state=1288Aa&_v=0[39m [32m200[39m [90m629ms[39m [90m163b[39m
[2017-09-26 18:41:33.021] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=1[39m
[2017-09-26 18:41:33.022] [INFO] console - enter===>
[2017-09-26 18:41:33.022] [INFO] console - juuiiiid 10000
[2017-09-26 18:41:33.022] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 18:41:33.022] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:41:33.023] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=1[39m [32m200[39m [90m2ms[39m [90m26b[39m
[2017-09-26 18:41:37.523] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=2[39m
[2017-09-26 18:41:37.524] [INFO] console - enter===>
[2017-09-26 18:41:37.524] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:41:37.525] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:41:37.525] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=2[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:41:40.081] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=3[39m
[2017-09-26 18:41:40.082] [INFO] console - enter===>
[2017-09-26 18:41:40.083] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:41:40.084] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:41:40.085] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=3[39m [32m200[39m [90m3ms[39m [90m12b[39m
[2017-09-26 18:41:41.208] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=4[39m
[2017-09-26 18:41:41.209] [INFO] console - enter===>
[2017-09-26 18:41:41.209] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:41:41.211] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:41:41.212] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=4[39m [32m200[39m [90m4ms[39m [90m12b[39m
[2017-09-26 18:41:45.300] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=5[39m
[2017-09-26 18:41:45.301] [INFO] console - enter===>
[2017-09-26 18:41:45.301] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:41:45.302] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:41:45.302] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=5[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:41:46.119] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=6[39m
[2017-09-26 18:41:46.120] [INFO] console - enter====> client { code: 511 } false
[2017-09-26 18:41:46.121] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=6[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:41:48.473] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=7[39m
[2017-09-26 18:41:48.473] [INFO] console - enter===>
[2017-09-26 18:41:48.475] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:41:48.476] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:41:48.477] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=7[39m [32m200[39m [90m5ms[39m [90m12b[39m
[2017-09-26 18:41:49.598] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=8[39m
[2017-09-26 18:41:49.598] [INFO] console - enter===>
[2017-09-26 18:41:49.599] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:41:49.599] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:41:49.600] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=8[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:41:50.315] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=9[39m
[2017-09-26 18:41:50.316] [INFO] console - enter====> client { code: 511 } false
[2017-09-26 18:41:50.316] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=9[39m [32m200[39m [90m1ms[39m [90m12b[39m
[2017-09-26 18:41:52.566] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=10[39m
[2017-09-26 18:41:52.566] [INFO] console - enter===>
[2017-09-26 18:41:52.566] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:41:52.567] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:41:52.567] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=10[39m [32m200[39m [90m1ms[39m [90m12b[39m
[2017-09-26 18:41:53.794] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=11[39m
[2017-09-26 18:41:53.795] [INFO] console - enter===>
[2017-09-26 18:41:53.795] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:41:53.795] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:41:53.796] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f14a48f6fe785b71751f014d62f7948f6&_v=11[39m [32m200[39m [90m2ms[39m [90m12b[39m
[2017-09-26 18:43:07.097] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:43:07.105] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:43:07.120] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:43:07.169] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:43:09.091] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=iA0J1sxQa2JO49_02JToOBpI4QGZuI2dUWJ0pVgZ6vg&state=1288Aa&_v=0[39m
[2017-09-26 18:43:10.036] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:43:10.050] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:43:10.053] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=iA0J1sxQa2JO49_02JToOBpI4QGZuI2dUWJ0pVgZ6vg&state=1288Aa&_v=0[39m [32m200[39m [90m962ms[39m [90m12b[39m
[2017-09-26 18:43:13.860] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=K2VvE5Twtxfv_wEHHsorYzi8FdOURkDyxF6qkcVufkg&state=1288Aa&_v=0[39m
[2017-09-26 18:43:14.645] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe02e7d2c9a15164d79e87f4b9eaa7eec',
  cards: 0 } false
[2017-09-26 18:43:14.646] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=K2VvE5Twtxfv_wEHHsorYzi8FdOURkDyxF6qkcVufkg&state=1288Aa&_v=0[39m [32m200[39m [90m786ms[39m [90m163b[39m
[2017-09-26 18:43:21.391] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe02e7d2c9a15164d79e87f4b9eaa7eec&_v=1[39m
[2017-09-26 18:43:21.392] [INFO] console - enter===>
[2017-09-26 18:43:21.393] [INFO] console - juuiiiid 10000
[2017-09-26 18:43:21.397] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:43:21.399] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe02e7d2c9a15164d79e87f4b9eaa7eec&_v=1[39m [32m200[39m [90m8ms[39m [90m26b[39m
[2017-09-26 18:43:26.071] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe02e7d2c9a15164d79e87f4b9eaa7eec&_v=2[39m
[2017-09-26 18:43:26.071] [INFO] console - enter===>
[2017-09-26 18:43:26.072] [INFO] console - numb=================>er
[2017-09-26 18:43:26.074] [INFO] console - enter===>22 { code: 506 }
[2017-09-26 18:43:26.074] [INFO] console - enter====> client { code: 506 } false
[2017-09-26 18:43:26.075] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe02e7d2c9a15164d79e87f4b9eaa7eec&_v=2[39m [32m200[39m [90m4ms[39m [90m12b[39m
[2017-09-26 18:44:35.947] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=2axy9OI_Ra87xD0w65t3MDISnRSfgdgZDIZBLyyll8Q&state=1288Aa&_v=0[39m
[2017-09-26 18:44:36.712] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcb1b0a2d03c63bbe6a7413ac5149656a',
  cards: 0 } false
[2017-09-26 18:44:36.713] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=2axy9OI_Ra87xD0w65t3MDISnRSfgdgZDIZBLyyll8Q&state=1288Aa&_v=0[39m [32m200[39m [90m767ms[39m [90m163b[39m
[2017-09-26 18:44:59.121] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:44:59.128] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:44:59.140] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:44:59.167] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:45:02.065] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=NhZ5qEwlTMj_tQ-8Zsaf93UI3_sKcs-Z2o6qEDCPILU&state=1288Aa&_v=0[39m
[2017-09-26 18:45:03.012] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:45:03.026] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:45:03.029] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=NhZ5qEwlTMj_tQ-8Zsaf93UI3_sKcs-Z2o6qEDCPILU&state=1288Aa&_v=0[39m [32m200[39m [90m965ms[39m [90m12b[39m
[2017-09-26 18:45:06.328] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=XhWNGd3nRUQrxfpK93BrSNbb62qE8ieINzO1c_pwNwE&state=1288Aa&_v=0[39m
[2017-09-26 18:45:07.003] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9879978eb511c2c3cc6f258c692f07c0',
  cards: 10000 } false
[2017-09-26 18:45:07.004] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=XhWNGd3nRUQrxfpK93BrSNbb62qE8ieINzO1c_pwNwE&state=1288Aa&_v=0[39m [32m200[39m [90m676ms[39m [90m167b[39m
[2017-09-26 18:45:11.879] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9879978eb511c2c3cc6f258c692f07c0&_v=1[39m
[2017-09-26 18:45:11.879] [INFO] console - enter===>
[2017-09-26 18:45:11.880] [INFO] console - juuiiiid 10000
[2017-09-26 18:45:11.888] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:45:11.889] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9879978eb511c2c3cc6f258c692f07c0&_v=1[39m [32m200[39m [90m11ms[39m [90m26b[39m
[2017-09-26 18:45:16.620] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9879978eb511c2c3cc6f258c692f07c0&_v=2[39m
[2017-09-26 18:45:16.623] [INFO] console - enter===>
[2017-09-26 18:45:16.626] [INFO] console - numb=================>er
[2017-09-26 18:45:16.628] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: (0 , _nodeFetch2.default)(...).json is not a function
    at _callee6$ (/Users/zyg/optimization/pay/controllers/wechat.js:235:65)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 18:45:16.630] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 18:45:16.630] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 18:45:16.631] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9879978eb511c2c3cc6f258c692f07c0&_v=2[39m [32m200[39m [90m11ms[39m [90m12b[39m
[2017-09-26 18:46:03.187] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:46:03.194] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:46:03.203] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:46:03.235] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:46:04.712] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=VizxonK8-Lg7CQMQoLA4rLT0P-Rw7lkq1ThPwI0wTAI&state=1288Aa&_v=0[39m
[2017-09-26 18:46:05.541] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:46:05.555] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:46:05.558] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=VizxonK8-Lg7CQMQoLA4rLT0P-Rw7lkq1ThPwI0wTAI&state=1288Aa&_v=0[39m [32m200[39m [90m846ms[39m [90m12b[39m
[2017-09-26 18:46:08.985] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Fg2WMY-QiTqDtaK6fbHqt7nU8wFhx8l8dpN-SWwEv8A&state=1288Aa&_v=0[39m
[2017-09-26 18:46:09.801] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f80121e3012ecbeb0e48283c002b786bc',
  cards: 10000 } false
[2017-09-26 18:46:09.802] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Fg2WMY-QiTqDtaK6fbHqt7nU8wFhx8l8dpN-SWwEv8A&state=1288Aa&_v=0[39m [32m200[39m [90m817ms[39m [90m167b[39m
[2017-09-26 18:46:16.178] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f80121e3012ecbeb0e48283c002b786bc&_v=1[39m
[2017-09-26 18:46:16.178] [INFO] console - enter===>
[2017-09-26 18:46:16.179] [INFO] console - juuiiiid 10000
[2017-09-26 18:46:16.184] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:46:16.185] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f80121e3012ecbeb0e48283c002b786bc&_v=1[39m [32m200[39m [90m7ms[39m [90m26b[39m
[2017-09-26 18:46:19.352] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f80121e3012ecbeb0e48283c002b786bc&_v=2[39m
[2017-09-26 18:46:19.352] [INFO] console - enter===>
[2017-09-26 18:46:19.354] [INFO] console - numb=================>er
[2017-09-26 18:48:04.084] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:48:04.094] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:48:04.104] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:48:04.143] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:48:04.404] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=1T3lXCoHyqJGI29hMD5OonYt6EJMly3Oy2KplkJ94EE&state=1288Aa&_v=0[39m
[2017-09-26 18:48:05.166] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:48:05.188] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:48:05.192] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=1T3lXCoHyqJGI29hMD5OonYt6EJMly3Oy2KplkJ94EE&state=1288Aa&_v=0[39m [32m200[39m [90m788ms[39m [90m12b[39m
[2017-09-26 18:48:07.460] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=FJDbq3tDaVjJaaPasIU0YtI161ECrP6get-ACbbz_yw&state=1288Aa&_v=0[39m
[2017-09-26 18:48:08.139] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f645f8f11959edd20827e3992e222c02f',
  cards: 10000 } false
[2017-09-26 18:48:08.140] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=FJDbq3tDaVjJaaPasIU0YtI161ECrP6get-ACbbz_yw&state=1288Aa&_v=0[39m [32m200[39m [90m680ms[39m [90m167b[39m
[2017-09-26 18:48:12.838] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f645f8f11959edd20827e3992e222c02f&_v=1[39m
[2017-09-26 18:48:12.838] [INFO] console - enter===>
[2017-09-26 18:48:12.841] [INFO] console - juuiiiid 10000
[2017-09-26 18:48:12.847] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:48:12.848] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f645f8f11959edd20827e3992e222c02f&_v=1[39m [32m200[39m [90m10ms[39m [90m26b[39m
[2017-09-26 18:48:16.726] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f645f8f11959edd20827e3992e222c02f&_v=2[39m
[2017-09-26 18:48:16.728] [INFO] console - enter===>
[2017-09-26 18:48:16.729] [INFO] console - numb=================>er
[2017-09-26 18:48:16.729] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=20
[2017-09-26 18:49:43.879] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:49:43.888] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:49:43.902] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:49:43.944] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:49:43.969] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 18:49:43.975] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:49:43.995] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:49:44.025] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:49:45.665] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=XtXPcQwjgAga3Wi1InV-FLBXFNdUhs45mdykeZ7MEm4&state=1288Aa&_v=0[39m
[2017-09-26 18:49:46.477] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:49:46.495] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:49:46.499] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=XtXPcQwjgAga3Wi1InV-FLBXFNdUhs45mdykeZ7MEm4&state=1288Aa&_v=0[39m [32m200[39m [90m834ms[39m [90m12b[39m
[2017-09-26 18:49:49.502] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Cv3ASoT_hrnUVDEfyPQ6G6R5ZoaKku6Dxev906kAP4s&state=1288Aa&_v=0[39m
[2017-09-26 18:49:50.372] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f19aaa440cd8b5a9c2e1f5f19ba650563',
  cards: 10000 } false
[2017-09-26 18:49:50.373] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Cv3ASoT_hrnUVDEfyPQ6G6R5ZoaKku6Dxev906kAP4s&state=1288Aa&_v=0[39m [32m200[39m [90m871ms[39m [90m167b[39m
[2017-09-26 18:49:53.067] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f19aaa440cd8b5a9c2e1f5f19ba650563&_v=1[39m
[2017-09-26 18:49:53.068] [INFO] console - enter===>
[2017-09-26 18:49:53.069] [INFO] console - juuiiiid 10000
[2017-09-26 18:49:53.074] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:49:53.075] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f19aaa440cd8b5a9c2e1f5f19ba650563&_v=1[39m [32m200[39m [90m8ms[39m [90m26b[39m
[2017-09-26 18:49:56.428] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f19aaa440cd8b5a9c2e1f5f19ba650563&_v=2[39m
[2017-09-26 18:49:56.431] [INFO] console - enter===>
[2017-09-26 18:49:56.433] [INFO] console - numb=================>er
[2017-09-26 18:49:56.434] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=10
[2017-09-26 18:50:15.785] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - { FetchError: request to http://192.168.0.107:8710/paynotify?uid=10000&count=10 failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://192.168.0.107:8710/paynotify?uid=10000&count=10 failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:50:15.793] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 18:50:15.805] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 18:50:15.806] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f19aaa440cd8b5a9c2e1f5f19ba650563&_v=2[39m [32m200[39m [90m19s[39m [90m12b[39m
[2017-09-26 18:50:26.933] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=JnH1XCz2tzdZ2wE-uSlYKdhiFwK862ZcO_uh31YFDnc&state=1288Aa&_v=0[39m
[2017-09-26 18:50:27.602] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ffc4e7a9008f6a44dabe99c7f2463d99f',
  cards: 9990 } false
[2017-09-26 18:50:27.604] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=JnH1XCz2tzdZ2wE-uSlYKdhiFwK862ZcO_uh31YFDnc&state=1288Aa&_v=0[39m [32m200[39m [90m671ms[39m [90m166b[39m
[2017-09-26 18:50:32.017] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ffc4e7a9008f6a44dabe99c7f2463d99f&_v=1[39m
[2017-09-26 18:50:32.018] [INFO] console - enter===>
[2017-09-26 18:50:32.019] [INFO] console - juuiiiid 10000
[2017-09-26 18:50:32.036] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 18:50:32.037] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:50:32.038] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ffc4e7a9008f6a44dabe99c7f2463d99f&_v=1[39m [32m200[39m [90m21ms[39m [90m26b[39m
[2017-09-26 18:50:44.908] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ffc4e7a9008f6a44dabe99c7f2463d99f&_v=2[39m
[2017-09-26 18:50:44.912] [INFO] console - enter===>
[2017-09-26 18:50:44.913] [INFO] console - numb=================>er
[2017-09-26 18:50:44.915] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=20
[2017-09-26 18:51:43.917] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:51:44.001] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:53:23.198] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - { FetchError: request to http://192.168.0.107:8710/paynotify?uid=10000&count=20 failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://192.168.0.107:8710/paynotify?uid=10000&count=20 failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 18:53:23.205] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 18:53:23.205] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 18:53:35.096] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=wxAkwpOqjprKtrbZKpuHHV8Ui0MNHccXOKCtGjF0fnI&state=1288Aa&_v=0[39m
[2017-09-26 18:53:35.910] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcc38fe8e63c9af7b03b31e4e9f0a5b52',
  cards: 9970 } false
[2017-09-26 18:53:35.911] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=wxAkwpOqjprKtrbZKpuHHV8Ui0MNHccXOKCtGjF0fnI&state=1288Aa&_v=0[39m [32m200[39m [90m815ms[39m [90m166b[39m
[2017-09-26 18:53:49.928] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcc38fe8e63c9af7b03b31e4e9f0a5b52&_v=1[39m
[2017-09-26 18:53:49.929] [INFO] console - enter===>
[2017-09-26 18:53:49.929] [INFO] console - juuiiiid 10000
[2017-09-26 18:53:49.929] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 18:53:49.930] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:53:49.932] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcc38fe8e63c9af7b03b31e4e9f0a5b52&_v=1[39m [32m200[39m [90m4ms[39m [90m26b[39m
[2017-09-26 18:53:51.437] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=12&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcc38fe8e63c9af7b03b31e4e9f0a5b52&_v=2[39m
[2017-09-26 18:53:51.438] [INFO] console - enter===>
[2017-09-26 18:53:51.439] [INFO] console - numb=================>er
[2017-09-26 18:53:51.439] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=12
[2017-09-26 18:53:57.147] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcc38fe8e63c9af7b03b31e4e9f0a5b52&_v=3[39m
[2017-09-26 18:53:57.147] [INFO] console - enter===>
[2017-09-26 18:53:57.147] [INFO] console - juuiiiid 10000
[2017-09-26 18:53:57.147] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 18:53:57.148] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:53:57.150] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcc38fe8e63c9af7b03b31e4e9f0a5b52&_v=3[39m [32m200[39m [90m3ms[39m [90m26b[39m
[2017-09-26 18:53:58.332] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=dAaZiwJSBngrKTbImhr-68EDClOn75gZy9g0L99MMnU&state=1288Aa&_v=0[39m
[2017-09-26 18:53:58.983] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4ab78a08a79da310fde25dae6b91d9dc',
  cards: 9958 } false
[2017-09-26 18:53:58.984] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=dAaZiwJSBngrKTbImhr-68EDClOn75gZy9g0L99MMnU&state=1288Aa&_v=0[39m [32m200[39m [90m652ms[39m [90m166b[39m
[2017-09-26 18:54:01.756] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4ab78a08a79da310fde25dae6b91d9dc&_v=1[39m
[2017-09-26 18:54:01.757] [INFO] console - enter===>
[2017-09-26 18:54:01.760] [INFO] console - juuiiiid 10000
[2017-09-26 18:54:01.761] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 18:54:01.761] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:54:01.763] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4ab78a08a79da310fde25dae6b91d9dc&_v=1[39m [32m200[39m [90m7ms[39m [90m26b[39m
[2017-09-26 18:54:05.308] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=12&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4ab78a08a79da310fde25dae6b91d9dc&_v=2[39m
[2017-09-26 18:54:05.308] [INFO] console - enter===>
[2017-09-26 18:54:05.308] [INFO] console - numb=================>er
[2017-09-26 18:54:05.309] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=12
[2017-09-26 18:56:37.784] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 18:56:37.791] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:56:37.808] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:56:37.856] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:56:42.265] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4ab78a08a79da310fde25dae6b91d9dc&_v=3[39m
[2017-09-26 18:56:42.267] [INFO] console - enter===>
[2017-09-26 18:56:42.268] [INFO] console - juuiiiid 10000
[2017-09-26 18:56:42.268] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 18:56:42.269] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:56:42.271] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4ab78a08a79da310fde25dae6b91d9dc&_v=3[39m [32m200[39m [90m6ms[39m [90m26b[39m
[2017-09-26 18:56:47.754] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=cJWiCbQf0ozN0Vqez_3JEVyvgwGbcOiOv-1Twytwync&state=1288Aa&_v=0[39m
[2017-09-26 18:56:48.528] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f50743596d7d5e3685dd9558cd7af2316',
  cards: 9946 } false
[2017-09-26 18:56:48.529] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=cJWiCbQf0ozN0Vqez_3JEVyvgwGbcOiOv-1Twytwync&state=1288Aa&_v=0[39m [32m200[39m [90m775ms[39m [90m166b[39m
[2017-09-26 18:56:54.396] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f50743596d7d5e3685dd9558cd7af2316&_v=1[39m
[2017-09-26 18:56:54.397] [INFO] console - enter===>
[2017-09-26 18:56:54.398] [INFO] console - juuiiiid 10000
[2017-09-26 18:56:54.398] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 18:56:54.399] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:56:54.401] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f50743596d7d5e3685dd9558cd7af2316&_v=1[39m [32m200[39m [90m5ms[39m [90m26b[39m
[2017-09-26 18:56:58.110] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f50743596d7d5e3685dd9558cd7af2316&_v=2[39m
[2017-09-26 18:56:58.113] [INFO] console - enter===>
[2017-09-26 18:56:58.113] [INFO] console - numb=================>er
[2017-09-26 18:56:58.115] [INFO] console - http://192.168.0.107:8710/paynotify?uid=10000&count=20
[2017-09-26 18:57:11.629] [INFO] console -   [90m<--[39m [1mGET[22m [90m/chiying.txt?v=0.2287497[39m
[2017-09-26 18:57:11.631] [INFO] console -   [90m-->[39m [1mGET[22m [90m/chiying.txt?v=0.2287497[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-26 18:58:16.982] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 18:58:16.987] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 18:58:16.998] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 18:58:17.032] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 18:58:18.743] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=quH-5_Ivrh3F_lRwBlvK87bObU4Z_AaIRa7TfaliCKU&state=1288Aa&_v=0[39m
[2017-09-26 18:58:19.680] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 18:58:19.695] [INFO] console - enter====> client { code: 504 } false
[2017-09-26 18:58:19.698] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=quH-5_Ivrh3F_lRwBlvK87bObU4Z_AaIRa7TfaliCKU&state=1288Aa&_v=0[39m [32m200[39m [90m955ms[39m [90m12b[39m
[2017-09-26 18:58:22.198] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=RZdjT1lv23jP4pj2pqkb-5XXA2JHnZPY3P9xMESi5Us&state=1288Aa&_v=0[39m
[2017-09-26 18:58:22.861] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd26714b2828b2ceaddfaf02016791a2e',
  cards: 9946 } false
[2017-09-26 18:58:22.862] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=RZdjT1lv23jP4pj2pqkb-5XXA2JHnZPY3P9xMESi5Us&state=1288Aa&_v=0[39m [32m200[39m [90m664ms[39m [90m166b[39m
[2017-09-26 18:58:25.204] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd26714b2828b2ceaddfaf02016791a2e&_v=1[39m
[2017-09-26 18:58:25.204] [INFO] console - enter===>
[2017-09-26 18:58:25.205] [INFO] console - juuiiiid 10000
[2017-09-26 18:58:25.211] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 18:58:25.212] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd26714b2828b2ceaddfaf02016791a2e&_v=1[39m [32m200[39m [90m8ms[39m [90m26b[39m
[2017-09-26 18:58:31.243] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd26714b2828b2ceaddfaf02016791a2e&_v=2[39m
[2017-09-26 18:58:31.245] [INFO] console - enter===>
[2017-09-26 18:58:31.246] [INFO] console - numb=================>er
[2017-09-26 18:58:31.247] [INFO] console - http://192.168.0.107:8718/paynotify?uid=10000&count=20
[2017-09-26 19:00:17.004] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 19:00:31.268] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - { FetchError: request to http://192.168.0.107:8718/paynotify?uid=10000&count=20 failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://192.168.0.107:8718/paynotify?uid=10000&count=20 failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 19:00:31.270] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 19:00:31.271] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 19:06:01.665] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd26714b2828b2ceaddfaf02016791a2e&_v=3[39m
[2017-09-26 19:06:01.668] [INFO] console - enter===>
[2017-09-26 19:06:01.669] [INFO] console - juuiiiid 10000
[2017-09-26 19:06:01.670] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 19:06:01.670] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 19:06:01.673] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fd26714b2828b2ceaddfaf02016791a2e&_v=3[39m [32m200[39m [90m10ms[39m [90m26b[39m
[2017-09-26 19:06:06.082] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=X45QBjVXE4UHtqI2kkBFlI4Ti-AY7f-v5m-93luEDcU&state=1288Aa&_v=0[39m
[2017-09-26 19:06:06.843] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f519dfdca175c0b3623ea93564d67378c',
  cards: 9926 } false
[2017-09-26 19:06:06.844] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=X45QBjVXE4UHtqI2kkBFlI4Ti-AY7f-v5m-93luEDcU&state=1288Aa&_v=0[39m [32m200[39m [90m762ms[39m [90m166b[39m
[2017-09-26 19:06:09.594] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f519dfdca175c0b3623ea93564d67378c&_v=1[39m
[2017-09-26 19:06:09.598] [INFO] console - enter===>
[2017-09-26 19:06:09.602] [INFO] console - juuiiiid 10000
[2017-09-26 19:06:09.602] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 19:06:09.602] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 19:06:09.603] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f519dfdca175c0b3623ea93564d67378c&_v=1[39m [32m200[39m [90m9ms[39m [90m26b[39m
[2017-09-26 19:06:12.506] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f519dfdca175c0b3623ea93564d67378c&_v=2[39m
[2017-09-26 19:06:12.507] [INFO] console - enter===>
[2017-09-26 19:06:12.507] [INFO] console - numb=================>er
[2017-09-26 19:06:12.508] [INFO] console - http://192.168.0.107:8718/paynotify?uid=10000&count=10
[2017-09-26 19:06:12.530] [INFO] console - 23423423423434
[2017-09-26 19:06:12.532] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 19:06:12.533] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 19:06:12.534] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f519dfdca175c0b3623ea93564d67378c&_v=2[39m [32m200[39m [90m28ms[39m [90m12b[39m
[2017-09-26 19:06:17.210] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f519dfdca175c0b3623ea93564d67378c&_v=3[39m
[2017-09-26 19:06:17.210] [INFO] console - enter===>
[2017-09-26 19:06:17.211] [INFO] console - numb=================>er
[2017-09-26 19:06:17.213] [INFO] console - http://192.168.0.107:8718/paynotify?uid=10000&count=10
[2017-09-26 19:06:17.226] [INFO] console - 23423423423434
[2017-09-26 19:06:17.228] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 19:06:17.228] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 19:06:17.229] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f519dfdca175c0b3623ea93564d67378c&_v=3[39m [32m200[39m [90m19ms[39m [90m12b[39m
[2017-09-26 19:09:28.909] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=C3GBdYLsiiVKg4rzfsmkEAsMWUD93nnl7e98LB2xaS8&state=1288Aa&_v=0[39m
[2017-09-26 19:09:29.641] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8ca71c294ed1a885382fb95edc4d3d11',
  cards: 9926 } false
[2017-09-26 19:09:29.643] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=C3GBdYLsiiVKg4rzfsmkEAsMWUD93nnl7e98LB2xaS8&state=1288Aa&_v=0[39m [32m200[39m [90m734ms[39m [90m166b[39m
[2017-09-26 19:09:36.373] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8ca71c294ed1a885382fb95edc4d3d11&_v=1[39m
[2017-09-26 19:09:36.375] [INFO] console - enter===>
[2017-09-26 19:09:36.375] [INFO] console - juuiiiid 10000
[2017-09-26 19:09:36.376] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 19:09:36.378] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 19:09:36.382] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8ca71c294ed1a885382fb95edc4d3d11&_v=1[39m [32m200[39m [90m9ms[39m [90m26b[39m
[2017-09-26 19:09:39.856] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8ca71c294ed1a885382fb95edc4d3d11&_v=2[39m
[2017-09-26 19:09:39.867] [INFO] console - enter===>
[2017-09-26 19:09:39.867] [INFO] console - numb=================>er
[2017-09-26 19:09:39.868] [INFO] console - http://192.168.0.107:8718/paynotify?uid=10000&count=10
[2017-09-26 19:09:39.936] [INFO] console - 23423423423434
[2017-09-26 19:09:39.937] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 19:09:39.938] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 19:09:39.938] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=10&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8ca71c294ed1a885382fb95edc4d3d11&_v=2[39m [32m200[39m [90m82ms[39m [90m12b[39m
[2017-09-26 19:10:29.608] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=poxOCOvS6K8FPIOhlH3CcGTBTQHjDUq5JQP-IbD6bpE&state=1288Aa&_v=0[39m
[2017-09-26 19:10:30.286] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fbb22fe013c142ba6ba83da70230171b5',
  cards: 9926 } false
[2017-09-26 19:10:30.287] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=poxOCOvS6K8FPIOhlH3CcGTBTQHjDUq5JQP-IbD6bpE&state=1288Aa&_v=0[39m [32m200[39m [90m679ms[39m [90m166b[39m
[2017-09-26 19:10:34.126] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fbb22fe013c142ba6ba83da70230171b5&_v=1[39m
[2017-09-26 19:10:34.130] [INFO] console - enter===>
[2017-09-26 19:10:34.131] [INFO] console - juuiiiid 10000
[2017-09-26 19:10:34.131] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 19:10:34.131] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 19:10:34.133] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fbb22fe013c142ba6ba83da70230171b5&_v=1[39m [32m200[39m [90m7ms[39m [90m26b[39m
[2017-09-26 19:10:38.018] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fbb22fe013c142ba6ba83da70230171b5&_v=2[39m
[2017-09-26 19:10:38.020] [INFO] console - enter===>
[2017-09-26 19:10:38.022] [INFO] console - numb=================>er
[2017-09-26 19:10:38.022] [INFO] console - http://192.168.0.107:8718/paynotify?uid=10000&count=20
[2017-09-26 19:10:38.182] [INFO] console - 23423423423434
[2017-09-26 19:10:38.183] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 19:10:38.185] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 19:10:38.186] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fbb22fe013c142ba6ba83da70230171b5&_v=2[39m [32m200[39m [90m168ms[39m [90m12b[39m
[2017-09-26 19:10:48.249] [INFO] console -   [90m<--[39m [1mGET[22m [90m/chiying.txt?v=0.223596[39m
[2017-09-26 19:10:48.256] [INFO] console -   [90m-->[39m [1mGET[22m [90m/chiying.txt?v=0.223596[39m [33m404[39m [90m7ms[39m [90m-[39m
[2017-09-26 19:11:05.797] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=s5tcz2yaflOqdSjRKnwhQTN3I7ru4YpF6m1v-hi4Vsk&state=1288Aa&_v=0[39m
[2017-09-26 19:11:06.674] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8dce62516200cd07fb8ea91c7723636f',
  cards: 9926 } false
[2017-09-26 19:11:06.675] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=s5tcz2yaflOqdSjRKnwhQTN3I7ru4YpF6m1v-hi4Vsk&state=1288Aa&_v=0[39m [32m200[39m [90m878ms[39m [90m166b[39m
[2017-09-26 19:11:09.349] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8dce62516200cd07fb8ea91c7723636f&_v=1[39m
[2017-09-26 19:11:09.351] [INFO] console - enter===>
[2017-09-26 19:11:09.351] [INFO] console - juuiiiid 10000
[2017-09-26 19:11:09.352] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 19:11:09.354] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 19:11:09.359] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8dce62516200cd07fb8ea91c7723636f&_v=1[39m [32m200[39m [90m10ms[39m [90m26b[39m
[2017-09-26 19:11:12.234] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8dce62516200cd07fb8ea91c7723636f&_v=2[39m
[2017-09-26 19:11:12.235] [INFO] console - enter===>
[2017-09-26 19:11:12.235] [INFO] console - numb=================>er
[2017-09-26 19:11:12.235] [INFO] console - http://192.168.0.107:8718/paynotify?uid=10000&count=20
[2017-09-26 19:11:12.275] [INFO] console - 23423423423434
[2017-09-26 19:11:12.276] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 19:11:12.278] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 19:11:12.279] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8dce62516200cd07fb8ea91c7723636f&_v=2[39m [32m200[39m [90m45ms[39m [90m12b[39m
[2017-09-26 19:11:37.746] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=EzpOetF_dZ6HwQmdrXiu4pCEPuoUnbt0k8JVHc6xPVs&state=1288Aa&_v=0[39m
[2017-09-26 19:11:38.487] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3ded35ff877e894695708d3d6e3ada1a',
  cards: 9926 } false
[2017-09-26 19:11:38.488] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=EzpOetF_dZ6HwQmdrXiu4pCEPuoUnbt0k8JVHc6xPVs&state=1288Aa&_v=0[39m [32m200[39m [90m742ms[39m [90m166b[39m
[2017-09-26 19:11:44.068] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3ded35ff877e894695708d3d6e3ada1a&_v=1[39m
[2017-09-26 19:11:44.069] [INFO] console - enter===>
[2017-09-26 19:11:44.069] [INFO] console - juuiiiid 10000
[2017-09-26 19:11:44.069] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-26 19:11:44.070] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 19:11:44.070] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getusername?uid=10000&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3ded35ff877e894695708d3d6e3ada1a&_v=1[39m [32m200[39m [90m2ms[39m [90m26b[39m
[2017-09-26 19:11:46.916] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3ded35ff877e894695708d3d6e3ada1a&_v=2[39m
[2017-09-26 19:11:46.917] [INFO] console - enter===>
[2017-09-26 19:11:46.917] [INFO] console - numb=================>er
[2017-09-26 19:11:46.917] [INFO] console - http://192.168.0.107:8718/paynotify?uid=10000&count=20
[2017-09-26 19:11:46.969] [INFO] console - 23423423423434
[2017-09-26 19:11:46.969] [INFO] console - enter===>22 { code: 510 }
[2017-09-26 19:11:46.970] [INFO] console - enter====> client { code: 510 } false
[2017-09-26 19:11:46.971] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sell?uid=10000&num=20&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3ded35ff877e894695708d3d6e3ada1a&_v=2[39m [32m200[39m [90m55ms[39m [90m12b[39m
[2017-09-26 19:12:37.637] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240979743612717858_1506424357608&code=WNS2nKXhXI76HBNzLvrm5lNXuIwANZ2IIh-XtAz50vw&state=1288Aa&_v=0&_=1506424357609[39m
[2017-09-26 19:12:38.359] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4191a14e8dc02d56f294e46c2217670a',
  cards: 9926 } false
[2017-09-26 19:12:38.360] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240979743612717858_1506424357608&code=WNS2nKXhXI76HBNzLvrm5lNXuIwANZ2IIh-XtAz50vw&state=1288Aa&_v=0&_=1506424357609[39m [32m200[39m [90m723ms[39m [90m166b[39m
[2017-09-27 10:32:45.787] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112401873036309548206_1506479565736&code=04Uh0tRGgp_1CSSZz3bb_1ScHUZiWoOkMLK4ytcccNY&state=1288Aa&_v=0&_=1506479565737[39m
[2017-09-27 10:32:46.474] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - { WeChatAPIError: invalid access_token
    at /Users/zyg/optimization/pay/node_modules/.0.3.0@wechat-enterprise-api/lib/util.js:13:13
    at done (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:453:5)
    at /Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:702:9
    at decodeContent (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:526:14)
    at IncomingMessage.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:667:7)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
From previous event:
    at Promise.longStackTracesCaptureStackTrace [as _captureStackTrace] (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/debuggability.js:397:19)
    at API.ret [as getUserIdByCodeAsync] (eval at makeNodePromisifiedEval (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promisify.js:184:12), <anonymous>:8:21)
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:29:29)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:26:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:8:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
    at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
    at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
    at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
  cause: 
   { WeChatAPIError: invalid access_token
       at /Users/zyg/optimization/pay/node_modules/.0.3.0@wechat-enterprise-api/lib/util.js:13:13
       at done (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:453:5)
       at /Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:702:9
       at decodeContent (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:526:14)
       at IncomingMessage.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:667:7)
       at emitNone (events.js:91:20)
       at IncomingMessage.emit (events.js:185:7)
       at endReadableNT (_stream_readable.js:974:12)
       at _combinedTickCallback (internal/process/next_tick.js:74:11)
       at process._tickDomainCallback (internal/process/next_tick.js:122:9) name: 'WeChatAPIError', code: 40014 },
  isOperational: true,
  code: 40014 }
[2017-09-27 10:32:46.483] [INFO] console - enter====> client { code: 504 } false
[2017-09-27 10:32:46.486] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112401873036309548206_1506479565736&code=04Uh0tRGgp_1CSSZz3bb_1ScHUZiWoOkMLK4ytcccNY&state=1288Aa&_v=0&_=1506479565737[39m [32m200[39m [90m706ms[39m [90m12b[39m
[2017-09-27 10:33:36.895] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=vKhxw6mKb_8Fra-xECbKcDIW3OjbjU5463NilV98VTA&state=1288Aa&_v=0[39m
[2017-09-27 10:33:37.498] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdc28aaf20e3fe015c446961f269f1460',
  cards: 9926 } false
[2017-09-27 10:33:37.500] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=vKhxw6mKb_8Fra-xECbKcDIW3OjbjU5463NilV98VTA&state=1288Aa&_v=0[39m [32m200[39m [90m605ms[39m [90m166b[39m
[2017-09-27 10:33:41.537] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407170110797572093_1506479621540&code=DFrpaNB8nA5Hkp80k-p0hL8i8c1k46cxQivozaREiHw&state=1288Aa&_v=0&_=1506479621541[39m
[2017-09-27 10:33:42.219] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe33d868901b5eb620558b68b38315b1f',
  cards: 9926 } false
[2017-09-27 10:33:42.220] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407170110797572093_1506479621540&code=DFrpaNB8nA5Hkp80k-p0hL8i8c1k46cxQivozaREiHw&state=1288Aa&_v=0&_=1506479621541[39m [32m200[39m [90m683ms[39m [90m166b[39m
[2017-09-27 10:33:50.469] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112403592223719443314_1506479630463&code=QtBduWvJto99x62Ao4Q3bMmIn50kpk0N89JqDcL3W4o&state=1288Aa&_v=0&_=1506479630464[39m
[2017-09-27 10:33:51.176] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcf1eb29d5f3f742b9121c49a473fe2e6',
  cards: 9926 } false
[2017-09-27 10:33:51.177] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112403592223719443314_1506479630463&code=QtBduWvJto99x62Ao4Q3bMmIn50kpk0N89JqDcL3W4o&state=1288Aa&_v=0&_=1506479630464[39m [32m200[39m [90m708ms[39m [90m166b[39m
[2017-09-27 10:33:55.544] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=WBehsfT7TjFaT8umd8TotmnKfM4-ziYwmzwW2zGShr8&state=1288Aa&_v=0[39m
[2017-09-27 10:33:56.185] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f446b0d5c569d56814c9c889d0ffe93ae',
  cards: 9926 } false
[2017-09-27 10:33:56.186] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=WBehsfT7TjFaT8umd8TotmnKfM4-ziYwmzwW2zGShr8&state=1288Aa&_v=0[39m [32m200[39m [90m642ms[39m [90m166b[39m
[2017-09-27 10:33:58.363] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112404629903594752174_1506479638355&code=fx4nUowTEA2CMj0qPu0K7t3zw2fa0CJakdWXIcTdXTQ&state=1288Aa&_v=0&_=1506479638356[39m
[2017-09-27 10:33:59.006] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f50f72cd9263505c8b3770fb8ce0e1208',
  cards: 9926 } false
[2017-09-27 10:33:59.008] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112404629903594752174_1506479638355&code=fx4nUowTEA2CMj0qPu0K7t3zw2fa0CJakdWXIcTdXTQ&state=1288Aa&_v=0&_=1506479638356[39m [32m200[39m [90m645ms[39m [90m166b[39m
[2017-09-27 10:34:24.103] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 10:34:24.111] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 10:34:24.119] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 10:34:24.149] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 10:34:26.433] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407125305509337079_1506479666409&code=qMzpYLsnEE--5Q5WxilCYgvlcu6VoTHvxylw0qebRbM&state=1288Aa&_v=0&_=1506479666410[39m
[2017-09-27 10:34:27.120] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-27 10:34:27.134] [INFO] console - enter====> client { code: 504 } false
[2017-09-27 10:34:27.138] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407125305509337079_1506479666409&code=qMzpYLsnEE--5Q5WxilCYgvlcu6VoTHvxylw0qebRbM&state=1288Aa&_v=0&_=1506479666410[39m [32m200[39m [90m705ms[39m [90m12b[39m
[2017-09-27 10:36:24.139] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 10:40:06.990] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 10:40:06.995] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 10:40:07.026] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 10:40:07.033] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 10:40:12.944] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112408057052279411785_1506480012937&code=6aLMAnHEtEA53_P1BT4Frx24pPSh22Y4FFO4etOg3Ec&state=1288Aa&_v=0&_=1506480012938[39m
[2017-09-27 10:40:13.591] [INFO] console - { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  login: 2017-09-27T02:33:59.005Z,
  enable: true,
  power: 1,
  cards: 9926 }
[2017-09-27 10:40:13.593] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:43:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-27 10:40:13.624] [INFO] console - enter====> client { code: 504 } false
[2017-09-27 10:40:13.628] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112408057052279411785_1506480012937&code=6aLMAnHEtEA53_P1BT4Frx24pPSh22Y4FFO4etOg3Ec&state=1288Aa&_v=0&_=1506480012938[39m [32m200[39m [90m683ms[39m [90m12b[39m
[2017-09-27 10:40:47.854] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 10:40:47.859] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 10:40:47.867] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 10:40:47.890] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 10:41:46.691] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112403933696053586343_1506480106699&code=GAF2zjhfDqNuIqlAKS-s0UNqmE9iimk1mH_v3qdXFmo&state=1288Aa&_v=0&_=1506480106700[39m
[2017-09-27 10:41:47.517] [INFO] console - user1
[2017-09-27 10:41:47.517] [INFO] console - { _id: 59ca1fcf994e31e822d54cd3,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  userid: 'ZengYongGuang',
  phone: '13537605534',
  __v: 0,
  login: 2017-09-27T02:33:59.005Z,
  enable: true,
  power: 1,
  cards: 9926 }
[2017-09-27 10:41:47.520] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - TypeError: Cannot set property 'login' of undefined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:45:9)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-27 10:41:47.549] [INFO] console - enter====> client { code: 504 } false
[2017-09-27 10:41:47.552] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112403933696053586343_1506480106699&code=GAF2zjhfDqNuIqlAKS-s0UNqmE9iimk1mH_v3qdXFmo&state=1288Aa&_v=0&_=1506480106700[39m [32m200[39m [90m862ms[39m [90m12b[39m
[2017-09-27 10:42:38.025] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 10:42:38.036] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 10:42:38.047] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 10:42:38.096] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 10:42:39.678] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112402914910100755994_1506480159692&code=mzmBx9iJQCp4i6Nza9u9bJJmckCc0QYbax6z6THefM0&state=1288Aa&_v=0&_=1506480159693[39m
[2017-09-27 10:42:40.525] [INFO] console - user1
[2017-09-27 10:42:40.525] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:33:59.005Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 10:42:40.537] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcdaaf18b4f124cf628f354006783a739',
  cards: 9926 } false
[2017-09-27 10:42:40.540] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112402914910100755994_1506480159692&code=mzmBx9iJQCp4i6Nza9u9bJJmckCc0QYbax6z6THefM0&state=1288Aa&_v=0&_=1506480159693[39m [32m200[39m [90m863ms[39m [90m166b[39m
[2017-09-27 10:42:58.314] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 10:42:58.326] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 10:42:58.351] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 10:42:58.397] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 10:42:58.543] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-27 10:42:58.548] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 10:42:58.561] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 10:42:58.591] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 10:44:58.468] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 10:44:58.574] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 10:48:38.323] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407843662327747196_1506480518324&code=o6W9BbYkWx0tUg6WVXXZV2GrCmUmLXwWGNCvC_TNez0&state=1288Aa&_v=0&_=1506480518325[39m
[2017-09-27 10:48:39.272] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:42:40.527Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 10:48:39.287] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fb16053c66c6ee5cf3abac7841a446a71',
  cards: 9926 } false
[2017-09-27 10:48:39.294] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407843662327747196_1506480518324&code=o6W9BbYkWx0tUg6WVXXZV2GrCmUmLXwWGNCvC_TNez0&state=1288Aa&_v=0&_=1506480518325[39m [32m200[39m [90m971ms[39m [90m166b[39m
[2017-09-27 10:49:52.517] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112406332281850994005_1506480592530&code=p80BzfUuolr6hNHeS2sF9PL2-7C5LiKN5yX5T86AY5c&state=1288Aa&_v=0&_=1506480592531[39m
[2017-09-27 10:49:53.115] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:48:39.273Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fb16053c66c6ee5cf3abac7841a446a71' }
[2017-09-27 10:49:53.118] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f624b3514bc3d953784d1cf547793c242',
  cards: 9926 } false
[2017-09-27 10:49:53.119] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112406332281850994005_1506480592530&code=p80BzfUuolr6hNHeS2sF9PL2-7C5LiKN5yX5T86AY5c&state=1288Aa&_v=0&_=1506480592531[39m [32m200[39m [90m602ms[39m [90m166b[39m
[2017-09-27 10:50:24.904] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409059307825324345_1506480624920&code=J6Llx2bZYVc1E-Ws7iOJIwunzQQXC-_BeTl0z9mWgS4&state=1288Aa&_v=0&_=1506480624921[39m
[2017-09-27 10:50:25.730] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:49:53.116Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f624b3514bc3d953784d1cf547793c242' }
[2017-09-27 10:50:25.731] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3363717916588cf89a43dec2a894996e',
  cards: 9926 } false
[2017-09-27 10:50:25.733] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409059307825324345_1506480624920&code=J6Llx2bZYVc1E-Ws7iOJIwunzQQXC-_BeTl0z9mWgS4&state=1288Aa&_v=0&_=1506480624921[39m [32m200[39m [90m828ms[39m [90m166b[39m
[2017-09-27 10:50:29.036] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409545563460041305_1506480629063&code=GfblxCJzPckCaAN7azF1fbJ_rifxMvGdKQuM_YS6kEA&state=1288Aa&_v=0&_=1506480629064[39m
[2017-09-27 10:50:29.619] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:50:25.730Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3363717916588cf89a43dec2a894996e' }
[2017-09-27 10:50:29.622] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3dd840aeb18b527f631a2cb2ffa5829b',
  cards: 9926 } false
[2017-09-27 10:50:29.623] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409545563460041305_1506480629063&code=GfblxCJzPckCaAN7azF1fbJ_rifxMvGdKQuM_YS6kEA&state=1288Aa&_v=0&_=1506480629064[39m [32m200[39m [90m587ms[39m [90m166b[39m
[2017-09-27 10:50:33.920] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112404555280642264735_1506480633942&code=6IWz6q6lGd_WJZqjWz09fw_v_tqjtgHfdlAAIkakd-g&state=1288Aa&_v=0&_=1506480633943[39m
[2017-09-27 10:50:34.654] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:50:29.620Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3dd840aeb18b527f631a2cb2ffa5829b' }
[2017-09-27 10:50:34.656] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0fbd80240973677b911ebdbfafedd946',
  cards: 9926 } false
[2017-09-27 10:50:34.657] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112404555280642264735_1506480633942&code=6IWz6q6lGd_WJZqjWz09fw_v_tqjtgHfdlAAIkakd-g&state=1288Aa&_v=0&_=1506480633943[39m [32m200[39m [90m737ms[39m [90m166b[39m
[2017-09-27 10:50:57.939] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124013305754888686094_1506480657969&code=V5g7EbOcjtsxswJp_C3veQHQGxEa6P-leUxR4LLvHMY&state=1288Aa&_v=0&_=1506480657970[39m
[2017-09-27 10:50:58.680] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:50:34.655Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0fbd80240973677b911ebdbfafedd946' }
[2017-09-27 10:50:58.683] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f31b86ae2a1627ad658b7039403bbdf9d',
  cards: 9926 } false
[2017-09-27 10:50:58.685] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124013305754888686094_1506480657969&code=V5g7EbOcjtsxswJp_C3veQHQGxEa6P-leUxR4LLvHMY&state=1288Aa&_v=0&_=1506480657970[39m [32m200[39m [90m746ms[39m [90m166b[39m
[2017-09-27 10:51:28.530] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112404198803925839063_1506480688551&code=Vg6AaO1Y--grThcfb9ZaT4V2oN8shDI7d0vSnCvYAe0&state=1288Aa&_v=0&_=1506480688552[39m
[2017-09-27 10:51:29.215] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:50:58.681Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f31b86ae2a1627ad658b7039403bbdf9d' }
[2017-09-27 10:51:29.218] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0da50a232ae7d729241e7b235dc233f7',
  cards: 9926 } false
[2017-09-27 10:51:29.219] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112404198803925839063_1506480688551&code=Vg6AaO1Y--grThcfb9ZaT4V2oN8shDI7d0vSnCvYAe0&state=1288Aa&_v=0&_=1506480688552[39m [32m200[39m [90m689ms[39m [90m166b[39m
[2017-09-27 10:52:26.160] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124004355921587699396_1506480746179&code=47vzkJV91ocuD8s7177SFJJYJ38cEs3SqYlf0qRP83c&state=1288Aa&_v=0&_=1506480746180[39m
[2017-09-27 10:52:26.892] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:51:29.216Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0da50a232ae7d729241e7b235dc233f7' }
[2017-09-27 10:52:26.893] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f97cc62333652e85d4063448483d3cb8b',
  cards: 9926 } false
[2017-09-27 10:52:26.894] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124004355921587699396_1506480746179&code=47vzkJV91ocuD8s7177SFJJYJ38cEs3SqYlf0qRP83c&state=1288Aa&_v=0&_=1506480746180[39m [32m200[39m [90m734ms[39m [90m166b[39m
[2017-09-27 10:52:39.446] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112408114326220344269_1506480759476&code=JrXzyMOhg3S7Q217M2i9b4VI6QgMQm_D8tE8lt0rK00&state=1288Aa&_v=0&_=1506480759477[39m
[2017-09-27 10:52:40.195] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:52:26.892Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f97cc62333652e85d4063448483d3cb8b' }
[2017-09-27 10:52:40.201] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f98fbb135bb8ed6dc73047719cd8299f3',
  cards: 9926 } false
[2017-09-27 10:52:40.202] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112408114326220344269_1506480759476&code=JrXzyMOhg3S7Q217M2i9b4VI6QgMQm_D8tE8lt0rK00&state=1288Aa&_v=0&_=1506480759477[39m [32m200[39m [90m756ms[39m [90m166b[39m
[2017-09-27 10:53:16.970] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124034594211698469124_1506480796994&code=MmFhjZyaVQa6xM7z1rlAuqANwGVc3cZQKh_XyJ8mSWo&state=1288Aa&_v=0&_=1506480796995[39m
[2017-09-27 10:53:17.556] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:52:40.196Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f98fbb135bb8ed6dc73047719cd8299f3' }
[2017-09-27 10:53:17.557] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f67f0d7d643b1e58ac38bd20f189f4fb1',
  cards: 9926 } false
[2017-09-27 10:53:17.558] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124034594211698469124_1506480796994&code=MmFhjZyaVQa6xM7z1rlAuqANwGVc3cZQKh_XyJ8mSWo&state=1288Aa&_v=0&_=1506480796995[39m [32m200[39m [90m588ms[39m [90m166b[39m
[2017-09-27 10:53:36.876] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112406404805422018482_1506480816907&code=zKKg4UN1LViIckRPFXf3g92avvvKccQDSExgTqkzEGs&state=1288Aa&_v=0&_=1506480816908[39m
[2017-09-27 10:53:37.707] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:53:17.556Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f67f0d7d643b1e58ac38bd20f189f4fb1' }
[2017-09-27 10:53:37.709] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f87d4921cfff1e46f860277bdacfcb06f',
  cards: 9926 } false
[2017-09-27 10:53:37.712] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112406404805422018482_1506480816907&code=zKKg4UN1LViIckRPFXf3g92avvvKccQDSExgTqkzEGs&state=1288Aa&_v=0&_=1506480816908[39m [32m200[39m [90m836ms[39m [90m166b[39m
[2017-09-27 10:54:02.071] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409654596457668886_1506480842095&code=5EeWlrPK6-1REZTRFXMQ15hwJeZqI3C0N65HAyb6cz0&state=1288Aa&_v=0&_=1506480842096[39m
[2017-09-27 10:54:02.755] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:53:37.707Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f87d4921cfff1e46f860277bdacfcb06f' }
[2017-09-27 10:54:02.757] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f883122a9dc37d4038da696e98d785bb9',
  cards: 9926 } false
[2017-09-27 10:54:02.758] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409654596457668886_1506480842095&code=5EeWlrPK6-1REZTRFXMQ15hwJeZqI3C0N65HAyb6cz0&state=1288Aa&_v=0&_=1506480842096[39m [32m200[39m [90m687ms[39m [90m166b[39m
[2017-09-27 10:54:19.462] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124042891548459427675_1506480859492&code=ptzQEduKrsinO_Po9SMblsS9-18Y0dF4wcMLcz2vPbA&state=1288Aa&_v=0&_=1506480859493[39m
[2017-09-27 10:54:20.175] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:54:02.756Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f883122a9dc37d4038da696e98d785bb9' }
[2017-09-27 10:54:20.179] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f26c6d3e2f565679c6f93290419655b7f',
  cards: 9926 } false
[2017-09-27 10:54:20.180] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124042891548459427675_1506480859492&code=ptzQEduKrsinO_Po9SMblsS9-18Y0dF4wcMLcz2vPbA&state=1288Aa&_v=0&_=1506480859493[39m [32m200[39m [90m718ms[39m [90m166b[39m
[2017-09-27 10:54:36.113] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=nPDjfXKf1TKC0f-37OWWG0Kjrd1j1osuK3af0uZm6Yc&state=1288Aa&_v=0[39m
[2017-09-27 10:54:36.856] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:54:20.177Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f26c6d3e2f565679c6f93290419655b7f' }
[2017-09-27 10:54:36.859] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5bb5019dfa7be6892d18043442936b5c',
  cards: 9926 } false
[2017-09-27 10:54:36.860] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=nPDjfXKf1TKC0f-37OWWG0Kjrd1j1osuK3af0uZm6Yc&state=1288Aa&_v=0[39m [32m200[39m [90m747ms[39m [90m166b[39m
[2017-09-27 10:54:46.233] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124009738672333219955_1506480886263&code=XaYNEmMnyj0NeVjtCx9pfvamw5gxkjVNy-3EkSLGKCY&state=1288Aa&_v=0&_=1506480886264[39m
[2017-09-27 10:54:46.926] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:54:36.857Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5bb5019dfa7be6892d18043442936b5c' }
[2017-09-27 10:54:46.929] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f3c694cda8134101af140c51bebe868cb',
  cards: 9926 } false
[2017-09-27 10:54:46.930] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124009738672333219955_1506480886263&code=XaYNEmMnyj0NeVjtCx9pfvamw5gxkjVNy-3EkSLGKCY&state=1288Aa&_v=0&_=1506480886264[39m [32m200[39m [90m697ms[39m [90m166b[39m
[2017-09-27 10:55:03.427] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 10:55:03.434] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 10:55:03.442] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 10:55:03.473] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 10:55:04.467] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240967815488481466_1506480904497&code=0xPX6uHeeYij4Hgs6JBXKpkDzQRp666qTxhMItQXNTM&state=1288Aa&_v=0&_=1506480904498[39m
[2017-09-27 10:55:05.206] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:54:46.927Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 10:55:05.221] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7840a60fef9f49011ee56fce5ba03161',
  cards: 9926 } false
[2017-09-27 10:55:05.224] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240967815488481466_1506480904497&code=0xPX6uHeeYij4Hgs6JBXKpkDzQRp666qTxhMItQXNTM&state=1288Aa&_v=0&_=1506480904498[39m [32m200[39m [90m757ms[39m [90m166b[39m
[2017-09-27 10:55:15.508] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 10:55:15.515] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 10:55:15.526] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 10:55:15.564] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 10:55:19.034] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409719773468866649_1506480919061&code=QvDbxISrSDaIbjrqFi6xZizv4L5X9zdr0ST6BwWFp4g&state=1288Aa&_v=0&_=1506480919062[39m
[2017-09-27 10:55:19.840] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:55:05.208Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 10:55:19.854] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe286305e622f7c89f8660bd15a9a8a13',
  cards: 9926 } false
[2017-09-27 10:55:19.857] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112409719773468866649_1506480919061&code=QvDbxISrSDaIbjrqFi6xZizv4L5X9zdr0ST6BwWFp4g&state=1288Aa&_v=0&_=1506480919062[39m [32m200[39m [90m823ms[39m [90m166b[39m
[2017-09-27 10:56:12.253] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=lWZxI75KkkY1MYiFsZA_Fh8oWLViRSvYJ8XlXVFSkj4&state=1288Aa&_v=0[39m
[2017-09-27 10:56:12.914] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:55:19.841Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe286305e622f7c89f8660bd15a9a8a13' }
[2017-09-27 10:56:12.918] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fa4081604a23cf018df02bc95008a9da3',
  cards: 9926 } false
[2017-09-27 10:56:12.919] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=lWZxI75KkkY1MYiFsZA_Fh8oWLViRSvYJ8XlXVFSkj4&state=1288Aa&_v=0[39m [32m200[39m [90m666ms[39m [90m166b[39m
[2017-09-27 10:56:17.348] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=lEIkLAdzFCfLv8Pgs8R3VP0wvR4WlBZ9wKuvBcJ0NCM&state=1288Aa&_v=0[39m
[2017-09-27 10:56:17.932] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:56:12.915Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fa4081604a23cf018df02bc95008a9da3' }
[2017-09-27 10:56:17.934] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f87c4539177e38c2f5994332133dba9',
  cards: 9926 } false
[2017-09-27 10:56:17.935] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=lEIkLAdzFCfLv8Pgs8R3VP0wvR4WlBZ9wKuvBcJ0NCM&state=1288Aa&_v=0[39m [32m200[39m [90m587ms[39m [90m166b[39m
[2017-09-27 10:56:20.706] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=bSGCAbrSGnOrR6YA7sME9qaYV6FJePaCmROkQNYaOgk&state=1288Aa&_v=0[39m
[2017-09-27 10:56:21.442] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:56:17.933Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f87c4539177e38c2f5994332133dba9' }
[2017-09-27 10:56:21.443] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f316c0c47484b2a6063500d175d1d8af3',
  cards: 9926 } false
[2017-09-27 10:56:21.445] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=bSGCAbrSGnOrR6YA7sME9qaYV6FJePaCmROkQNYaOgk&state=1288Aa&_v=0[39m [32m200[39m [90m740ms[39m [90m166b[39m
[2017-09-27 10:57:13.032] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f316c0c47484b2a6063500d175d1d8af3&_v=1[39m
[2017-09-27 10:57:13.033] [INFO] console - enter===>
[2017-09-27 10:57:13.073] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼',
  mch_id: '1430855702',
  nonce_str: 'bc01i8b5el4mcal',
  notify_url: 'http://120.76.182.17/v1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijing10000000',
  spbill_create_ip: '192.168.0.107',
  total_fee: 12000,
  trade_type: 'JSAPI' }
[2017-09-27 10:57:13.344] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[8pyBBMF7TDDNctDd]]></nonce_str>
<sign><![CDATA[BD91846F15A64595EC27AEA29CEC4677]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170927105713155c11dd770329976601]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 10:57:13.345] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[8pyBBMF7TDDNctDd]]></nonce_str>\n<sign><![CDATA[BD91846F15A64595EC27AEA29CEC4677]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170927105713155c11dd770329976601]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 10:57:13.346] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506481033',
     nonceStr: 'bc01i8b5el4mcal',
     signType: 'MD5',
     package: 'prepay_id=wx20170927105713155c11dd770329976601',
     paySign: '11DBFF636F71E0DDC032271727C3B44D' } } false
[2017-09-27 10:57:13.349] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f316c0c47484b2a6063500d175d1d8af3&_v=1[39m [32m200[39m [90m318ms[39m [90m225b[39m
[2017-09-27 10:57:15.549] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 10:57:19.191] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f316c0c47484b2a6063500d175d1d8af3&_v=2[39m
[2017-09-27 10:57:19.193] [INFO] console - enter===>
[2017-09-27 10:57:19.194] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - ReferenceError: req is not defined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/wechat.js:202:51)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getcard (/Users/zyg/optimization/pay/controllers/wechat.js:200:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:66:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:8:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-27 10:57:19.494] [INFO] console - enter===>22 { code: 509 }
[2017-09-27 10:57:19.495] [INFO] console - enter====> client { code: 509 } false
[2017-09-27 10:57:19.496] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f316c0c47484b2a6063500d175d1d8af3&_v=2[39m [32m200[39m [90m305ms[39m [90m12b[39m
[2017-09-27 10:59:29.922] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=GWiqzNE-5VffvFMdAwr29qmsSK9QNufwW6Q4K0LT97g&state=1288Aa&_v=0[39m
[2017-09-27 10:59:30.625] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:56:21.442Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f316c0c47484b2a6063500d175d1d8af3' }
[2017-09-27 10:59:30.627] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdbd1a975abf295bc530b1a4a7685e191',
  cards: 9926 } false
[2017-09-27 10:59:30.628] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=GWiqzNE-5VffvFMdAwr29qmsSK9QNufwW6Q4K0LT97g&state=1288Aa&_v=0[39m [32m200[39m [90m706ms[39m [90m166b[39m
[2017-09-27 10:59:31.778] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdbd1a975abf295bc530b1a4a7685e191&_v=1[39m
[2017-09-27 10:59:31.780] [INFO] console - enter===>
[2017-09-27 10:59:31.787] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼',
  mch_id: '1430855702',
  nonce_str: 'qhu1r3mpoer41t4',
  notify_url: 'http://120.76.182.17/v1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijing10000001',
  spbill_create_ip: '192.168.0.107',
  total_fee: 12000,
  trade_type: 'JSAPI' }
[2017-09-27 10:59:32.045] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[ND0uQl47jqEErXvY]]></nonce_str>
<sign><![CDATA[BAB8DD7D9BE807ABFEEC1D987444AD19]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170927105932dd5fc957230598230499]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 10:59:32.045] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[ND0uQl47jqEErXvY]]></nonce_str>\n<sign><![CDATA[BAB8DD7D9BE807ABFEEC1D987444AD19]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170927105932dd5fc957230598230499]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 10:59:32.047] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506481171',
     nonceStr: 'qhu1r3mpoer41t4',
     signType: 'MD5',
     package: 'prepay_id=wx20170927105932dd5fc957230598230499',
     paySign: '3566C5AA304BFECCC4768E3B9EABFFA5' } } false
[2017-09-27 10:59:32.050] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdbd1a975abf295bc530b1a4a7685e191&_v=1[39m [32m200[39m [90m272ms[39m [90m225b[39m
[2017-09-27 10:59:35.103] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdbd1a975abf295bc530b1a4a7685e191&_v=2[39m
[2017-09-27 10:59:35.107] [INFO] console - enter===>
[2017-09-27 10:59:35.107] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - ReferenceError: req is not defined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/wechat.js:202:51)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getcard (/Users/zyg/optimization/pay/controllers/wechat.js:200:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:66:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:8:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-27 10:59:35.114] [INFO] console - enter===>22 { code: 509 }
[2017-09-27 10:59:35.114] [INFO] console - enter====> client { code: 509 } false
[2017-09-27 10:59:35.115] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdbd1a975abf295bc530b1a4a7685e191&_v=2[39m [32m200[39m [90m12ms[39m [90m12b[39m
[2017-09-27 10:59:38.287] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=BdBfDepA8CJp6ttbHsecnIW0GezW4xfeG0gzbHIxwDU&state=1288Aa&_v=0[39m
[2017-09-27 10:59:38.945] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:59:30.626Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdbd1a975abf295bc530b1a4a7685e191' }
[2017-09-27 10:59:38.949] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7e38202058f98c8766f98584c80b846e',
  cards: 9926 } false
[2017-09-27 10:59:38.950] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=BdBfDepA8CJp6ttbHsecnIW0GezW4xfeG0gzbHIxwDU&state=1288Aa&_v=0[39m [32m200[39m [90m663ms[39m [90m166b[39m
[2017-09-27 10:59:41.607] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=200&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7e38202058f98c8766f98584c80b846e&_v=1[39m
[2017-09-27 10:59:41.609] [INFO] console - enter===>
[2017-09-27 10:59:41.615] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼200é’»çŸ³',
  mch_id: '1430855702',
  nonce_str: 'hw2pmjwby4li3q4',
  notify_url: 'http://120.76.182.17/v1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijing10000002',
  spbill_create_ip: '192.168.0.107',
  total_fee: 23800,
  trade_type: 'JSAPI' }
[2017-09-27 10:59:41.913] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[AQetOiFwcbbHwgbH]]></nonce_str>
<sign><![CDATA[60CC12D25B3F5F46E427D9581820AF71]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx2017092710594118be7cb5030286103288]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 10:59:41.913] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[AQetOiFwcbbHwgbH]]></nonce_str>\n<sign><![CDATA[60CC12D25B3F5F46E427D9581820AF71]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx2017092710594118be7cb5030286103288]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 10:59:41.914] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506481181',
     nonceStr: 'hw2pmjwby4li3q4',
     signType: 'MD5',
     package: 'prepay_id=wx2017092710594118be7cb5030286103288',
     paySign: '0011B1D71D30820ED8E779D2EB585C83' } } false
[2017-09-27 10:59:41.915] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=200&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7e38202058f98c8766f98584c80b846e&_v=1[39m [32m200[39m [90m308ms[39m [90m225b[39m
[2017-09-27 10:59:44.058] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7e38202058f98c8766f98584c80b846e&_v=2[39m
[2017-09-27 10:59:44.060] [INFO] console - enter===>
[2017-09-27 10:59:44.060] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - ReferenceError: req is not defined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/wechat.js:202:51)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getcard (/Users/zyg/optimization/pay/controllers/wechat.js:200:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:66:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:8:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-27 10:59:44.064] [INFO] console - enter===>22 { code: 509 }
[2017-09-27 10:59:44.065] [INFO] console - enter====> client { code: 509 } false
[2017-09-27 10:59:44.065] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7e38202058f98c8766f98584c80b846e&_v=2[39m [32m200[39m [90m7ms[39m [90m12b[39m
[2017-09-27 10:59:46.811] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112402100067539499807_1506481186818&code=DZ9gRxoZ_qmQIUDDSx27fo6njjcpEOMBO6J5rLw8xDE&state=1288Aa&_v=0&_=1506481186819[39m
[2017-09-27 10:59:47.422] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:59:38.946Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7e38202058f98c8766f98584c80b846e' }
[2017-09-27 10:59:47.424] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4fcb3ed2703a98cc7b5257bc46b797f3',
  cards: 9926 } false
[2017-09-27 10:59:47.425] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112402100067539499807_1506481186818&code=DZ9gRxoZ_qmQIUDDSx27fo6njjcpEOMBO6J5rLw8xDE&state=1288Aa&_v=0&_=1506481186819[39m [32m200[39m [90m614ms[39m [90m166b[39m
[2017-09-27 10:59:50.580] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=a6FQH-vWfpjUJ95aGPReZ01eY4ANj5d9Gn1nYZBcm_s&state=1288Aa&_v=0[39m
[2017-09-27 10:59:51.229] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:59:47.423Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4fcb3ed2703a98cc7b5257bc46b797f3' }
[2017-09-27 10:59:51.232] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f70bfb55cfcb95c85ca08d3cfed7e53d2',
  cards: 9926 } false
[2017-09-27 10:59:51.232] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=a6FQH-vWfpjUJ95aGPReZ01eY4ANj5d9Gn1nYZBcm_s&state=1288Aa&_v=0[39m [32m200[39m [90m652ms[39m [90m166b[39m
[2017-09-27 10:59:53.890] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=oc3i5_NHU1Dpgq1zJlZAbmN9t199pcVqPI9lDej-YqA&state=1288Aa&_v=0[39m
[2017-09-27 10:59:54.604] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:59:51.231Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f70bfb55cfcb95c85ca08d3cfed7e53d2' }
[2017-09-27 10:59:54.607] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f42e8316de76b1dac61e0615acb5c036f',
  cards: 9926 } false
[2017-09-27 10:59:54.608] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=oc3i5_NHU1Dpgq1zJlZAbmN9t199pcVqPI9lDej-YqA&state=1288Aa&_v=0[39m [32m200[39m [90m718ms[39m [90m166b[39m
[2017-09-27 11:00:27.192] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 11:00:27.197] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:00:27.208] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:00:27.260] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:02:27.389] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 11:06:31.211] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=-9LzxzzfFhXMixOvIsSEp3SqJd65qOtO-u0QP4iXgAE&state=1288Aa&_v=0[39m
[2017-09-27 11:06:31.868] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T02:59:54.605Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 11:06:31.880] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f2242978e306474fe4f8da35e7028438f',
  cards: 9926 } false
[2017-09-27 11:06:31.884] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=-9LzxzzfFhXMixOvIsSEp3SqJd65qOtO-u0QP4iXgAE&state=1288Aa&_v=0[39m [32m200[39m [90m674ms[39m [90m166b[39m
[2017-09-27 11:06:32.805] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f2242978e306474fe4f8da35e7028438f&_v=1[39m
[2017-09-27 11:06:32.807] [INFO] console - enter===>
[2017-09-27 11:06:32.825] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼',
  mch_id: '1430855702',
  nonce_str: '9xals1keoc7yw66',
  notify_url: 'http://120.76.182.17/v1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijing10000003',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-27 11:06:33.055] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[RjEkA8l5D4aDX25W]]></nonce_str>
<sign><![CDATA[A91F2EC77B5B86C7FFC8933FDDA805B3]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170927110633db857eaa560945968799]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 11:06:33.056] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[RjEkA8l5D4aDX25W]]></nonce_str>\n<sign><![CDATA[A91F2EC77B5B86C7FFC8933FDDA805B3]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170927110633db857eaa560945968799]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 11:06:33.057] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506481592',
     nonceStr: '9xals1keoc7yw66',
     signType: 'MD5',
     package: 'prepay_id=wx20170927110633db857eaa560945968799',
     paySign: 'DC587D284852F2762998EB5C382C907A' } } false
[2017-09-27 11:06:33.058] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f2242978e306474fe4f8da35e7028438f&_v=1[39m [32m200[39m [90m253ms[39m [90m225b[39m
[2017-09-27 11:06:36.587] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f2242978e306474fe4f8da35e7028438f&_v=2[39m
[2017-09-27 11:06:36.589] [INFO] console - enter===>
[2017-09-27 11:06:36.592] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - ReferenceError: req is not defined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/wechat.js:202:51)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getcard (/Users/zyg/optimization/pay/controllers/wechat.js:200:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:66:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:8:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-27 11:06:36.618] [INFO] console - enter===>22 { code: 509 }
[2017-09-27 11:06:36.618] [INFO] console - enter====> client { code: 509 } false
[2017-09-27 11:06:36.620] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f2242978e306474fe4f8da35e7028438f&_v=2[39m [32m200[39m [90m34ms[39m [90m12b[39m
[2017-09-27 11:07:50.004] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 11:07:50.015] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:07:50.038] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:07:50.073] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:07:59.016] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 11:07:59.022] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:07:59.033] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:07:59.069] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:08:50.304] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 11:08:50.312] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:08:50.332] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:08:50.372] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:10:50.463] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 11:19:30.078] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=-mCuvQTDHFR_qKzEoVlWCneWbKo6VkUxTjo5qt8Pq5c&state=1288Aa&_v=0[39m
[2017-09-27 11:19:30.903] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:06:31.869Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 11:19:30.916] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f874a3341fb0be3526889c8ec53a980d7',
  cards: 9926 } false
[2017-09-27 11:19:30.919] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=-mCuvQTDHFR_qKzEoVlWCneWbKo6VkUxTjo5qt8Pq5c&state=1288Aa&_v=0[39m [32m200[39m [90m842ms[39m [90m166b[39m
[2017-09-27 11:22:01.268] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=wMK3Q51J6XKb9R0tfUUhfB33Gd5lkRzHBtTMGgsduWk&state=1288Aa&_v=0[39m
[2017-09-27 11:22:02.384] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:19:30.904Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f874a3341fb0be3526889c8ec53a980d7' }
[2017-09-27 11:22:02.387] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff90e3b94c9e0f8d5819b9cc8c02d94f3',
  cards: 9926 } false
[2017-09-27 11:22:02.387] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=wMK3Q51J6XKb9R0tfUUhfB33Gd5lkRzHBtTMGgsduWk&state=1288Aa&_v=0[39m [32m200[39m [90m1,119ms[39m [90m166b[39m
[2017-09-27 11:22:06.586] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124017603796029824403_1506482526598&code=MYaO8LYfkPPniwUiiNz6ca7OvtZPlCa-TI_dIQK_loA&state=1288Aa&_v=0&_=1506482526599[39m
[2017-09-27 11:22:07.248] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:22:02.385Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff90e3b94c9e0f8d5819b9cc8c02d94f3' }
[2017-09-27 11:22:07.252] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f90a8f0e3f607dd76baf7ea52d8e08d70',
  cards: 9926 } false
[2017-09-27 11:22:07.253] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124017603796029824403_1506482526598&code=MYaO8LYfkPPniwUiiNz6ca7OvtZPlCa-TI_dIQK_loA&state=1288Aa&_v=0&_=1506482526599[39m [32m200[39m [90m667ms[39m [90m166b[39m
[2017-09-27 11:22:21.538] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=c3p1DfAJxAhUuDWokxHO3TQFYQeE9mRv5mKvTXf4j9g&state=1288Aa&_v=0[39m
[2017-09-27 11:22:22.221] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:22:07.249Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f90a8f0e3f607dd76baf7ea52d8e08d70' }
[2017-09-27 11:22:22.224] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1d43dc539d2c56a278bad1a0ae2c51f8',
  cards: 9926 } false
[2017-09-27 11:22:22.226] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=c3p1DfAJxAhUuDWokxHO3TQFYQeE9mRv5mKvTXf4j9g&state=1288Aa&_v=0[39m [32m200[39m [90m688ms[39m [90m166b[39m
[2017-09-27 11:22:26.127] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1d43dc539d2c56a278bad1a0ae2c51f8&page=0&_v=1[39m
[2017-09-27 11:22:26.128] [INFO] console - enter===>
[2017-09-27 11:22:26.143] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - ReferenceError: err is not defined
    at _callee8$ (/Users/zyg/optimization/pay/controllers/wechat.js:309:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-27 11:22:26.168] [INFO] console - enter===>22 { code: 509 }
[2017-09-27 11:22:26.168] [INFO] console - enter====> client { code: 509 } false
[2017-09-27 11:22:26.169] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1d43dc539d2c56a278bad1a0ae2c51f8&page=0&_v=1[39m [32m200[39m [90m42ms[39m [90m12b[39m
[2017-09-27 11:22:56.582] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=N1JyDwJS03qBCmTMWaYQBVH2rYPRyOWChqUAmK5X2_U&state=1288Aa&_v=0[39m
[2017-09-27 11:22:57.440] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:22:22.222Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1d43dc539d2c56a278bad1a0ae2c51f8' }
[2017-09-27 11:22:57.443] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1a4f43a4358a4fc2e21ccf2d629aecf1',
  cards: 9926 } false
[2017-09-27 11:22:57.444] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=N1JyDwJS03qBCmTMWaYQBVH2rYPRyOWChqUAmK5X2_U&state=1288Aa&_v=0[39m [32m200[39m [90m862ms[39m [90m166b[39m
[2017-09-27 11:22:57.594] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1a4f43a4358a4fc2e21ccf2d629aecf1&page=0&_v=1[39m
[2017-09-27 11:22:57.595] [INFO] console - enter===>
[2017-09-27 11:22:57.599] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - ReferenceError: err is not defined
    at _callee8$ (/Users/zyg/optimization/pay/controllers/wechat.js:309:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-27 11:22:57.600] [INFO] console - enter===>22 { code: 509 }
[2017-09-27 11:22:57.600] [INFO] console - enter====> client { code: 509 } false
[2017-09-27 11:22:57.601] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1a4f43a4358a4fc2e21ccf2d629aecf1&page=0&_v=1[39m [32m200[39m [90m7ms[39m [90m12b[39m
[2017-09-27 11:23:24.647] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 11:23:24.657] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:23:24.668] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:23:24.710] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:23:27.927] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240991957804456641_1506482607949&code=K1q2weW71oVzjolGACRlcpiA5Uh078ICGeAGPi-ye6s&state=1288Aa&_v=0&_=1506482607950[39m
[2017-09-27 11:23:28.636] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:22:57.441Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 11:23:28.648] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1db6948ed0fc958e49e049c03deea283',
  cards: 9926 } false
[2017-09-27 11:23:28.651] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240991957804456641_1506482607949&code=K1q2weW71oVzjolGACRlcpiA5Uh078ICGeAGPi-ye6s&state=1288Aa&_v=0&_=1506482607950[39m [32m200[39m [90m724ms[39m [90m166b[39m
[2017-09-27 11:23:34.556] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=n2Uuo5Q_G1SthXByYz-TM5x46DTsf_KpW7T4k1jHRdM&state=1288Aa&_v=0[39m
[2017-09-27 11:23:35.232] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:23:28.638Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1db6948ed0fc958e49e049c03deea283' }
[2017-09-27 11:23:35.235] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7c79c2ca2e258caedcc53554fe0191f6',
  cards: 9926 } false
[2017-09-27 11:23:35.236] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=n2Uuo5Q_G1SthXByYz-TM5x46DTsf_KpW7T4k1jHRdM&state=1288Aa&_v=0[39m [32m200[39m [90m680ms[39m [90m166b[39m
[2017-09-27 11:23:35.374] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7c79c2ca2e258caedcc53554fe0191f6&page=0&_v=1[39m
[2017-09-27 11:23:35.375] [INFO] console - enter===>
[2017-09-27 11:23:35.383] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 11:23:35.384] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 11:23:35.386] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7c79c2ca2e258caedcc53554fe0191f6&page=0&_v=1[39m [32m200[39m [90m12ms[39m [90m371b[39m
[2017-09-27 11:23:50.207] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=1k9dVrdH1xY1AtPl32QypnQD5zZTDFUgfKEwfZXJH0Q&state=1288Aa&_v=0[39m
[2017-09-27 11:23:50.859] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:23:35.233Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7c79c2ca2e258caedcc53554fe0191f6' }
[2017-09-27 11:23:50.864] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f59bbc9050880bdbe2205136c55d6ce66',
  cards: 9926 } false
[2017-09-27 11:23:50.865] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=1k9dVrdH1xY1AtPl32QypnQD5zZTDFUgfKEwfZXJH0Q&state=1288Aa&_v=0[39m [32m200[39m [90m658ms[39m [90m166b[39m
[2017-09-27 11:23:51.269] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f59bbc9050880bdbe2205136c55d6ce66&page=0&_v=1[39m
[2017-09-27 11:23:51.269] [INFO] console - enter===>
[2017-09-27 11:23:51.275] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 11:23:51.276] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 11:23:51.278] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f59bbc9050880bdbe2205136c55d6ce66&page=0&_v=1[39m [32m200[39m [90m10ms[39m [90m371b[39m
[2017-09-27 11:23:53.529] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Svp8qOcAM2L_iWIeVFYOuF12GTi8fdGqrEcaX5qAWo8&state=1288Aa&_v=0[39m
[2017-09-27 11:23:54.228] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:23:50.859Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f59bbc9050880bdbe2205136c55d6ce66' }
[2017-09-27 11:23:54.231] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7822155f530bbf6626a9953995756708',
  cards: 9926 } false
[2017-09-27 11:23:54.232] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Svp8qOcAM2L_iWIeVFYOuF12GTi8fdGqrEcaX5qAWo8&state=1288Aa&_v=0[39m [32m200[39m [90m704ms[39m [90m166b[39m
[2017-09-27 11:23:54.407] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7822155f530bbf6626a9953995756708&page=0&_v=1[39m
[2017-09-27 11:23:54.408] [INFO] console - enter===>
[2017-09-27 11:23:54.414] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 11:23:54.418] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 11:23:54.420] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7822155f530bbf6626a9953995756708&page=0&_v=1[39m [32m200[39m [90m13ms[39m [90m371b[39m
[2017-09-27 11:25:01.150] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=kOf_IcjL4jxRmutG9LkEscK3ZdNOyNHExSMPI6xKZ6g&state=1288Aa&_v=0[39m
[2017-09-27 11:25:02.159] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:23:54.230Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7822155f530bbf6626a9953995756708' }
[2017-09-27 11:25:02.162] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f23c0e332f1bc9d746f8d76b693271dc2',
  cards: 9926 } false
[2017-09-27 11:25:02.164] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=kOf_IcjL4jxRmutG9LkEscK3ZdNOyNHExSMPI6xKZ6g&state=1288Aa&_v=0[39m [32m200[39m [90m1,015ms[39m [90m166b[39m
[2017-09-27 11:25:03.800] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=1Pk8-hceCwzJqO9zvF7cIWtwkFt2Wv5a5RB7a2JbfbU&state=1288Aa&_v=0[39m
[2017-09-27 11:25:04.388] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:25:02.160Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f23c0e332f1bc9d746f8d76b693271dc2' }
[2017-09-27 11:25:04.389] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f48fcb3b7970f0a4fb1601df6609b679d',
  cards: 9926 } false
[2017-09-27 11:25:04.390] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=1Pk8-hceCwzJqO9zvF7cIWtwkFt2Wv5a5RB7a2JbfbU&state=1288Aa&_v=0[39m [32m200[39m [90m590ms[39m [90m166b[39m
[2017-09-27 11:25:04.510] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f48fcb3b7970f0a4fb1601df6609b679d&page=0&_v=1[39m
[2017-09-27 11:25:04.511] [INFO] console - enter===>
[2017-09-27 11:25:04.517] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 11:25:04.518] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 11:25:04.520] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f48fcb3b7970f0a4fb1601df6609b679d&page=0&_v=1[39m [32m200[39m [90m10ms[39m [90m371b[39m
[2017-09-27 11:25:19.452] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=DNbRlqs9Bw_yYmGabf2y5unyB2SQVWNqZ7wPVua0K5g&state=1288Aa&_v=0[39m
[2017-09-27 11:25:20.047] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:25:04.388Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f48fcb3b7970f0a4fb1601df6609b679d' }
[2017-09-27 11:25:20.049] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff12772377c48fda0644e36bf84defb0f',
  cards: 9926 } false
[2017-09-27 11:25:20.049] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=DNbRlqs9Bw_yYmGabf2y5unyB2SQVWNqZ7wPVua0K5g&state=1288Aa&_v=0[39m [32m200[39m [90m597ms[39m [90m166b[39m
[2017-09-27 11:25:20.186] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff12772377c48fda0644e36bf84defb0f&page=0&_v=1[39m
[2017-09-27 11:25:20.187] [INFO] console - enter===>
[2017-09-27 11:25:20.190] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 11:25:20.191] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 11:25:20.192] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff12772377c48fda0644e36bf84defb0f&page=0&_v=1[39m [32m200[39m [90m6ms[39m [90m371b[39m
[2017-09-27 11:25:24.698] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 11:25:31.718] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Zikt48npMG1vq5ivVY2j9hdlQ_2T2ah9XRFyxomHtfM&state=1288Aa&_v=0[39m
[2017-09-27 11:25:32.479] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:25:20.047Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff12772377c48fda0644e36bf84defb0f' }
[2017-09-27 11:25:32.482] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f61ea216845934ac1e452e19e3a1a45b9',
  cards: 9926 } false
[2017-09-27 11:25:32.483] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Zikt48npMG1vq5ivVY2j9hdlQ_2T2ah9XRFyxomHtfM&state=1288Aa&_v=0[39m [32m200[39m [90m765ms[39m [90m166b[39m
[2017-09-27 11:25:34.093] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112405769338467213989_1506482734117&code=EjuU86-mp1g5aZOQLI9bIW7d9PcXReU2Vnur7pctybc&state=1288Aa&_v=0&_=1506482734118[39m
[2017-09-27 11:25:34.833] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:25:32.480Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f61ea216845934ac1e452e19e3a1a45b9' }
[2017-09-27 11:25:34.834] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcc0aa233a29dc17838b4f9ed206f2207',
  cards: 9926 } false
[2017-09-27 11:25:34.836] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112405769338467213989_1506482734117&code=EjuU86-mp1g5aZOQLI9bIW7d9PcXReU2Vnur7pctybc&state=1288Aa&_v=0&_=1506482734118[39m [32m200[39m [90m743ms[39m [90m166b[39m
[2017-09-27 11:25:42.304] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=mdOsPoUPU13FlR1y2QQOfcKnn7hWt1xDwp1Lqgwpfqw&state=1288Aa&_v=0[39m
[2017-09-27 11:25:43.019] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:25:34.833Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fcc0aa233a29dc17838b4f9ed206f2207' }
[2017-09-27 11:25:43.024] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4a78110a9285717d9321b0dd3ab7db03',
  cards: 9926 } false
[2017-09-27 11:25:43.026] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=mdOsPoUPU13FlR1y2QQOfcKnn7hWt1xDwp1Lqgwpfqw&state=1288Aa&_v=0[39m [32m200[39m [90m722ms[39m [90m166b[39m
[2017-09-27 11:25:46.660] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=eaS21O5-vzbyURPh_7KrsQ_uZ17MMdCxmz28b7kc7bY&state=1288Aa&_v=0[39m
[2017-09-27 11:25:47.521] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:25:43.022Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4a78110a9285717d9321b0dd3ab7db03' }
[2017-09-27 11:25:47.523] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdf822ffd99c5615f578232c7b90527b2',
  cards: 9926 } false
[2017-09-27 11:25:47.524] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=eaS21O5-vzbyURPh_7KrsQ_uZ17MMdCxmz28b7kc7bY&state=1288Aa&_v=0[39m [32m200[39m [90m865ms[39m [90m166b[39m
[2017-09-27 11:25:50.054] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407350328734080588_1506482750087&code=H83oCXezVRpDHsPppib6QADA8kDIj6uUSPSbco4aqYM&state=1288Aa&_v=0&_=1506482750088[39m
[2017-09-27 11:25:50.746] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:25:47.522Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fdf822ffd99c5615f578232c7b90527b2' }
[2017-09-27 11:25:50.748] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9d0a96ad3c8a926440d4e32d8865288f',
  cards: 9926 } false
[2017-09-27 11:25:50.749] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407350328734080588_1506482750087&code=H83oCXezVRpDHsPppib6QADA8kDIj6uUSPSbco4aqYM&state=1288Aa&_v=0&_=1506482750088[39m [32m200[39m [90m695ms[39m [90m166b[39m
[2017-09-27 11:26:11.855] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=4YA4tPHQxhB-V0P2CurBhBfQngNJ-_B6NgIDyp_Vpto&state=1288Aa&_v=0[39m
[2017-09-27 11:26:12.593] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:25:50.747Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f9d0a96ad3c8a926440d4e32d8865288f' }
[2017-09-27 11:26:12.595] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4fdb07a13a792e0bef52566dbf620ec1',
  cards: 9926 } false
[2017-09-27 11:26:12.595] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=4YA4tPHQxhB-V0P2CurBhBfQngNJ-_B6NgIDyp_Vpto&state=1288Aa&_v=0[39m [32m200[39m [90m740ms[39m [90m166b[39m
[2017-09-27 11:26:13.002] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4fdb07a13a792e0bef52566dbf620ec1&page=0&_v=1[39m
[2017-09-27 11:26:13.003] [INFO] console - enter===>
[2017-09-27 11:26:13.006] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 11:26:13.006] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 11:26:13.008] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4fdb07a13a792e0bef52566dbf620ec1&page=0&_v=1[39m [32m200[39m [90m6ms[39m [90m371b[39m
[2017-09-27 11:26:14.781] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124048096603373539193_1506482774810&code=6VwfnQpgfi6FP7FMomqXKFecacxO7PSkXxndF9j8J2w&state=1288Aa&_v=0&_=1506482774811[39m
[2017-09-27 11:26:15.429] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:26:12.594Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f4fdb07a13a792e0bef52566dbf620ec1' }
[2017-09-27 11:26:15.431] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f614dca6192e24214cf1910697f3d3bb6',
  cards: 9926 } false
[2017-09-27 11:26:15.432] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124048096603373539193_1506482774810&code=6VwfnQpgfi6FP7FMomqXKFecacxO7PSkXxndF9j8J2w&state=1288Aa&_v=0&_=1506482774811[39m [32m200[39m [90m651ms[39m [90m166b[39m
[2017-09-27 11:27:29.562] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=S9affM-ylbC-NAfp4OFpNoh9HI-Kz-i3C0paW85pIfE&state=1288Aa&_v=0[39m
[2017-09-27 11:27:30.250] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:26:15.429Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f614dca6192e24214cf1910697f3d3bb6' }
[2017-09-27 11:27:30.253] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f931d4b9401dd5e32daf0b1322360cca7',
  cards: 9926 } false
[2017-09-27 11:27:30.255] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=S9affM-ylbC-NAfp4OFpNoh9HI-Kz-i3C0paW85pIfE&state=1288Aa&_v=0[39m [32m200[39m [90m693ms[39m [90m166b[39m
[2017-09-27 11:27:30.496] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f931d4b9401dd5e32daf0b1322360cca7&page=0&_v=1[39m
[2017-09-27 11:27:30.498] [INFO] console - enter===>
[2017-09-27 11:27:30.502] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 11:27:30.503] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 11:27:30.504] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f931d4b9401dd5e32daf0b1322360cca7&page=0&_v=1[39m [32m200[39m [90m8ms[39m [90m371b[39m
[2017-09-27 11:27:32.516] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=r1qfokk3OBAfUgpp9VrD7UudaLVKrEffHqzpW0P6t8A&state=1288Aa&_v=0[39m
[2017-09-27 11:27:33.111] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:27:30.251Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f931d4b9401dd5e32daf0b1322360cca7' }
[2017-09-27 11:27:33.113] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f59be9b6c440da6cfcae6d9e8567d47d8',
  cards: 9926 } false
[2017-09-27 11:27:33.115] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=r1qfokk3OBAfUgpp9VrD7UudaLVKrEffHqzpW0P6t8A&state=1288Aa&_v=0[39m [32m200[39m [90m599ms[39m [90m166b[39m
[2017-09-27 11:27:33.198] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sellhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f59be9b6c440da6cfcae6d9e8567d47d8&page=0&_v=1[39m
[2017-09-27 11:27:33.199] [INFO] console - enter===>
[2017-09-27 11:27:33.210] [INFO] console - enter====> client { code: 200, data: [], count: 0 } false
[2017-09-27 11:27:33.211] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sellhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f59be9b6c440da6cfcae6d9e8567d47d8&page=0&_v=1[39m [32m200[39m [90m13ms[39m [90m32b[39m
[2017-09-27 11:27:42.195] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=1cnjdZw8sr43jmIkd-V4MnXsmsc3aGZKgO_tyQPpw_g&state=1288Aa&_v=0[39m
[2017-09-27 11:27:42.952] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:27:33.112Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f59be9b6c440da6cfcae6d9e8567d47d8' }
[2017-09-27 11:27:42.953] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f961af2db9f60b6cd5bf01ac93bcc3ab6',
  cards: 9926 } false
[2017-09-27 11:27:42.954] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=1cnjdZw8sr43jmIkd-V4MnXsmsc3aGZKgO_tyQPpw_g&state=1288Aa&_v=0[39m [32m200[39m [90m759ms[39m [90m166b[39m
[2017-09-27 11:27:46.076] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=F3cu606IAji_Mcsz-f4HIPCwxGzQO39RGQ2_Yoym0DQ&state=1288Aa&_v=0[39m
[2017-09-27 11:27:46.744] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:27:42.952Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f961af2db9f60b6cd5bf01ac93bcc3ab6' }
[2017-09-27 11:27:46.745] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f51eb2cde193874c91fddf2f9234ebb90',
  cards: 9926 } false
[2017-09-27 11:27:46.746] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=F3cu606IAji_Mcsz-f4HIPCwxGzQO39RGQ2_Yoym0DQ&state=1288Aa&_v=0[39m [32m200[39m [90m670ms[39m [90m166b[39m
[2017-09-27 11:36:22.601] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 11:36:22.608] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:36:22.617] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:36:22.652] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:38:22.636] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 11:41:07.621] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 11:41:07.632] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:41:07.642] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:41:07.696] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:42:23.950] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 11:42:23.973] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-27 11:42:23.960] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:42:23.994] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:42:23.993] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:42:24.018] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:42:24.036] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:42:24.080] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:43:01.978] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-27 11:43:01.993] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 11:43:02.011] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 11:43:02.054] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 11:44:24.004] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 11:45:02.053] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-27 11:45:24.292] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=8YF5ugDEDkDQPeJdZBTu6GQ_RHy0ISNm0EF9TQJ9EB8&state=1288Aa&_v=0[39m
[2017-09-27 11:45:24.963] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:27:46.744Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 11:45:24.977] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fa41d222725d53a6d3aec054be5587c42',
  cards: 9926 } false
[2017-09-27 11:45:24.981] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=8YF5ugDEDkDQPeJdZBTu6GQ_RHy0ISNm0EF9TQJ9EB8&state=1288Aa&_v=0[39m [32m200[39m [90m689ms[39m [90m166b[39m
[2017-09-27 11:45:28.714] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=3zIwZtMgi5hFZjeHEWD0cP3BmpctNhtmvGM8MzudjVo&state=1288Aa&_v=0[39m
[2017-09-27 11:45:29.374] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:45:24.964Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fa41d222725d53a6d3aec054be5587c42' }
[2017-09-27 11:45:29.378] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fecb5949168be8b8cb78ff6d6066e27ab',
  cards: 9926 } false
[2017-09-27 11:45:29.379] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=3zIwZtMgi5hFZjeHEWD0cP3BmpctNhtmvGM8MzudjVo&state=1288Aa&_v=0[39m [32m200[39m [90m666ms[39m [90m166b[39m
[2017-09-27 11:45:29.784] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fecb5949168be8b8cb78ff6d6066e27ab&page=0&_v=1[39m
[2017-09-27 11:45:29.784] [INFO] console - enter===>
[2017-09-27 11:45:29.790] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 11:45:29.792] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 11:45:29.793] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fecb5949168be8b8cb78ff6d6066e27ab&page=0&_v=1[39m [32m200[39m [90m10ms[39m [90m371b[39m
[2017-09-27 11:45:32.858] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=tyDDgnAGG3lpkB-g-zFe_qJRVqHH2hNl_UVtqEmv5Ak&state=1288Aa&_v=0[39m
[2017-09-27 11:45:33.466] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:45:29.376Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fecb5949168be8b8cb78ff6d6066e27ab' }
[2017-09-27 11:45:33.469] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff84f28389366fe21be5a24d240c611fd',
  cards: 9926 } false
[2017-09-27 11:45:33.469] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=tyDDgnAGG3lpkB-g-zFe_qJRVqHH2hNl_UVtqEmv5Ak&state=1288Aa&_v=0[39m [32m200[39m [90m611ms[39m [90m166b[39m
[2017-09-27 11:45:33.634] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sellhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff84f28389366fe21be5a24d240c611fd&page=0&_v=1[39m
[2017-09-27 11:45:33.634] [INFO] console - enter===>
[2017-09-27 11:45:33.639] [INFO] console - enter====> client { code: 200, data: [], count: 0 } false
[2017-09-27 11:45:33.640] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sellhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff84f28389366fe21be5a24d240c611fd&page=0&_v=1[39m [32m200[39m [90m6ms[39m [90m32b[39m
[2017-09-27 11:45:37.344] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=PItX6RHZfU6Wi8_W9JCLw8XzE4spYgs8DRvTixW8OnY&state=1288Aa&_v=0[39m
[2017-09-27 11:45:38.001] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:45:33.467Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131ff84f28389366fe21be5a24d240c611fd' }
[2017-09-27 11:45:38.007] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f717ba6d896d54e2dddcdd805efa63afc',
  cards: 9926 } false
[2017-09-27 11:45:38.009] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=PItX6RHZfU6Wi8_W9JCLw8XzE4spYgs8DRvTixW8OnY&state=1288Aa&_v=0[39m [32m200[39m [90m665ms[39m [90m166b[39m
[2017-09-27 13:42:46.506] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=jL1YkTzzKsXe6iGLZAYMGPn6lO7p_A7TmV7NYbanQ98&state=1288Aa&_v=0[39m
[2017-09-27 13:42:47.169] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T03:45:38.002Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f717ba6d896d54e2dddcdd805efa63afc' }
[2017-09-27 13:42:47.192] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f92d0ff00f5fa326152d9038890182e2b',
  cards: 9926 } false
[2017-09-27 13:42:47.194] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=jL1YkTzzKsXe6iGLZAYMGPn6lO7p_A7TmV7NYbanQ98&state=1288Aa&_v=0[39m [32m200[39m [90m693ms[39m [90m166b[39m
[2017-09-27 13:42:47.278] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f92d0ff00f5fa326152d9038890182e2b&page=0&_v=1[39m
[2017-09-27 13:42:47.283] [INFO] console - enter===>
[2017-09-27 13:42:47.297] [INFO] console - { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 }
[2017-09-27 13:42:47.298] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 4 } false
[2017-09-27 13:42:47.305] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f92d0ff00f5fa326152d9038890182e2b&page=0&_v=1[39m [32m200[39m [90m27ms[39m [90m371b[39m
[2017-09-27 13:42:53.751] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=aolBWr1sDv8YzKkn2H9keXNri4LCgflVYFw9ZTU39i8&state=1288Aa&_v=0[39m
[2017-09-27 13:42:54.358] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T05:42:47.174Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f92d0ff00f5fa326152d9038890182e2b' }
[2017-09-27 13:42:54.361] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f5afb4ab1e78a7453bc49c6995337c6e8',
  cards: 9926 } false
[2017-09-27 13:42:54.362] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=aolBWr1sDv8YzKkn2H9keXNri4LCgflVYFw9ZTU39i8&state=1288Aa&_v=0[39m [32m200[39m [90m611ms[39m [90m166b[39m
[2017-09-27 13:44:39.802] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-27 13:44:39.808] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 13:44:39.858] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechatv1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechatv1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 13:44:39.873] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 13:44:39.909] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 14:56:10.197] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 14:56:10.203] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 14:56:10.233] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 14:56:11.136] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=PrH5VUiT43Pe4OlSeaEe0bq3Vh5gJaQY5AFhMu_YiFY&state=1288Aa&_v=0[39m
[2017-09-27 14:56:11.836] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - { WeChatAPIError: invalid access_token
    at /Users/zyg/optimization/pay/node_modules/.0.3.0@wechat-enterprise-api/lib/util.js:13:13
    at done (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:453:5)
    at /Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:702:9
    at decodeContent (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:526:14)
    at IncomingMessage.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:667:7)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
From previous event:
    at Promise.longStackTracesCaptureStackTrace [as _captureStackTrace] (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/debuggability.js:397:19)
    at API.ret [as getUserIdByCodeAsync] (eval at makeNodePromisifiedEval (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promisify.js:184:12), <anonymous>:8:21)
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:29:29)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:26:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:8:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
    at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
    at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
    at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
  cause: 
   { WeChatAPIError: invalid access_token
       at /Users/zyg/optimization/pay/node_modules/.0.3.0@wechat-enterprise-api/lib/util.js:13:13
       at done (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:453:5)
       at /Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:702:9
       at decodeContent (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:526:14)
       at IncomingMessage.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.24.0@urllib/lib/urllib.js:667:7)
       at emitNone (events.js:91:20)
       at IncomingMessage.emit (events.js:185:7)
       at endReadableNT (_stream_readable.js:974:12)
       at _combinedTickCallback (internal/process/next_tick.js:74:11)
       at process._tickDomainCallback (internal/process/next_tick.js:122:9) name: 'WeChatAPIError', code: 40014 },
  isOperational: true,
  code: 40014 }
[2017-09-27 14:56:11.879] [INFO] console - enter====> client { code: 504 } false
[2017-09-27 14:56:11.888] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=PrH5VUiT43Pe4OlSeaEe0bq3Vh5gJaQY5AFhMu_YiFY&state=1288Aa&_v=0[39m [32m200[39m [90m753ms[39m [90m12b[39m
[2017-09-27 14:56:14.338] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Z8FTzJ-oc334zl4p6h6RjS8KbTXq8q5Q5z8aVmEAKy4&state=1288Aa&_v=0[39m
[2017-09-27 14:56:15.107] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T05:42:54.359Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 14:56:15.126] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1bd2db87c0b7b87f1d8feec44306f59d',
  cards: 9926 } false
[2017-09-27 14:56:15.129] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Z8FTzJ-oc334zl4p6h6RjS8KbTXq8q5Q5z8aVmEAKy4&state=1288Aa&_v=0[39m [32m200[39m [90m791ms[39m [90m166b[39m
[2017-09-27 14:56:17.845] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1bd2db87c0b7b87f1d8feec44306f59d&_v=1[39m
[2017-09-27 14:56:17.846] [INFO] console - enter===>
[2017-09-27 14:56:17.877] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼',
  mch_id: '1430855702',
  nonce_str: 'ofixnpv2nf47l34',
  notify_url: 'http://120.76.182.17:8085/api/wechatv1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijin10000004',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-27 14:56:18.134] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[ioDticOzW2Fl9X1y]]></nonce_str>
<sign><![CDATA[02D3173E8F8FFCF21F75FEDC18434D6A]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170927145618ebcaa147ff0863336499]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 14:56:18.134] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[ioDticOzW2Fl9X1y]]></nonce_str>\n<sign><![CDATA[02D3173E8F8FFCF21F75FEDC18434D6A]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170927145618ebcaa147ff0863336499]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 14:56:18.136] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506495377',
     nonceStr: 'ofixnpv2nf47l34',
     signType: 'MD5',
     package: 'prepay_id=wx20170927145618ebcaa147ff0863336499',
     paySign: '8C41FB0BF007F84571009927C533DED4' } } false
[2017-09-27 14:56:18.137] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1bd2db87c0b7b87f1d8feec44306f59d&_v=1[39m [32m200[39m [90m292ms[39m [90m225b[39m
[2017-09-27 14:57:28.467] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 14:57:28.570] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 14:57:28.659] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 14:57:36.410] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=WMgs6eR278Xx07n_BHPib2EPjRq_213SrqTWS6N0oLk&state=1288Aa&_v=0[39m
[2017-09-27 14:57:37.136] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T06:56:15.109Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 14:57:37.156] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7374a45b66540fa500e53891b3047140',
  cards: 9926 } false
[2017-09-27 14:57:37.161] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=WMgs6eR278Xx07n_BHPib2EPjRq_213SrqTWS6N0oLk&state=1288Aa&_v=0[39m [32m200[39m [90m752ms[39m [90m166b[39m
[2017-09-27 14:57:37.631] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7374a45b66540fa500e53891b3047140&_v=1[39m
[2017-09-27 14:57:37.634] [INFO] console - enter===>
[2017-09-27 14:57:37.658] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼',
  mch_id: '1430855702',
  nonce_str: 'h2xyldvp51mcni7',
  notify_url: 'http://120.76.182.17:8085/api/wechat/v1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijin10000005',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-27 14:57:37.884] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[BTiFzHhQfUHY8GtK]]></nonce_str>
<sign><![CDATA[D37416E621F14C40E0DA68D920E323EF]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx2017092714573770a86d73a00143402816]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 14:57:37.885] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[BTiFzHhQfUHY8GtK]]></nonce_str>\n<sign><![CDATA[D37416E621F14C40E0DA68D920E323EF]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx2017092714573770a86d73a00143402816]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 14:57:37.886] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506495457',
     nonceStr: 'h2xyldvp51mcni7',
     signType: 'MD5',
     package: 'prepay_id=wx2017092714573770a86d73a00143402816',
     paySign: 'EA5BEE777D597A4A5AD9F5C02E0A6942' } } false
[2017-09-27 14:57:37.888] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7374a45b66540fa500e53891b3047140&_v=1[39m [32m200[39m [90m257ms[39m [90m225b[39m
[2017-09-27 14:59:09.567] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7374a45b66540fa500e53891b3047140&_v=2[39m
[2017-09-27 14:59:09.571] [INFO] console - enter===>
[2017-09-27 14:59:09.574] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - ReferenceError: req is not defined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/wechat.js:202:51)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getcard (/Users/zyg/optimization/pay/controllers/wechat.js:200:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:66:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:8:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-27 14:59:09.632] [INFO] console - enter===>22 { code: 509 }
[2017-09-27 14:59:09.632] [INFO] console - enter====> client { code: 509 } false
[2017-09-27 14:59:09.640] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7374a45b66540fa500e53891b3047140&_v=2[39m [32m200[39m [90m73ms[39m [90m12b[39m
[2017-09-27 14:59:12.676] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=FJc6BmHPRlhrLKcFVR7BeyoAYMkEEfNO9hbAw4vjXpI&state=1288Aa&_v=0[39m
[2017-09-27 14:59:13.471] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T06:57:37.141Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f7374a45b66540fa500e53891b3047140' }
[2017-09-27 14:59:13.477] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f494ef68b5dbab7d65ed792863838109b',
  cards: 9926 } false
[2017-09-27 14:59:13.478] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=FJc6BmHPRlhrLKcFVR7BeyoAYMkEEfNO9hbAw4vjXpI&state=1288Aa&_v=0[39m [32m200[39m [90m802ms[39m [90m166b[39m
[2017-09-27 14:59:15.369] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Fas8WEVki1Vb1lSeuItXPhGTXj3y0fFlIbL1QnfJqOc&state=1288Aa&_v=0[39m
[2017-09-27 14:59:16.134] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T06:59:13.472Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f494ef68b5dbab7d65ed792863838109b' }
[2017-09-27 14:59:16.137] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f537ac1bba180529752d94c98ab3995',
  cards: 9926 } false
[2017-09-27 14:59:16.140] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Fas8WEVki1Vb1lSeuItXPhGTXj3y0fFlIbL1QnfJqOc&state=1288Aa&_v=0[39m [32m200[39m [90m771ms[39m [90m166b[39m
[2017-09-27 14:59:16.304] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f537ac1bba180529752d94c98ab3995&page=0&_v=1[39m
[2017-09-27 14:59:16.305] [INFO] console - enter===>
[2017-09-27 14:59:16.325] [INFO] console - { code: 200,
  data: 
   [ { id: 10000005,
       cost: 1,
       count: 100,
       date: 2017-09-27T06:57:37.635Z,
       status: 0,
       wxid: undefined },
     { id: 10000004,
       cost: 1,
       count: 100,
       date: 2017-09-27T06:56:17.849Z,
       status: 0,
       wxid: undefined },
     { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 6 }
[2017-09-27 14:59:16.330] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000005,
       cost: 1,
       count: 100,
       date: 2017-09-27T06:57:37.635Z,
       status: 0,
       wxid: undefined },
     { id: 10000004,
       cost: 1,
       count: 100,
       date: 2017-09-27T06:56:17.849Z,
       status: 0,
       wxid: undefined },
     { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 6 } false
[2017-09-27 14:59:16.334] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f537ac1bba180529752d94c98ab3995&page=0&_v=1[39m [32m200[39m [90m30ms[39m [90m535b[39m
[2017-09-27 14:59:18.785] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Ognx73O8l1TmmYAGxp8DqsBVHt9J3dr5aSjt53VsRuI&state=1288Aa&_v=0[39m
[2017-09-27 14:59:19.610] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T06:59:16.135Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8f537ac1bba180529752d94c98ab3995' }
[2017-09-27 14:59:19.613] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0eb6fbe53852685f89c93289f958e257',
  cards: 9926 } false
[2017-09-27 14:59:19.614] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Ognx73O8l1TmmYAGxp8DqsBVHt9J3dr5aSjt53VsRuI&state=1288Aa&_v=0[39m [32m200[39m [90m829ms[39m [90m166b[39m
[2017-09-27 15:06:34.639] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=-okaRWKZUXE9awD69VHnofuFaVbkOV9DnFyuxr413yQ&state=1288Aa&_v=0[39m
[2017-09-27 15:06:35.355] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T06:59:19.611Z,
     enable: true,
     power: 1,
     cards: 9926 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f0eb6fbe53852685f89c93289f958e257' }
[2017-09-27 15:06:35.369] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fac8dcf0e7a7a0b5f085f2e299e974200',
  cards: 9926 } false
[2017-09-27 15:06:35.372] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=-okaRWKZUXE9awD69VHnofuFaVbkOV9DnFyuxr413yQ&state=1288Aa&_v=0[39m [32m200[39m [90m734ms[39m [90m166b[39m
[2017-09-27 15:06:35.684] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fac8dcf0e7a7a0b5f085f2e299e974200&_v=1[39m
[2017-09-27 15:06:35.688] [INFO] console - enter===>
[2017-09-27 15:06:35.705] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼',
  mch_id: '1430855702',
  nonce_str: 'daf0xrrixmqre9q',
  notify_url: 'http://120.76.182.17:8085/api/wechat/v1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijin10000006',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-27 15:06:35.931] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[IwH41EqytVqUtw5P]]></nonce_str>
<sign><![CDATA[192E12E348414937028180003D55E445]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709271506355c75a591200012311227]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 15:06:35.932] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[IwH41EqytVqUtw5P]]></nonce_str>\n<sign><![CDATA[192E12E348414937028180003D55E445]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709271506355c75a591200012311227]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 15:06:35.932] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506495995',
     nonceStr: 'daf0xrrixmqre9q',
     signType: 'MD5',
     package: 'prepay_id=wx201709271506355c75a591200012311227',
     paySign: '482C9F5E8F4D523D3F1C2FE7C0A6E8AC' } } false
[2017-09-27 15:06:35.934] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fac8dcf0e7a7a0b5f085f2e299e974200&_v=1[39m [32m200[39m [90m250ms[39m [90m225b[39m
[2017-09-27 15:08:52.595] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 15:08:52.600] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 15:08:52.635] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 15:09:01.605] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=TdnuhIcCLxFHZCx3Sb-tkl9gi_sYDZ8rv7jch0zCrMU&state=1288Aa&_v=0[39m
[2017-09-27 15:09:02.712] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:06:35.361Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 15:09:02.730] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f68d71b845dfe37589466139c316559f1',
  cards: 9926 } false
[2017-09-27 15:09:02.734] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=TdnuhIcCLxFHZCx3Sb-tkl9gi_sYDZ8rv7jch0zCrMU&state=1288Aa&_v=0[39m [32m200[39m [90m1,129ms[39m [90m166b[39m
[2017-09-27 15:09:04.346] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f68d71b845dfe37589466139c316559f1&_v=1[39m
[2017-09-27 15:09:04.347] [INFO] console - enter===>
[2017-09-27 15:09:04.381] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼',
  mch_id: '1430855702',
  nonce_str: 'e4bfupjccz04lgt',
  notify_url: 'http://120.76.182.17:8085/api/wechat/v1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijin10000007',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-27 15:09:04.607] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[EoLlb8Z2L1PxrkWX]]></nonce_str>
<sign><![CDATA[2F1C5DE4DA4F1588C21A4019D0F4FC42]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709271509043c6b74adab0406540156]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 15:09:04.607] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[EoLlb8Z2L1PxrkWX]]></nonce_str>\n<sign><![CDATA[2F1C5DE4DA4F1588C21A4019D0F4FC42]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709271509043c6b74adab0406540156]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 15:09:04.609] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506496144',
     nonceStr: 'e4bfupjccz04lgt',
     signType: 'MD5',
     package: 'prepay_id=wx201709271509043c6b74adab0406540156',
     paySign: '750C098795475217576A62F67C0B86A6' } } false
[2017-09-27 15:09:04.611] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f68d71b845dfe37589466139c316559f1&_v=1[39m [32m200[39m [90m265ms[39m [90m225b[39m
[2017-09-27 15:10:54.249] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 15:10:54.254] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 15:10:54.266] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:10:58.671] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 15:10:58.686] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:10:58.708] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:10:58.732] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 15:10:58.785] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 15:11:43.237] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f68d71b845dfe37589466139c316559f1&_v=2[39m
[2017-09-27 15:11:43.244] [INFO] console - hooaaoaolaji
[2017-09-27 15:11:43.244] [INFO] console - enter====> client { code: 503, v: undefined } false
[2017-09-27 15:11:43.252] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/getcard?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f68d71b845dfe37589466139c316559f1&_v=2[39m [32m200[39m [90m16ms[39m [90m12b[39m
[2017-09-27 15:11:45.495] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Scx-Q-LU_0ocbzyQ0kCn9Qokny4uogo67ImJzeqx0QI&state=1288Aa&_v=0[39m
[2017-09-27 15:11:46.190] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:09:02.716Z,
     enable: true,
     power: 1,
     cards: 9926 } }
[2017-09-27 15:11:46.208] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fda1ee2af8479d8fd556e19872d64de99',
  cards: 9926 } false
[2017-09-27 15:11:46.210] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Scx-Q-LU_0ocbzyQ0kCn9Qokny4uogo67ImJzeqx0QI&state=1288Aa&_v=0[39m [32m200[39m [90m715ms[39m [90m166b[39m
[2017-09-27 15:11:46.616] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fda1ee2af8479d8fd556e19872d64de99&_v=1[39m
[2017-09-27 15:11:46.617] [INFO] console - enter===>
[2017-09-27 15:11:46.649] [INFO] console - { appid: 'wxcf0528b62d7cd09e',
  attach: 'å……å€¼',
  body: 'å……å€¼',
  mch_id: '1430855702',
  nonce_str: 'mrl9tjz7swu9qlw',
  notify_url: 'http://120.76.182.17:8085/api/wechat/v1/wxnotify',
  openid: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  out_trade_no: 'ruijin10000008',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-27 15:11:46.958] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[rJHDQpIN6qLA4EfQ]]></nonce_str>
<sign><![CDATA[08D403742CC6923D534C1EB211545C7C]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170927151146429ccc5ea90691613482]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 15:11:46.958] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxcf0528b62d7cd09e]]></appid>\n<mch_id><![CDATA[1430855702]]></mch_id>\n<nonce_str><![CDATA[rJHDQpIN6qLA4EfQ]]></nonce_str>\n<sign><![CDATA[08D403742CC6923D534C1EB211545C7C]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170927151146429ccc5ea90691613482]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 15:11:46.960] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxcf0528b62d7cd09e',
     timeStamp: '1506496306',
     nonceStr: 'mrl9tjz7swu9qlw',
     signType: 'MD5',
     package: 'prepay_id=wx20170927151146429ccc5ea90691613482',
     paySign: '21D8773B9E6681BC6D40C6CF0987383D' } } false
[2017-09-27 15:11:46.962] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/order?pid=1&id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fda1ee2af8479d8fd556e19872d64de99&_v=1[39m [32m200[39m [90m346ms[39m [90m225b[39m
[2017-09-27 15:12:56.078] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 15:12:56.100] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:12:56.130] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:12:56.137] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 15:12:56.174] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 15:13:13.948] [INFO] console -   [90m<--[39m [1mPOST[22m [90m/api/wechat/v1/wxnotify[39m
[2017-09-27 15:13:13.957] [INFO] console - enter===>
[2017-09-27 15:13:13.959] [INFO] console - sbsbsbs
[2017-09-27 15:13:13.960] [INFO] console - sbsbsbs555555
[2017-09-27 15:13:13.961] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-27 15:13:13.964] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/wechat.js - { Wechat: body is empty
    at _callee3$ (/Users/zyg/optimization/pay/controllers/wechat.js:109:28)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-27 15:13:13.992] [INFO] console - enter===>22 { Wechat: body is empty
    at _callee3$ (/Users/zyg/optimization/pay/controllers/wechat.js:109:28)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-27 15:13:13.993] [INFO] console - enter====> client { Wechat: body is empty
    at _callee3$ (/Users/zyg/optimization/pay/controllers/wechat.js:109:28)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' } true
[2017-09-27 15:13:14.000] [INFO] console -   [90m-->[39m [1mPOST[22m [90m/api/wechat/v1/wxnotify[39m [32m201[39m [90m53ms[39m [90m17b[39m
[2017-09-27 15:13:36.724] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-27 15:13:36.729] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-27 15:13:36.739] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:13:36.748] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:13:36.811] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-27 15:13:40.043] [INFO] console -   [90m<--[39m [1mPOST[22m [90m/api/wechat/v1/wxnotify[39m
[2017-09-27 15:13:40.052] [INFO] console - enter===>
[2017-09-27 15:13:40.054] [INFO] console - sbsbsbs 
    <xml><appid><![CDATA[wxcf0528b62d7cd09e]]></appid>
<attach><![CDATA[å……å€¼]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1430855702]]></mch_id>
<nonce_str><![CDATA[mrl9tjz7swu9qlw]]></nonce_str>
<openid><![CDATA[odukqwu2PR36lHOT_Nthv5WLswZ0]]></openid>
<out_trade_no><![CDATA[ruijin10000008]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[F5555497442552E3BCB35D9A49298643]]></sign>
<time_end><![CDATA[20170927151151]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000014201709274558215142]]></transaction_id>
</xml>
    
[2017-09-27 15:13:40.077] [INFO] console - F5555497442552E3BCB35D9A49298643 F5555497442552E3BCB35D9A49298643
[2017-09-27 15:13:40.118] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[SUCCESS]]></return_code>
    <return_msg><![CDATA[OK]]></return_msg>
</xml> true
[2017-09-27 15:13:40.124] [INFO] console -   [90m-->[39m [1mPOST[22m [90m/api/wechat/v1/wxnotify[39m [32m201[39m [90m82ms[39m [90m107b[39m
[2017-09-27 15:14:09.425] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=vPPfZ6KJTkkFlJIjsBior4JLfl6lHFdFOIdFobkJYXU&state=1288Aa&_v=0[39m
[2017-09-27 15:14:10.133] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:11:46.192Z,
     enable: true,
     power: 1,
     cards: 10026 } }
[2017-09-27 15:14:10.140] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fa11aa88900ead55c85d62c08b45a1d34',
  cards: 10026 } false
[2017-09-27 15:14:10.142] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=vPPfZ6KJTkkFlJIjsBior4JLfl6lHFdFOIdFobkJYXU&state=1288Aa&_v=0[39m [32m200[39m [90m717ms[39m [90m167b[39m
[2017-09-27 15:14:21.548] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=I682AKIt7dT19eHk0J4Q7s3rQmcbOjqWduDrtz4CKMc&state=1288Aa&_v=0[39m
[2017-09-27 15:14:22.399] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:14:10.136Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fa11aa88900ead55c85d62c08b45a1d34' }
[2017-09-27 15:14:22.404] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fff3eb5906d236bd0505e3198577f0817',
  cards: 10026 } false
[2017-09-27 15:14:22.405] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=I682AKIt7dT19eHk0J4Q7s3rQmcbOjqWduDrtz4CKMc&state=1288Aa&_v=0[39m [32m200[39m [90m857ms[39m [90m167b[39m
[2017-09-27 15:14:26.243] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=krJy5OUeHZf_ZGwWiVbfBkLb-x2QKThabuta87rMDRc&state=1288Aa&_v=0[39m
[2017-09-27 15:14:27.005] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:14:22.401Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fff3eb5906d236bd0505e3198577f0817' }
[2017-09-27 15:14:27.062] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fe1492a2814aa57abf750ac354265c4',
  cards: 10026 } false
[2017-09-27 15:14:27.064] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=krJy5OUeHZf_ZGwWiVbfBkLb-x2QKThabuta87rMDRc&state=1288Aa&_v=0[39m [32m200[39m [90m820ms[39m [90m167b[39m
[2017-09-27 15:14:27.172] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/sellhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fe1492a2814aa57abf750ac354265c4&page=0&_v=1[39m
[2017-09-27 15:14:27.174] [INFO] console - enter===>
[2017-09-27 15:14:27.184] [INFO] console - enter====> client { code: 200, data: [], count: 0 } false
[2017-09-27 15:14:27.185] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/sellhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fe1492a2814aa57abf750ac354265c4&page=0&_v=1[39m [32m200[39m [90m13ms[39m [90m32b[39m
[2017-09-27 15:14:28.916] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=Aw4jgl3Kuhg_tUsZDIRdyN6BiZH9O61CcYwO_FCd1Ys&state=1288Aa&_v=0[39m
[2017-09-27 15:14:29.632] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:14:27.006Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f8fe1492a2814aa57abf750ac354265c4' }
[2017-09-27 15:14:29.640] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f91f028e40779879adaca97037f487daf',
  cards: 10026 } false
[2017-09-27 15:14:29.648] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=Aw4jgl3Kuhg_tUsZDIRdyN6BiZH9O61CcYwO_FCd1Ys&state=1288Aa&_v=0[39m [32m200[39m [90m733ms[39m [90m167b[39m
[2017-09-27 15:14:29.771] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f91f028e40779879adaca97037f487daf&page=0&_v=1[39m
[2017-09-27 15:14:29.772] [INFO] console - enter===>
[2017-09-27 15:14:29.795] [INFO] console - { code: 200,
  data: 
   [ { id: 10000008,
       cost: 1,
       count: 100,
       date: 2017-09-27T07:11:46.619Z,
       status: 1,
       wxid: '4200000014201709274558215142' },
     { id: 10000007,
       cost: 1,
       count: 100,
       date: 2017-09-27T07:09:04.350Z,
       status: 0,
       wxid: undefined },
     { id: 10000006,
       cost: 1,
       count: 100,
       date: 2017-09-27T07:06:35.689Z,
       status: 0,
       wxid: undefined },
     { id: 10000005,
       cost: 1,
       count: 100,
       date: 2017-09-27T06:57:37.635Z,
       status: 0,
       wxid: undefined },
     { id: 10000004,
       cost: 1,
       count: 100,
       date: 2017-09-27T06:56:17.849Z,
       status: 0,
       wxid: undefined },
     { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 9 }
[2017-09-27 15:14:29.799] [INFO] console - enter====> client { code: 200,
  data: 
   [ { id: 10000008,
       cost: 1,
       count: 100,
       date: 2017-09-27T07:11:46.619Z,
       status: 1,
       wxid: '4200000014201709274558215142' },
     { id: 10000007,
       cost: 1,
       count: 100,
       date: 2017-09-27T07:09:04.350Z,
       status: 0,
       wxid: undefined },
     { id: 10000006,
       cost: 1,
       count: 100,
       date: 2017-09-27T07:06:35.689Z,
       status: 0,
       wxid: undefined },
     { id: 10000005,
       cost: 1,
       count: 100,
       date: 2017-09-27T06:57:37.635Z,
       status: 0,
       wxid: undefined },
     { id: 10000004,
       cost: 1,
       count: 100,
       date: 2017-09-27T06:56:17.849Z,
       status: 0,
       wxid: undefined },
     { id: 10000003,
       cost: 1,
       count: 100,
       date: 2017-09-27T03:06:32.808Z,
       status: 0,
       wxid: undefined },
     { id: 10000002,
       cost: 23800,
       count: 200,
       date: 2017-09-27T02:59:41.609Z,
       status: 0,
       wxid: undefined },
     { id: 10000001,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:59:31.781Z,
       status: 0,
       wxid: undefined },
     { id: 10000000,
       cost: 12000,
       count: 100,
       date: 2017-09-27T02:57:13.035Z,
       status: 0,
       wxid: undefined } ],
  count: 9 } false
[2017-09-27 15:14:29.818] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/buyhistory?id=odukqwu2PR36lHOT_Nthv5WLswZ0&key=a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f91f028e40779879adaca97037f487daf&page=0&_v=1[39m [32m200[39m [90m47ms[39m [90m819b[39m
[2017-09-27 15:14:52.178] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=0FYl4vFEvhp0a76xTWSMu439MtYR3FVD3Nra_ffmokE&state=1288Aa&_v=0[39m
[2017-09-27 15:14:52.893] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:14:29.636Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f91f028e40779879adaca97037f487daf' }
[2017-09-27 15:14:52.901] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fbc1ef1d2f84698f029b40ce68c45059b',
  cards: 10026 } false
[2017-09-27 15:14:52.903] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=0FYl4vFEvhp0a76xTWSMu439MtYR3FVD3Nra_ffmokE&state=1288Aa&_v=0[39m [32m200[39m [90m726ms[39m [90m167b[39m
[2017-09-27 15:14:54.695] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=lEK-jUyOU3L--zED-x1ylwLbW0V1ybgL1XAXaJ3Fxfg&state=1288Aa&_v=0[39m
[2017-09-27 15:14:55.456] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:14:52.895Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fbc1ef1d2f84698f029b40ce68c45059b' }
[2017-09-27 15:14:55.459] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f6a0baad99ae9cb699bb0c817128709bf',
  cards: 10026 } false
[2017-09-27 15:14:55.461] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=lEK-jUyOU3L--zED-x1ylwLbW0V1ybgL1XAXaJ3Fxfg&state=1288Aa&_v=0[39m [32m200[39m [90m766ms[39m [90m167b[39m
[2017-09-27 15:14:57.243] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=x9oMJsIT5cXpkuiwG9_uH6gyrhXVRiIqb0yGSKu3vIg&state=1288Aa&_v=0[39m
[2017-09-27 15:14:57.909] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:14:55.457Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f6a0baad99ae9cb699bb0c817128709bf' }
[2017-09-27 15:14:57.912] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1de0d7ada85c4e77dba906d7cbea3f5d',
  cards: 10026 } false
[2017-09-27 15:14:57.914] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=x9oMJsIT5cXpkuiwG9_uH6gyrhXVRiIqb0yGSKu3vIg&state=1288Aa&_v=0[39m [32m200[39m [90m671ms[39m [90m167b[39m
[2017-09-27 15:15:06.877] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=xVEcDYB40QrlnjTpTS9U5s0Xf3wCmDMlR87CqrRqlWE&state=1288Aa&_v=0[39m
[2017-09-27 15:15:07.507] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:14:57.911Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f1de0d7ada85c4e77dba906d7cbea3f5d' }
[2017-09-27 15:15:07.514] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f09bd54940c84bd872d7b68202fc795e4',
  cards: 10026 } false
[2017-09-27 15:15:07.517] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=xVEcDYB40QrlnjTpTS9U5s0Xf3wCmDMlR87CqrRqlWE&state=1288Aa&_v=0[39m [32m200[39m [90m640ms[39m [90m167b[39m
[2017-09-27 15:15:10.900] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=bwBBiAMe0rn7fyaub8ps9sbK6JpGnxj2GlSEW9kWq9w&state=1288Aa&_v=0[39m
[2017-09-27 15:15:11.551] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:15:07.509Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f09bd54940c84bd872d7b68202fc795e4' }
[2017-09-27 15:15:11.555] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe4d619c93e24bf99f901838264996335',
  cards: 10026 } false
[2017-09-27 15:15:11.556] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=bwBBiAMe0rn7fyaub8ps9sbK6JpGnxj2GlSEW9kWq9w&state=1288Aa&_v=0[39m [32m200[39m [90m656ms[39m [90m167b[39m
[2017-09-27 15:17:48.812] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=jlJaxkW3zl2ywNcbuQ-mger5bNJ9cRvmQx3fBXKeJ-8&state=1288Aa&_v=0[39m
[2017-09-27 15:17:49.657] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:15:11.552Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fe4d619c93e24bf99f901838264996335' }
[2017-09-27 15:17:49.661] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f80094fbfb3e946cf93432fe159e2b9ab',
  cards: 10026 } false
[2017-09-27 15:17:49.664] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=jlJaxkW3zl2ywNcbuQ-mger5bNJ9cRvmQx3fBXKeJ-8&state=1288Aa&_v=0[39m [32m200[39m [90m852ms[39m [90m167b[39m
[2017-09-27 15:17:51.934] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?code=lHLk8xWGcBv_PovEWhXS3v-T3EQClv9pO8s5HZ3rXig&state=1288Aa&_v=0[39m
[2017-09-27 15:17:52.557] [INFO] console - { data: 
   { _id: 59ca1fcf994e31e822d54cd3,
     id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
     userid: 'ZengYongGuang',
     phone: '13537605534',
     __v: 0,
     login: 2017-09-27T07:17:49.658Z,
     enable: true,
     power: 1,
     cards: 10026 },
  token: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131f80094fbfb3e946cf93432fe159e2b9ab' }
[2017-09-27 15:17:52.562] [INFO] console - enter====> client { code: 200,
  id: 'odukqwu2PR36lHOT_Nthv5WLswZ0',
  key: 'a0ddef38b27f4ce7fe674680a2a1b1bfd61fe68fea3b554b5fcdc174df6c131fc033120cb9914a85ee70386ae3bec008',
  cards: 10026 } false
[2017-09-27 15:17:52.565] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?code=lHLk8xWGcBv_PovEWhXS3v-T3EQClv9pO8s5HZ3rXig&state=1288Aa&_v=0[39m [32m200[39m [90m631ms[39m [90m167b[39m
[2017-09-27 15:18:06.351] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-27 15:18:06.369] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m18ms[39m [90m473b[39m
[2017-09-27 15:18:06.705] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081ynZ1x1mooTb0H4G2x1EFd2x1ynZ1e&state=6688&_v=0[39m
[2017-09-27 15:18:06.705] [INFO] console - enter===>
[2017-09-27 15:18:06.877] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda' } { owhU5wTjaXvop_zknhZYp_dNR3KM: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda' }
[2017-09-27 15:18:06.878] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda' } false
[2017-09-27 15:18:06.879] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081ynZ1x1mooTb0H4G2x1EFd2x1ynZ1e&state=6688&_v=0[39m [32m200[39m [90m174ms[39m [90m153b[39m
[2017-09-27 15:18:18.472] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda&_v=1[39m
[2017-09-27 15:18:18.475] [INFO] console - enter===>
[2017-09-27 15:18:18.488] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-27 15:18:18.488] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-27 15:18:18.489] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda&_v=1[39m [32m200[39m [90m17ms[39m [90m26b[39m
[2017-09-27 15:18:21.046] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda&_v=2[39m
[2017-09-27 15:18:21.047] [INFO] console - enter===>
[2017-09-27 15:18:21.048] [INFO] console - ::ffff:192.168.0.107
[2017-09-27 15:18:21.048] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-27 15:18:21.073] [INFO] console - { __v: 0,
  id: 860000057,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-27T07:18:21.049Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59cb50bdc69c9e6647a7f2f3 }
[2017-09-27 15:18:21.076] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: 'å……å€¼',
  body: 'å……å€¼5é’»çŸ³',
  mch_id: '1433459502',
  nonce_str: '3vr5eak91qftl4j',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijin860000057',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-27 15:18:21.391] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[4SBY3V8zCXvEriIi]]></nonce_str>
<sign><![CDATA[68F34CD91432072D6E777FA0E43F788D]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx2017092715182129adbe2e5b0368547284]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-27 15:18:21.391] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[4SBY3V8zCXvEriIi]]></nonce_str>\n<sign><![CDATA[68F34CD91432072D6E777FA0E43F788D]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx2017092715182129adbe2e5b0368547284]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-27 15:18:21.392] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506496701',
     nonceStr: '3vr5eak91qftl4j',
     signType: 'MD5',
     package: 'prepay_id=wx2017092715182129adbe2e5b0368547284',
     paySign: '084D4FCF590775204FE58B0D10FBC632' } } false
[2017-09-27 15:18:21.394] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda&_v=2[39m [32m200[39m [90m348ms[39m [90m225b[39m
[2017-09-27 15:18:25.547] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda&_v=3[39m
[2017-09-27 15:18:25.549] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0e590dda03d7fde1205b805c663cfcda&_v=3[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-27 15:20:20.035] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-27 15:20:20.039] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-27 15:20:20.366] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001sjDLM1C8gT11DYHLM1YDCLM1sjDLM&state=6688&_v=0[39m
[2017-09-27 15:20:20.367] [INFO] console - enter===>
[2017-09-27 15:20:20.534] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3bad8f40ac70709930981500614d350e' } { owhU5wTjaXvop_zknhZYp_dNR3KM: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3bad8f40ac70709930981500614d350e' }
[2017-09-27 15:20:20.535] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3bad8f40ac70709930981500614d350e' } false
[2017-09-27 15:20:20.536] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001sjDLM1C8gT11DYHLM1YDCLM1sjDLM&state=6688&_v=0[39m [32m200[39m [90m170ms[39m [90m153b[39m
[2017-09-27 15:20:24.934] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-27 15:20:24.935] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m1ms[39m [90m473b[39m
[2017-09-27 15:20:25.312] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011pZmMU04DInY1DBmMU04SlMU0pZmMI&state=6688&_v=0[39m
[2017-09-27 15:20:25.313] [INFO] console - enter===>
[2017-09-27 15:20:25.474] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cefd8ffa6085b6ef7f19b57071537797b' } { owhU5wTjaXvop_zknhZYp_dNR3KM: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cefd8ffa6085b6ef7f19b57071537797b' }
[2017-09-27 15:20:25.475] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cefd8ffa6085b6ef7f19b57071537797b' } false
[2017-09-27 15:20:25.477] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011pZmMU04DInY1DBmMU04SlMU0pZmMI&state=6688&_v=0[39m [32m200[39m [90m165ms[39m [90m153b[39m
[2017-09-27 15:37:18.413] [INFO] /Users/zyg/optimization/pay/src//Users/zyg/optimization/pay/src/app.js - Listening on port 80
[2017-09-27 15:37:18.428] [INFO] /Users/zyg/optimization/pay/src/app/wechat//Users/zyg/optimization/pay/src/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:37:18.454] [INFO] /Users/zyg/optimization/pay/src/app/wechat//Users/zyg/optimization/pay/src/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-27 15:37:18.461] [INFO] /Users/zyg/optimization/pay/src/utils//Users/zyg/optimization/pay/src/utils/redis.js - connect redis success...
[2017-09-27 15:37:18.503] [WARN] /Users/zyg/optimization/pay/src/app/dao//Users/zyg/optimization/pay/src/app/dao/dbMaster.js - db connection sucess!
