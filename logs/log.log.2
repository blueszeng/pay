[2017-08-31 22:19:56.604] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:19:56.616] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:20:06.454] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:20:06.466] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:20:26.628] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:20:26.638] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:20:43.832] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:20:43.842] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:21:34.629] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:21:34.639] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:22:02.649] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:22:02.661] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:22:36.534] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:22:36.544] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:22:51.864] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:22:51.873] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:23:16.391] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:23:16.402] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-08-31 22:23:31.286] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-08-31 22:23:31.298] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-02 00:18:52.810] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-02 00:18:52.823] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-02 00:30:27.813] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-02 00:30:27.828] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-02 00:31:34.568] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-02 00:31:34.579] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-02 00:31:55.876] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-02 00:31:55.882] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m6ms[39m [90m-[39m
[2017-09-02 00:32:04.107] [INFO] console -   [90m<--[39m [1mGET[22m [90m/download[39m
[2017-09-02 00:32:04.109] [INFO] console -   [90m-->[39m [1mGET[22m [90m/download[39m [33m404[39m [90m14ms[39m [90m-[39m
[2017-09-02 00:32:43.181] [INFO] console -   [90m<--[39m [1mGET[22m [90m/download/ningdumj[39m
[2017-09-02 00:32:43.182] [INFO] console -   [90m-->[39m [1mGET[22m [90m/download/ningdumj[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:33:34.741] [ERROR] console - (node:77452) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: Cannot read property 'level' of undefined
[2017-09-02 00:33:34.744] [ERROR] console - (node:77452) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): TypeError: Cannot read property 'level' of undefined
[2017-09-02 00:34:24.476] [INFO] console -   [90m<--[39m [1mGET[22m [90m/download/pub/dyh.html[39m
[2017-09-02 00:34:24.477] [INFO] console -   [90m-->[39m [1mGET[22m [90m/download/pub/dyh.html[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:34:35.424] [INFO] console -   [90m<--[39m [1mGET[22m [90m/download/pub/pay/dyh.html[39m
[2017-09-02 00:34:35.425] [INFO] console -   [90m-->[39m [1mGET[22m [90m/download/pub/pay/dyh.html[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:34:38.537] [INFO] console -   [90m<--[39m [1mGET[22m [90m/download/pub/pay/dyh.html[39m
[2017-09-02 00:34:38.537] [INFO] console -   [90m-->[39m [1mGET[22m [90m/download/pub/pay/dyh.html[39m [33m404[39m [90m0ms[39m [90m-[39m
[2017-09-02 00:36:10.499] [INFO] console -   [90m<--[39m [1mGET[22m [90m/pub/pay/[39m
[2017-09-02 00:36:10.499] [INFO] console -   [90m-->[39m [1mGET[22m [90m/pub/pay/[39m [33m404[39m [90m0ms[39m [90m-[39m
[2017-09-02 00:36:13.837] [INFO] console -   [90m<--[39m [1mGET[22m [90m/pub/pay/sell[39m
[2017-09-02 00:36:13.838] [INFO] console -   [90m-->[39m [1mGET[22m [90m/pub/pay/sell[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:39:42.835] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-02 00:39:42.837] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-02 00:44:08.356] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-02 00:44:08.357] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:44:11.191] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-02 00:44:11.192] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:44:14.633] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-02 00:44:14.634] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:45:05.192] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-02 00:45:05.193] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:45:47.389] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-02 00:45:47.405] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-02 00:46:47.929] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-02 00:46:47.940] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-02 00:46:59.829] [INFO] console -   [90m<--[39m [1mGET[22m [90m/pub/pay/order[39m
[2017-09-02 00:46:59.836] [INFO] console -   [90m-->[39m [1mGET[22m [90m/pub/pay/order[39m [33m404[39m [90m8ms[39m [90m-[39m
[2017-09-02 00:48:48.051] [ERROR] console - (node:78617) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: Cannot read property 'level' of undefined
[2017-09-02 00:48:48.054] [ERROR] console - (node:78617) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): TypeError: Cannot read property 'level' of undefined
[2017-09-02 00:52:19.990] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/[39m
[2017-09-02 00:52:19.991] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-02 00:53:07.480] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-02 00:53:07.486] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m6ms[39m [90m13b[39m
[2017-09-18 14:47:58.940] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-18 14:47:58.955] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:47:58.956] [WARN] /Users/zyg/optimization/pay/utils - connect end...
[2017-09-18 14:47:59.162] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:47:59.510] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:48:00.095] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:48:01.082] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:48:02.760] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:48:05.606] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:48:10.438] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:48:18.655] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:48:32.616] [INFO] /Users/zyg/optimization/pay/utils - connect error...
[2017-09-18 14:48:56.355] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-18 14:49:59.074] [ERROR] console - (node:64315) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: Cannot read property 'level' of undefined
[2017-09-18 14:49:59.076] [ERROR] console - (node:64315) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): TypeError: Cannot read property 'level' of undefined
[2017-09-18 14:50:36.787] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-18 14:50:36.801] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-18 14:52:36.877] [ERROR] console - (node:64459) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: Cannot read property 'level' of undefined
[2017-09-18 14:52:36.881] [ERROR] console - (node:64459) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): TypeError: Cannot read property 'level' of undefined
[2017-09-18 15:08:31.302] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-18 15:08:31.318] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-18 15:08:35.855] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-18 15:08:35.867] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-18 15:09:18.958] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-18 15:09:18.969] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-18 15:11:18.974] [INFO] /Users/zyg/optimization/pay/app/wechat - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-18 15:11:18.989] [INFO] /Users/zyg/optimization/pay/app/wechat - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-18 15:26:44.732] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-18 15:26:44.743] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-18 15:28:37.845] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-18 15:28:37.858] [INFO] /Users/zyg/optimization/pay/utils - connect redis success...
[2017-09-18 15:29:48.040] [INFO] /Users/zyg/optimization/pay - Listening on port 3000
[2017-09-18 15:29:48.055] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-18 15:31:48.057] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-18 15:31:48.074] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-20 14:52:48.751] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 3000
[2017-09-20 14:52:48.763] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-20 15:26:52.015] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 3000
[2017-09-20 15:26:52.033] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-20 15:28:52.046] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-20 15:28:52.064] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 10:52:21.106] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 10:52:21.122] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 14:34:14.132] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 14:34:14.153] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 14:36:14.156] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 14:36:14.183] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 16:00:41.932] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 16:00:41.946] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 16:02:42.036] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 16:02:42.051] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 16:03:21.522] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 16:03:21.533] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 16:05:16.434] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 16:05:16.451] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 16:05:36.777] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 16:05:36.792] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 16:05:53.957] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 16:05:53.975] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 16:07:39.647] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 16:07:39.658] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 16:08:02.464] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 16:08:02.473] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 16:10:02.565] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 16:10:02.580] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 18:09:08.135] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 18:09:08.146] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 18:09:51.241] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 18:09:51.443] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 18:10:30.757] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 18:10:30.777] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 18:12:16.143] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 18:12:16.157] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 18:12:20.107] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-21 18:12:20.126] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m19ms[39m [90m483b[39m
[2017-09-21 18:17:29.058] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-21 18:17:29.091] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-21 18:17:30.860] [INFO] console -   [90m<--[39m [1mGET[22m [90m/wachat/dyh/v1/page[39m
[2017-09-21 18:17:30.868] [INFO] console -   [90m-->[39m [1mGET[22m [90m/wachat/dyh/v1/page[39m [33m404[39m [90m9ms[39m [90m-[39m
[2017-09-21 18:17:31.079] [INFO] console -   [90m<--[39m [1mGET[22m [90m/favicon.ico[39m
[2017-09-21 18:17:31.081] [INFO] console -   [90m-->[39m [1mGET[22m [90m/favicon.ico[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-21 18:17:33.977] [INFO] console -   [90m<--[39m [1mGET[22m [90m/wachat/dyh/v1/page[39m
[2017-09-21 18:17:33.978] [INFO] console -   [90m-->[39m [1mGET[22m [90m/wachat/dyh/v1/page[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-21 18:17:39.276] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wachat/dyh/v1/page[39m
[2017-09-21 18:17:39.278] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wachat/dyh/v1/page[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-21 18:17:54.551] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-21 18:17:54.553] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-21 18:17:57.655] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-21 18:17:57.656] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-21 18:18:35.344] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-21 18:18:35.356] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m483b[39m
[2017-09-21 18:19:10.586] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-21 18:19:10.589] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m4ms[39m [90m483b[39m
[2017-09-21 18:19:19.385] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wachat/dyh/v1/page[39m
[2017-09-21 18:19:19.386] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wachat/dyh/v1/page[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-21 18:19:29.087] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 18:19:29.103] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-21 18:26:02.896] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m
[2017-09-21 18:26:02.901] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m [36m302[39m [90m6ms[39m [90m483b[39m
[2017-09-21 18:26:16.055] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m
[2017-09-21 18:26:16.057] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m [36m302[39m [90m2ms[39m [90m483b[39m
[2017-09-21 18:27:16.141] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m
[2017-09-21 18:27:16.143] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m [36m302[39m [90m2ms[39m [90m483b[39m
[2017-09-21 18:27:27.476] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m
[2017-09-21 18:27:27.478] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m [36m302[39m [90m2ms[39m [90m483b[39m
[2017-09-22 11:48:09.142] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 5000
[2017-09-22 11:48:09.152] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 11:48:29.021] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 4000
[2017-09-22 11:48:29.033] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 11:48:29.034] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::4000
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 11:48:29.046] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 11:48:49.260] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m
[2017-09-22 11:48:49.273] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page?nsukey=3GNlYIKcUNM8w8BJvCxFQvksEs5pYcQ%2FC5hUZVgtH4DgxOGhrJy65WmTGRXfYr3dnzY%2BNHLxEF5EeJVBnVzkrqx20Xmi32W%2FsB%2FjeASIMm0nlgZVhrps3c17EyD%2FU9xwRRjz7GFEoL4bfw%2Fop9pz0mKUyUnwwVAtm4HTikDSRMOt9dL6raf6YnPZchENVmVi[39m [36m302[39m [90m13ms[39m [90m487b[39m
[2017-09-22 11:50:29.078] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 11:50:29.093] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 11:50:29.094] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 11:50:29.108] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 13:04:51.106] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EACCES 0.0.0.0:80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1246:19)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 13:04:51.118] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 13:06:51.238] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 13:06:51.252] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 13:07:55.541] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EACCES 0.0.0.0:80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1246:19)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 13:07:55.551] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 13:09:31.762] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EACCES 0.0.0.0:80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1246:19)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 13:09:31.773] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 13:09:53.270] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 13:09:53.280] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 13:10:11.505] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 13:10:11.511] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m6ms[39m [90m-[39m
[2017-09-22 13:10:22.104] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 13:10:22.118] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m14ms[39m [90m-[39m
[2017-09-22 13:10:51.309] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 13:10:51.310] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-22 13:11:32.947] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 13:11:32.948] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-22 13:11:53.324] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 13:11:53.341] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 13:14:22.819] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 13:14:22.820] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-22 13:23:02.845] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:23:02.865] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m20ms[39m [90m487b[39m
[2017-09-22 13:23:07.076] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 13:23:07.078] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-22 13:23:12.695] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:23:12.699] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m4ms[39m [90m487b[39m
[2017-09-22 13:23:22.623] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 13:23:22.626] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m3ms[39m [90m-[39m
[2017-09-22 13:23:26.122] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:23:26.126] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m4ms[39m [90m487b[39m
[2017-09-22 13:23:48.450] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:23:48.452] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m487b[39m
[2017-09-22 13:24:00.135] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:24:00.136] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m487b[39m
[2017-09-22 13:24:06.427] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 13:24:06.429] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-22 13:24:09.411] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:24:09.416] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m5ms[39m [90m487b[39m
[2017-09-22 13:24:25.368] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:24:25.371] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m487b[39m
[2017-09-22 13:25:24.234] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 13:25:24.245] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 13:25:25.714] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:25:25.726] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m473b[39m
[2017-09-22 13:25:32.425] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408846842194538618_1506057926081&code=061kdUpN13wx061cqltN1A0WpN1kdUpG&state=6688&_v=0&_=1506057926082[39m
[2017-09-22 13:25:32.674] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: ReferenceError: cache is not defined
    at OAuth.saveToken (/Users/zyg/optimization/pay/app/wechat/dyhwechat.js:22:5)
    at /Users/zyg/optimization/pay/node_modules/.1.2.1@wechat-oauth/lib/oauth.js:39:10
    at /Users/zyg/optimization/pay/node_modules/.1.2.1@wechat-oauth/lib/util.js:20:5
    at done (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:386:5)
    at /Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:605:9
    at decodeContent (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:454:14)
    at IncomingMessage.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:570:7)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 13:26:55.502] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 13:26:55.508] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 13:26:58.155] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 13:26:58.170] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m16ms[39m [90m473b[39m
[2017-09-22 13:27:04.083] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112405323901827792639_1506058018434&code=021Rc7zD03SrMf2FMOzD0iL6zD0Rc7zd&state=6688&_v=0&_=1506058018435[39m
[2017-09-22 13:27:04.312] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112405323901827792639_1506058018434&code=021Rc7zD03SrMf2FMOzD0iL6zD0Rc7zd&state=6688&_v=0&_=1506058018435[39m [32m200[39m [90m229ms[39m [90m2b[39m
[2017-09-22 13:28:55.637] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 13:28:55.656] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:01:30.697] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:01:30.702] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:01:42.536] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:01:42.547] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 15:01:49.763] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124019056877822993334_1506063702925&code=061Dkne41pKa3P19Usg41nG4e41DkneN&state=6688&_v=0&_=1506063702926[39m
[2017-09-22 15:01:49.975] [WARN] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/dyhwechat.js - 向缓存中写入用户(openid: owhU5wTjaXvop_zknhZYp_dNR3KM)微信OAuth Token错误: [object Object]
[2017-09-22 15:01:49.996] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { ReplyError: MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk. Commands that may modify the data set are disabled. Please check Redis logs for details about the error.
    at new Command (/Users/zyg/optimization/pay/node_modules/.2.8.0@redis/lib/command.js:12:22)
    at RedisClient.hset (/Users/zyg/optimization/pay/node_modules/.2.8.0@redis/lib/commands.js:58:47)
    at /Users/zyg/optimization/pay/node_modules/.4.1.0@es6-promisify/dist/promisify.js:75:41
    at Object.hset (/Users/zyg/optimization/pay/node_modules/.4.1.0@es6-promisify/dist/promisify.js:54:20)
    at OAuth.saveToken (/Users/zyg/optimization/pay/app/wechat/dyhwechat.js:23:18)
    at /Users/zyg/optimization/pay/node_modules/.1.2.1@wechat-oauth/lib/oauth.js:39:10
    at /Users/zyg/optimization/pay/node_modules/.1.2.1@wechat-oauth/lib/util.js:20:5
    at done (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:386:5)
    at /Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:605:9
    at decodeContent (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:454:14)
    at IncomingMessage.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:570:7)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
From previous event:
    at Promise.longStackTracesCaptureStackTrace [as _captureStackTrace] (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/debuggability.js:397:19)
    at OAuth.ret [as getAccessTokenAsync] (eval at makeNodePromisifiedEval (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promisify.js:184:12), <anonymous>:8:21)
    at _callee2$ (/Users/zyg/optimization/pay/controllers/dyh.js:53:25)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/dyh.js:47:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:21:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:4:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
    at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
    at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
    at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
  command: 'HSET',
  args: 
   [ 'wechat:oauth',
     'owhU5wTjaXvop_zknhZYp_dNR3KM',
     '{"access_token":"PIb_7c7PVxiyhi8mP-NorJPTYJaDQFu--jl_mTpnsAowpcEL3B3yzUbAvy0RnEEX8LMOUcQqiw90Q6a7LqcVyQ","expires_in":7200,"refresh_token":"e3J8H3JPCU9s3WPMKA2_wyR1pTPXg0SJhEQxzGDFMn_CdcUMigu4KVLjEnXhvLQ95pnrwPyxQA3pdSMRDdXWog","openid":"owhU5wTjaXvop_zknhZYp_dNR3KM","scope":"snsapi_base","create_at":1506063709774}' ],
  code: 'MISCONF' }
[2017-09-22 15:01:50.008] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124019056877822993334_1506063702925&code=061Dkne41pKa3P19Usg41nG4e41DkneN&state=6688&_v=0&_=1506063702926[39m [32m200[39m [90m245ms[39m [90m12b[39m
[2017-09-22 15:03:19.195] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:03:19.200] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:03:52.485] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:03:52.496] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 15:03:57.091] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406107348827855061_1506063832842&code=001B9hJ90Znwlu1dBqL90Sg2J90B9hJc&state=6688&_v=0&_=1506063832843[39m
[2017-09-22 15:03:57.352] [WARN] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/dyhwechat.js - 向缓存中写入用户(openid: owhU5wTjaXvop_zknhZYp_dNR3KM)微信OAuth Token错误: {"command":"HSET","args":["wechat:oauth","owhU5wTjaXvop_zknhZYp_dNR3KM","{\"access_token\":\"0kglFIuig-Bo8Nq7JBGWN3JY17H3AZb0xkI3yl0tM3ZH9xB-7Ky_pKsU-KxYobNkfbNF2QoFOchMIlyQRKZvvg\",\"expires_in\":7200,\"refresh_token\":\"BM1LJorJPOvrhba0nMBDTSI9GZ7Hiuu84HtrPnIQXiMbxSiWf6EkFzwHgYWz0ruSG8zaQ6yfdsvWWWyoJVrr4A\",\"openid\":\"owhU5wTjaXvop_zknhZYp_dNR3KM\",\"scope\":\"snsapi_base\",\"create_at\":1506063837096}"],"code":"MISCONF"}
[2017-09-22 15:03:57.378] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { ReplyError: MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk. Commands that may modify the data set are disabled. Please check Redis logs for details about the error.
    at new Command (/Users/zyg/optimization/pay/node_modules/.2.8.0@redis/lib/command.js:12:22)
    at RedisClient.hset (/Users/zyg/optimization/pay/node_modules/.2.8.0@redis/lib/commands.js:58:47)
    at /Users/zyg/optimization/pay/node_modules/.4.1.0@es6-promisify/dist/promisify.js:75:41
    at Object.hset (/Users/zyg/optimization/pay/node_modules/.4.1.0@es6-promisify/dist/promisify.js:54:20)
    at OAuth.saveToken (/Users/zyg/optimization/pay/app/wechat/dyhwechat.js:23:18)
    at /Users/zyg/optimization/pay/node_modules/.1.2.1@wechat-oauth/lib/oauth.js:39:10
    at /Users/zyg/optimization/pay/node_modules/.1.2.1@wechat-oauth/lib/util.js:20:5
    at done (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:386:5)
    at /Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:605:9
    at decodeContent (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:454:14)
    at IncomingMessage.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:570:7)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
From previous event:
    at Promise.longStackTracesCaptureStackTrace [as _captureStackTrace] (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/debuggability.js:397:19)
    at OAuth.ret [as getAccessTokenAsync] (eval at makeNodePromisifiedEval (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promisify.js:184:12), <anonymous>:8:21)
    at _callee2$ (/Users/zyg/optimization/pay/controllers/dyh.js:53:25)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/dyh.js:47:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:21:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:4:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
    at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
    at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
    at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
  command: 'HSET',
  args: 
   [ 'wechat:oauth',
     'owhU5wTjaXvop_zknhZYp_dNR3KM',
     '{"access_token":"0kglFIuig-Bo8Nq7JBGWN3JY17H3AZb0xkI3yl0tM3ZH9xB-7Ky_pKsU-KxYobNkfbNF2QoFOchMIlyQRKZvvg","expires_in":7200,"refresh_token":"BM1LJorJPOvrhba0nMBDTSI9GZ7Hiuu84HtrPnIQXiMbxSiWf6EkFzwHgYWz0ruSG8zaQ6yfdsvWWWyoJVrr4A","openid":"owhU5wTjaXvop_zknhZYp_dNR3KM","scope":"snsapi_base","create_at":1506063837096}' ],
  code: 'MISCONF' }
[2017-09-22 15:03:57.396] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406107348827855061_1506063832842&code=001B9hJ90Znwlu1dBqL90Sg2J90B9hJc&state=6688&_v=0&_=1506063832843[39m [32m200[39m [90m305ms[39m [90m12b[39m
[2017-09-22 15:05:11.251] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:05:11.255] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:07:11.273] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:07:11.293] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:09:19.766] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:09:19.781] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m15ms[39m [90m473b[39m
[2017-09-22 15:09:22.794] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112407001623421630557_1506064160131&code=0217B8eS06ik0a20cshS0fFqeS07B8e4&state=6688&_v=0&_=1506064160132[39m
[2017-09-22 15:09:23.002] [INFO] console - catch owhU5wTjaXvop_zknhZYp_dNR3KM {"access_token":"V8W5TRHrDrPWLpSV-XFKDvjJgITTZsgLQuC-IZu5AnPRwFkyMy3yIBpHJ4sdibL80j_5mP268NJO2zTu9tdxnA","expires_in":7200,"refresh_token":"oSk7_DmNzUaDp7Y7zEWQyHcscCQnN6mgC-ugdezDvFQvOEMHaBdsVu0fwrXkPU9P07nAWt7hk6Nq0lO0Kq435A","openid":"owhU5wTjaXvop_zknhZYp_dNR3KM","scope":"snsapi_base","create_at":1506064162801}
[2017-09-22 15:09:23.038] [WARN] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/dyhwechat.js - 向缓存中写入用户(openid: owhU5wTjaXvop_zknhZYp_dNR3KM)微信OAuth Token错误: {"command":"HSET","args":["wechat:oauth","owhU5wTjaXvop_zknhZYp_dNR3KM","{\"access_token\":\"V8W5TRHrDrPWLpSV-XFKDvjJgITTZsgLQuC-IZu5AnPRwFkyMy3yIBpHJ4sdibL80j_5mP268NJO2zTu9tdxnA\",\"expires_in\":7200,\"refresh_token\":\"oSk7_DmNzUaDp7Y7zEWQyHcscCQnN6mgC-ugdezDvFQvOEMHaBdsVu0fwrXkPU9P07nAWt7hk6Nq0lO0Kq435A\",\"openid\":\"owhU5wTjaXvop_zknhZYp_dNR3KM\",\"scope\":\"snsapi_base\",\"create_at\":1506064162801}"],"code":"MISCONF"}
[2017-09-22 15:09:23.148] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { ReplyError: MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk. Commands that may modify the data set are disabled. Please check Redis logs for details about the error.
    at new Command (/Users/zyg/optimization/pay/node_modules/.2.8.0@redis/lib/command.js:12:22)
    at RedisClient.hset (/Users/zyg/optimization/pay/node_modules/.2.8.0@redis/lib/commands.js:58:47)
    at /Users/zyg/optimization/pay/node_modules/.4.1.0@es6-promisify/dist/promisify.js:75:41
    at Object.hset (/Users/zyg/optimization/pay/node_modules/.4.1.0@es6-promisify/dist/promisify.js:54:20)
    at OAuth.saveToken (/Users/zyg/optimization/pay/app/wechat/dyhwechat.js:24:18)
    at /Users/zyg/optimization/pay/node_modules/.1.2.1@wechat-oauth/lib/oauth.js:39:10
    at /Users/zyg/optimization/pay/node_modules/.1.2.1@wechat-oauth/lib/util.js:20:5
    at done (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:386:5)
    at /Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:605:9
    at decodeContent (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:454:14)
    at IncomingMessage.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.7.0@urllib/lib/urllib.js:570:7)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
From previous event:
    at Promise.longStackTracesCaptureStackTrace [as _captureStackTrace] (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/debuggability.js:397:19)
    at OAuth.ret [as getAccessTokenAsync] (eval at makeNodePromisifiedEval (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promisify.js:184:12), <anonymous>:8:21)
    at _callee2$ (/Users/zyg/optimization/pay/controllers/dyh.js:53:25)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/dyh.js:47:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:21:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:4:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at /Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:36:12
    at dispatch (/Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:350:31)
    at dispatch (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:42:32)
    at next (/Users/zyg/optimization/pay/node_modules/.4.0.0@koa-compose/index.js:43:18)
  command: 'HSET',
  args: 
   [ 'wechat:oauth',
     'owhU5wTjaXvop_zknhZYp_dNR3KM',
     '{"access_token":"V8W5TRHrDrPWLpSV-XFKDvjJgITTZsgLQuC-IZu5AnPRwFkyMy3yIBpHJ4sdibL80j_5mP268NJO2zTu9tdxnA","expires_in":7200,"refresh_token":"oSk7_DmNzUaDp7Y7zEWQyHcscCQnN6mgC-ugdezDvFQvOEMHaBdsVu0fwrXkPU9P07nAWt7hk6Nq0lO0Kq435A","openid":"owhU5wTjaXvop_zknhZYp_dNR3KM","scope":"snsapi_base","create_at":1506064162801}' ],
  code: 'MISCONF' }
[2017-09-22 15:09:23.153] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112407001623421630557_1506064160131&code=0217B8eS06ik0a20cshS0fFqeS07B8e4&state=6688&_v=0&_=1506064160132[39m [32m200[39m [90m359ms[39m [90m12b[39m
[2017-09-22 15:13:11.019] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:13:11.021] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:13:14.035] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404209214927619884_1506064391329&code=021GmNza0LDrut1m32Aa0zKYza0GmNzC&state=6688&_v=0&_=1506064391330[39m
[2017-09-22 15:13:14.184] [INFO] console - catch owhU5wTjaXvop_zknhZYp_dNR3KM {"access_token":"c7ZsCOuX2jDbXd450sdWLOYbNGZ3MZhBdbU9Ed2icr2nWWprZmGag40ml9wS5WdUg7dM0hv2QlykbVVMSZOJBg","expires_in":7200,"refresh_token":"_4ahZMh87GZ5UVsXFehaa10F9QBQ1M2JZodwsGdniI8eifffd9Ryxzc1PksU058AsI326rN_b_I3-ewKjl-ZnA","openid":"owhU5wTjaXvop_zknhZYp_dNR3KM","scope":"snsapi_base","create_at":1506064394036}
[2017-09-22 15:13:14.189] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404209214927619884_1506064391329&code=021GmNza0LDrut1m32Aa0zKYza0GmNzC&state=6688&_v=0&_=1506064391330[39m [32m200[39m [90m154ms[39m [90m2b[39m
[2017-09-22 15:13:26.267] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:13:26.273] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:14:01.634] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:14:01.640] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:14:23.072] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:14:23.083] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 15:14:23.465] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112407913916212800748_1506064463388&code=001nE5Mg1csEww0YUPLg1YXZLg1nE5M1&state=6688&_v=0&_=1506064463389[39m
[2017-09-22 15:14:23.679] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'level' of undefined
    at Level.isLessThanOrEqualTo (/Users/zyg/optimization/pay/node_modules/.1.1.1@log4js/lib/levels.js:37:34)
    at Logger.isLevelEnabled (/Users/zyg/optimization/pay/node_modules/.1.1.1@log4js/lib/logger.js:66:21)
    at Logger.log (/Users/zyg/optimization/pay/node_modules/.1.1.1@log4js/lib/logger.js:54:13)
    at _callee2$ (/Users/zyg/optimization/pay/controllers/dyh.js:54:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-22 15:14:23.715] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112407913916212800748_1506064463388&code=001nE5Mg1csEww0YUPLg1YXZLg1nE5M1&state=6688&_v=0&_=1506064463389[39m [32m200[39m [90m250ms[39m [90m12b[39m
[2017-09-22 15:15:15.927] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:15:15.933] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:15:17.245] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:15:17.256] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 15:15:17.547] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406110373825251975_1506064517524&code=081X1Bs62ClrYM02zor62Nqvs62X1BsV&state=6688&_v=0&_=1506064517525[39m
[2017-09-22 15:15:17.765] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - AccessToken {
  data: 
   { access_token: 'XGWx-vxLOuZKEVjGdcdjACfkJlZKSOUQBrkl6YQ63fn5Ivn1cgbL2HTH6FJJiILUt0eA60uMVDEKUNkOjgsBOA',
     expires_in: 7200,
     refresh_token: 'c7ZsCOuX2jDbXd450sdWLJBI7nV2iFE0E4o5_OMluxlnYwk3IrZGNgjrzReEcL-YO3rySxJ84T5YHRpmk5yfgg',
     openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
     scope: 'snsapi_base',
     create_at: 1506064517553 } }
[2017-09-22 15:15:17.772] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406110373825251975_1506064517524&code=081X1Bs62ClrYM02zor62Nqvs62X1BsV&state=6688&_v=0&_=1506064517525[39m [32m200[39m [90m225ms[39m [90m2b[39m
[2017-09-22 15:15:51.535] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:15:51.541] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:15:54.349] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:15:54.359] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 15:15:54.787] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery11240038554000112837494_1506064554771&code=021TrX422rore01q9u522Oyb522TrX4X&state=6688&_v=0&_=1506064554772[39m
[2017-09-22 15:15:55.008] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c027d85555309d0c4ad47e8a28b3c687c' }
[2017-09-22 15:15:55.012] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery11240038554000112837494_1506064554771&code=021TrX422rore01q9u522Oyb522TrX4X&state=6688&_v=0&_=1506064554772[39m [32m200[39m [90m225ms[39m [90m2b[39m
[2017-09-22 15:16:21.210] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:16:21.214] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:16:53.708] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:16:53.718] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 15:16:54.070] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery11240951093426786537_1506064614055&code=061azgiN1ZiCQ51bmPkN1g9ZhN1azgin&state=6688&_v=0&_=1506064614056[39m
[2017-09-22 15:16:54.271] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery11240951093426786537_1506064614055&code=061azgiN1ZiCQ51bmPkN1g9ZhN1azgin&state=6688&_v=0&_=1506064614056[39m [32m200[39m [90m201ms[39m [90m2b[39m
[2017-09-22 15:17:19.083] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:17:19.086] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:17:19.387] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124010085473270749001_1506064639371&code=061vvuiC0eUyOc2xKpiC0jPAiC0vvuia&state=6688&_v=0&_=1506064639372[39m
[2017-09-22 15:17:19.543] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124010085473270749001_1506064639371&code=061vvuiC0eUyOc2xKpiC0jPAiC0vvuia&state=6688&_v=0&_=1506064639372[39m [32m200[39m [90m156ms[39m [90m2b[39m
[2017-09-22 15:17:38.082] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:17:38.085] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:17:38.467] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery11240808582841842879_1506064658368&code=061Zo2uv0tTSud1Ya8uv0ZpTtv0Zo2uD&state=6688&_v=0&_=1506064658369[39m
[2017-09-22 15:17:38.601] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery11240808582841842879_1506064658368&code=061Zo2uv0tTSud1Ya8uv0ZpTtv0Zo2uD&state=6688&_v=0&_=1506064658369[39m [32m200[39m [90m134ms[39m [90m2b[39m
[2017-09-22 15:17:49.648] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:17:49.653] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:17:51.401] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:17:51.411] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 15:17:51.796] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112402991120235813598_1506064671673&code=011J4Xzj1GmQby0vFpBj10ZGzj1J4XzZ&state=6688&_v=0&_=1506064671674[39m
[2017-09-22 15:17:52.011] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112402991120235813598_1506064671673&code=011J4Xzj1GmQby0vFpBj10ZGzj1J4XzZ&state=6688&_v=0&_=1506064671674[39m [32m200[39m [90m215ms[39m [90m2b[39m
[2017-09-22 15:18:01.063] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:18:01.065] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:18:01.456] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery11240754851697067534_1506064681360&code=021B9ySN0CCSC52maSSN0dSuSN0B9ySr&state=6688&_v=0&_=1506064681361[39m
[2017-09-22 15:18:01.633] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery11240754851697067534_1506064681360&code=021B9ySN0CCSC52maSSN0dSuSN0B9ySr&state=6688&_v=0&_=1506064681361[39m [32m200[39m [90m177ms[39m [90m2b[39m
[2017-09-22 15:18:05.153] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:18:05.157] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:18:05.516] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408793730283909658_1506064685412&code=021rgIpW0Y5Z9X1dWopW0xiwpW0rgIpP&state=6688&_v=0&_=1506064685413[39m
[2017-09-22 15:18:05.667] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408793730283909658_1506064685412&code=021rgIpW0Y5Z9X1dWopW0xiwpW0rgIpP&state=6688&_v=0&_=1506064685413[39m [32m200[39m [90m150ms[39m [90m2b[39m
[2017-09-22 15:18:23.746] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:18:23.750] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:18:26.316] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:18:26.326] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 15:18:26.719] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408621782850651969_1506064706614&code=001O5cyt0UtVVe1qRaxt0Iy7yt0O5cys&state=6688&_v=0&_=1506064706615[39m
[2017-09-22 15:18:26.909] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29e535591df7a026a3edede9461de339' }
[2017-09-22 15:18:26.914] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408621782850651969_1506064706614&code=001O5cyt0UtVVe1qRaxt0Iy7yt0O5cys&state=6688&_v=0&_=1506064706615[39m [32m200[39m [90m195ms[39m [90m2b[39m
[2017-09-22 15:19:22.892] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:19:22.895] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:19:23.390] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406195467850767477_1506064763216&code=081Jns9i0lUwTz10dJ6i013F9i0Jns95&state=6688&_v=0&_=1506064763217[39m
[2017-09-22 15:19:23.559] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4eb90425a284e5bec32884ba2e18dd79' }
[2017-09-22 15:19:23.561] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406195467850767477_1506064763216&code=081Jns9i0lUwTz10dJ6i013F9i0Jns95&state=6688&_v=0&_=1506064763217[39m [32m200[39m [90m171ms[39m [90m2b[39m
[2017-09-22 15:19:27.244] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:19:27.247] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:19:50.301] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112400008180046463323043_1506064767603&code=011DAQzZ0wu5a32z0RAZ0RhBzZ0DAQzP&state=6688&_v=0&_=1506064767604[39m
[2017-09-22 15:19:50.461] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cca7380d1629f9453b7ec67e9ef1345af' }
[2017-09-22 15:19:50.463] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112400008180046463323043_1506064767603&code=011DAQzZ0wu5a32z0RAZ0RhBzZ0DAQzP&state=6688&_v=0&_=1506064767604[39m [32m200[39m [90m162ms[39m [90m2b[39m
[2017-09-22 15:19:52.346] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:19:52.348] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:19:58.609] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406515710285579515_1506064792683&code=001CbaHx0M2ZFf1CMRFx0nD4Hx0CbaH9&state=6688&_v=0&_=1506064792684[39m
[2017-09-22 15:19:58.775] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdc4c3fde0476ea7dc64e8dd5bd7ef9e2' }
[2017-09-22 15:19:58.777] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406515710285579515_1506064792683&code=001CbaHx0M2ZFf1CMRFx0nD4Hx0CbaH9&state=6688&_v=0&_=1506064792684[39m [32m200[39m [90m168ms[39m [90m2b[39m
[2017-09-22 15:20:18.265] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:20:18.268] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:20:18.660] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404215421384958564_1506064818558&code=001M0gjq1U30Jm0tSfiq1zWejq1M0gji&state=6688&_v=0&_=1506064818559[39m
[2017-09-22 15:20:18.841] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf2c635d15d53fe8d92a546e91d4c71c9' }
[2017-09-22 15:20:18.843] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404215421384958564_1506064818558&code=001M0gjq1U30Jm0tSfiq1zWejq1M0gji&state=6688&_v=0&_=1506064818559[39m [32m200[39m [90m183ms[39m [90m2b[39m
[2017-09-22 15:20:21.340] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:20:21.342] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:20:21.704] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408738953853616793_1506064821604&code=021euSig2ttlZC0Lhmkg2Uccjg2euSi8&state=6688&_v=0&_=1506064821605[39m
[2017-09-22 15:20:21.871] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc539d3714df492cd23e84f78dffa4055' }
[2017-09-22 15:20:21.873] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408738953853616793_1506064821604&code=021euSig2ttlZC0Lhmkg2Uccjg2euSi8&state=6688&_v=0&_=1506064821605[39m [32m200[39m [90m170ms[39m [90m2b[39m
[2017-09-22 15:20:23.761] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:20:23.775] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:20:24.786] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:20:24.788] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:20:28.469] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112409890487452593534_1506064825118&code=071ZekRZ0BktS226R7QZ0x3mRZ0ZekRK&state=6688&_v=0&_=1506064825119[39m
[2017-09-22 15:20:28.610] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0a8fd40cf4559af577c7645a6dca7688' }
[2017-09-22 15:20:28.612] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112409890487452593534_1506064825118&code=071ZekRZ0BktS226R7QZ0x3mRZ0ZekRK&state=6688&_v=0&_=1506064825119[39m [32m200[39m [90m143ms[39m [90m2b[39m
[2017-09-22 15:22:46.328] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:22:46.333] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:22:48.077] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:22:48.086] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m9ms[39m [90m473b[39m
[2017-09-22 15:22:51.232] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124008665840081856646_1506064968392&code=001ZWWHQ1JQBZ61MxLHQ1Nl5IQ1ZWWHA&state=6688&_v=0&_=1506064968393[39m
[2017-09-22 15:22:51.450] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6a2d3a888128d497f782e16c12f9bf11' }
[2017-09-22 15:22:51.454] [INFO] console - enter====> client
[2017-09-22 15:22:51.456] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124008665840081856646_1506064968392&code=001ZWWHQ1JQBZ61MxLHQ1Nl5IQ1ZWWHA&state=6688&_v=0&_=1506064968393[39m [32m200[39m [90m224ms[39m [90m2b[39m
[2017-09-22 15:23:03.322] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:23:03.325] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:23:11.494] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:23:11.503] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m9ms[39m [90m473b[39m
[2017-09-22 15:23:14.876] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124040329229528802_1506064991818&code=011upaHK1pZjn70wM0FK1Dy0HK1upaH0&state=6688&_v=0&_=1506064991819[39m
[2017-09-22 15:23:16.103] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9e52e1ec23f25236683050fe381913c8' }
[2017-09-22 15:23:16.106] [INFO] console - enter====> client ReferenceError: ErrorCode is not defined
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:30)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-22 15:23:16.123] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124040329229528802_1506064991818&code=011upaHK1pZjn70wM0FK1Dy0HK1upaH0&state=6688&_v=0&_=1506064991819[39m [32m200[39m [90m1,248ms[39m [90m2b[39m
[2017-09-22 15:24:42.691] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:24:42.697] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:24:44.701] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:24:44.719] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m17ms[39m [90m473b[39m
[2017-09-22 15:24:47.794] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406392753356081208_1506065084986&code=071duzFv0f3U4d1s2EGv0KWvFv0duzF3&state=6688&_v=0&_=1506065084987[39m
[2017-09-22 15:24:48.031] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8f657a24888b5f201c6225cb7e01bcf4' }
[2017-09-22 15:24:48.033] [INFO] console - enter====> client ReferenceError: requestVersion is not defined
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:24:13)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-22 15:24:48.049] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406392753356081208_1506065084986&code=071duzFv0f3U4d1s2EGv0KWvFv0duzF3&state=6688&_v=0&_=1506065084987[39m [32m200[39m [90m255ms[39m [90m2b[39m
[2017-09-22 15:26:42.744] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:26:42.750] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:27:18.273] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:27:18.279] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:27:19.408] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:27:19.420] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 15:27:22.137] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404213332497042258_1506065239706&code=081a1ANx11dSrf0UYyLx1qgaNx1a1ANm&state=6688&_v=0&_=1506065239707[39m
[2017-09-22 15:27:22.342] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc03dbfea4d918769d4158b204bd3e2eb' }
[2017-09-22 15:27:22.345] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc03dbfea4d918769d4158b204bd3e2eb' }
[2017-09-22 15:27:22.346] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404213332497042258_1506065239706&code=081a1ANx11dSrf0UYyLx1qgaNx1a1ANm&state=6688&_v=0&_=1506065239707[39m [32m200[39m [90m209ms[39m [90m153b[39m
[2017-09-22 15:27:58.570] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:27:58.573] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:28:02.033] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408337661970120309_1506065278954&code=00150nJY0NtKrZ1j6WGY0Xo4JY050nJD&state=6688&_v=0&_=1506065278955[39m
[2017-09-22 15:28:02.319] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3b40f774a3c13d2416e40d4d3e0fe4ca' }
[2017-09-22 15:28:02.320] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3b40f774a3c13d2416e40d4d3e0fe4ca' }
[2017-09-22 15:28:02.322] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408337661970120309_1506065278954&code=00150nJY0NtKrZ1j6WGY0Xo4JY050nJD&state=6688&_v=0&_=1506065278955[39m [32m200[39m [90m289ms[39m [90m153b[39m
[2017-09-22 15:29:02.263] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:29:02.268] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:29:04.965] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:29:04.977] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 15:29:09.338] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124038021949547034684_1506065345381&code=021jw1M71839kQ1tEfM71fzrM71jw1MN&state=6688&_v=0&_=1506065345382[39m
[2017-09-22 15:29:09.536] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c55409244f8e97ccf9d553b0e7e843af8' }
[2017-09-22 15:29:09.539] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c55409244f8e97ccf9d553b0e7e843af8' } false
[2017-09-22 15:29:09.540] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124038021949547034684_1506065345381&code=021jw1M71839kQ1tEfM71fzrM71jw1MN&state=6688&_v=0&_=1506065345382[39m [32m200[39m [90m202ms[39m [90m153b[39m
[2017-09-22 15:30:31.568] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:30:31.571] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:30:35.220] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112403918169245335519_1506065431945&code=011sIgG21dtomM11n2I21ltiG21sIgGi&state=6688&_v=0&_=1506065431946[39m
[2017-09-22 15:30:35.366] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c279b784cb40bdc9009b735291d08ed2b' }
[2017-09-22 15:30:35.367] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c279b784cb40bdc9009b735291d08ed2b' } false
[2017-09-22 15:30:35.369] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112403918169245335519_1506065431945&code=011sIgG21dtomM11n2I21ltiG21sIgGi&state=6688&_v=0&_=1506065431946[39m [32m200[39m [90m149ms[39m [90m153b[39m
[2017-09-22 15:31:02.301] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:31:02.328] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:33:55.825] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:33:55.826] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m1ms[39m [90m473b[39m
[2017-09-22 15:33:58.855] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404403474114804151_1506065636146&code=011qRhuM0zGi472ebVvM0yMquM0qRhua&state=6688&_v=0&_=1506065636147[39m
[2017-09-22 15:33:59.021] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5cca719b5477442c741411218913750d' }
[2017-09-22 15:33:59.022] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5cca719b5477442c741411218913750d' } false
[2017-09-22 15:33:59.022] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404403474114804151_1506065636146&code=011qRhuM0zGi472ebVvM0yMquM0qRhua&state=6688&_v=0&_=1506065636147[39m [32m200[39m [90m167ms[39m [90m153b[39m
[2017-09-22 15:34:15.734] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:34:15.735] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m1ms[39m [90m473b[39m
[2017-09-22 15:34:19.111] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112409444036516404641_1506065656065&code=0810YeNk2jEdrH0mY5Pk2YKkNk20YeNQ&state=6688&_v=0&_=1506065656066[39m
[2017-09-22 15:34:19.298] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c818254a05de03d28e35b700d04b0cf2c' }
[2017-09-22 15:34:19.299] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c818254a05de03d28e35b700d04b0cf2c' } false
[2017-09-22 15:34:19.300] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112409444036516404641_1506065656065&code=0810YeNk2jEdrH0mY5Pk2YKkNk20YeNQ&state=6688&_v=0&_=1506065656066[39m [32m200[39m [90m189ms[39m [90m153b[39m
[2017-09-22 15:35:00.515] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:35:00.517] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:35:00.917] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406472571910172966_1506065700803&code=071PDmaH1zb5560Ov08H1iVgaH1PDma5&state=6688&_v=0&_=1506065700804[39m
[2017-09-22 15:35:01.089] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c77157df5972ec7acedc3848c02d97d37' }
[2017-09-22 15:35:01.090] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c77157df5972ec7acedc3848c02d97d37' } false
[2017-09-22 15:35:01.090] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112406472571910172966_1506065700803&code=071PDmaH1zb5560Ov08H1iVgaH1PDma5&state=6688&_v=0&_=1506065700804[39m [32m200[39m [90m173ms[39m [90m153b[39m
[2017-09-22 15:35:36.600] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:35:36.602] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:35:37.009] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112405002960267479962_1506065736903&code=0114UsTp1O7ytn021ZQp1IIwTp14UsTR&state=6688&_v=0&_=1506065736904[39m
[2017-09-22 15:35:37.175] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cbe56db60221bcc4b84dd50038e7f0eab' }
[2017-09-22 15:35:37.175] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cbe56db60221bcc4b84dd50038e7f0eab' } false
[2017-09-22 15:35:37.177] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112405002960267479962_1506065736903&code=0114UsTp1O7ytn021ZQp1IIwTp14UsTR&state=6688&_v=0&_=1506065736904[39m [32m200[39m [90m168ms[39m [90m153b[39m
[2017-09-22 15:35:40.645] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:35:40.647] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:35:41.045] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404465758190935645_1506065740901&code=02193rKh1L2yiA02hFIh1VgGKh193rKO&state=6688&_v=0&_=1506065740902[39m
[2017-09-22 15:35:41.224] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8ded8a1887687cc7cd502ccf3d03282f' }
[2017-09-22 15:35:41.224] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8ded8a1887687cc7cd502ccf3d03282f' } false
[2017-09-22 15:35:41.225] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112404465758190935645_1506065740901&code=02193rKh1L2yiA02hFIh1VgGKh193rKO&state=6688&_v=0&_=1506065740902[39m [32m200[39m [90m180ms[39m [90m153b[39m
[2017-09-22 15:38:56.557] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:38:56.562] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:39:52.070] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:39:52.077] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:40:41.748] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:40:41.756] [INFO] console - enter===>
[2017-09-22 15:40:41.761] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:40:41.764] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:40:41.773] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m23ms[39m [90m49b[39m
[2017-09-22 15:41:02.026] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:41:02.033] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m7ms[39m [90m473b[39m
[2017-09-22 15:41:05.223] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112405366223402118032_1506066062373&code=061oMS4D1U1wR004hl5D1zXR4D1oMS4A&state=6688&_v=0&_=1506066062374[39m
[2017-09-22 15:41:05.224] [INFO] console - enter===>
[2017-09-22 15:41:05.225] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:05.225] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:05.227] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112405366223402118032_1506066062373&code=061oMS4D1U1wR004hl5D1zXR4D1oMS4A&state=6688&_v=0&_=1506066062374[39m [32m200[39m [90m4ms[39m [90m49b[39m
[2017-09-22 15:41:07.873] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:41:07.874] [INFO] console - enter===>
[2017-09-22 15:41:07.875] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:07.875] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:07.877] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m4ms[39m [90m49b[39m
[2017-09-22 15:41:08.491] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:41:08.492] [INFO] console - enter===>
[2017-09-22 15:41:08.492] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:08.493] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:08.493] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m2ms[39m [90m49b[39m
[2017-09-22 15:41:09.028] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:41:09.028] [INFO] console - enter===>
[2017-09-22 15:41:09.028] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:09.029] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:09.030] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m2ms[39m [90m49b[39m
[2017-09-22 15:41:09.504] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:41:09.506] [INFO] console - enter===>
[2017-09-22 15:41:09.507] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:09.508] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:09.509] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m5ms[39m [90m49b[39m
[2017-09-22 15:41:10.342] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:41:10.343] [INFO] console - enter===>
[2017-09-22 15:41:10.343] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:10.344] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:10.345] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m3ms[39m [90m49b[39m
[2017-09-22 15:41:10.998] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:41:10.998] [INFO] console - enter===>
[2017-09-22 15:41:10.999] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:10.999] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:11.000] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m2ms[39m [90m49b[39m
[2017-09-22 15:41:11.566] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:41:11.567] [INFO] console - enter===>
[2017-09-22 15:41:11.567] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:11.567] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:11.568] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m2ms[39m [90m49b[39m
[2017-09-22 15:41:13.389] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m
[2017-09-22 15:41:13.393] [INFO] console - enter===>
[2017-09-22 15:41:13.394] [INFO] console - enter===>22 { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' }
[2017-09-22 15:41:13.395] [INFO] console - enter====> client { code: 200, id: 'zzzzz', key: 'kekekekekeekeke' } false
[2017-09-22 15:41:13.397] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login[39m [32m200[39m [90m8ms[39m [90m49b[39m
[2017-09-22 15:41:47.576] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:41:47.581] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:41:49.504] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:41:49.516] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 15:41:52.179] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124044575776783443544_1506066109822&code=001LRzkh2WjGQG0mDfih2dXykh2LRzkU&state=6688&_v=0&_=1506066109823[39m
[2017-09-22 15:41:52.180] [INFO] console - enter===>
[2017-09-22 15:41:52.411] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c360f65ce57aa41166eae7727f9137a9d' }
[2017-09-22 15:41:52.414] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c360f65ce57aa41166eae7727f9137a9d' } false
[2017-09-22 15:41:52.416] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery1124044575776783443544_1506066109822&code=001LRzkh2WjGQG0mDfih2dXykh2LRzkU&state=6688&_v=0&_=1506066109823[39m [32m200[39m [90m237ms[39m [90m153b[39m
[2017-09-22 15:42:11.729] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:42:11.731] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:42:12.080] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408132590616223748_1506066132011&code=081Gs4Mj0hgkwk1GBuJj03XhMj0Gs4M5&state=6688&_v=0&_=1506066132012[39m
[2017-09-22 15:42:12.080] [INFO] console - enter===>
[2017-09-22 15:42:12.243] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5df0886ce12b0b53856d156c5762e65f' }
[2017-09-22 15:42:12.244] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5df0886ce12b0b53856d156c5762e65f' } false
[2017-09-22 15:42:12.245] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?callback=jQuery112408132590616223748_1506066132011&code=081Gs4Mj0hgkwk1GBuJj03XhMj0Gs4M5&state=6688&_v=0&_=1506066132012[39m [32m200[39m [90m165ms[39m [90m153b[39m
[2017-09-22 15:42:23.512] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:42:23.514] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:42:23.920] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011ui5K22T7SKZ0dB9M22Ux2K22ui5Kp&state=6688&_v=0[39m
[2017-09-22 15:42:23.921] [INFO] console - enter===>
[2017-09-22 15:42:24.076] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0064ce7dd5c49379adc9d407b3f19e8c' }
[2017-09-22 15:42:24.077] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c0064ce7dd5c49379adc9d407b3f19e8c' } false
[2017-09-22 15:42:24.078] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011ui5K22T7SKZ0dB9M22Ux2K22ui5Kp&state=6688&_v=0[39m [32m200[39m [90m158ms[39m [90m153b[39m
[2017-09-22 15:42:59.693] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:42:59.695] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 15:42:59.964] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081QCwEA1thUch0xDQFA1E7zEA1QCwER&state=6688&_v=0[39m
[2017-09-22 15:42:59.964] [INFO] console - enter===>
[2017-09-22 15:43:00.108] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1378e52acc37b2bffb6d5230661f5bbc' }
[2017-09-22 15:43:00.108] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1378e52acc37b2bffb6d5230661f5bbc' } false
[2017-09-22 15:43:00.109] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081QCwEA1thUch0xDQFA1E7zEA1QCwER&state=6688&_v=0[39m [32m200[39m [90m145ms[39m [90m153b[39m
[2017-09-22 15:43:17.286] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:43:17.289] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 15:43:17.562] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061ZSKcJ0Opx9j2A25eJ0CrPcJ0ZSKc3&state=6688&_v=0[39m
[2017-09-22 15:43:17.562] [INFO] console - enter===>
[2017-09-22 15:43:17.721] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8df54d6f3a541b4f2d9196218c388062' }
[2017-09-22 15:43:17.722] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8df54d6f3a541b4f2d9196218c388062' } false
[2017-09-22 15:43:17.723] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061ZSKcJ0Opx9j2A25eJ0CrPcJ0ZSKc3&state=6688&_v=0[39m [32m200[39m [90m161ms[39m [90m153b[39m
[2017-09-22 15:43:21.312] [INFO] console -   [90m<--[39m [1mGET[22m [90m/dyh/v1/page[39m
[2017-09-22 15:43:21.313] [INFO] console -   [90m-->[39m [1mGET[22m [90m/dyh/v1/page[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-22 15:43:24.551] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:43:24.552] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m1ms[39m [90m473b[39m
[2017-09-22 15:43:25.005] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061JXXbA0vAODh1jnleA0baUbA0JXXb8&state=6688&_v=0[39m
[2017-09-22 15:43:25.005] [INFO] console - enter===>
[2017-09-22 15:43:25.178] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cca498e151fccd9f60b0237db27057e53' }
[2017-09-22 15:43:25.179] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cca498e151fccd9f60b0237db27057e53' } false
[2017-09-22 15:43:25.180] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061JXXbA0vAODh1jnleA0baUbA0JXXb8&state=6688&_v=0[39m [32m200[39m [90m175ms[39m [90m153b[39m
[2017-09-22 15:43:35.802] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:43:35.803] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m1ms[39m [90m473b[39m
[2017-09-22 15:43:36.114] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001p5Oin1ytmsl0q1bmn1H1Oin1p5Oi8&state=6688&_v=0[39m
[2017-09-22 15:43:36.114] [INFO] console - enter===>
[2017-09-22 15:43:36.325] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ceda9c8cbb616711641b382c3785c7603' }
[2017-09-22 15:43:36.325] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ceda9c8cbb616711641b382c3785c7603' } false
[2017-09-22 15:43:36.326] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001p5Oin1ytmsl0q1bmn1H1Oin1p5Oi8&state=6688&_v=0[39m [32m200[39m [90m212ms[39m [90m153b[39m
[2017-09-22 15:43:47.607] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:43:47.618] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:43:53.771] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ceda9c8cbb616711641b382c3785c7603&_v=1[39m
[2017-09-22 15:43:53.772] [INFO] console - enter===>
[2017-09-22 15:43:53.773] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: userManager.FindInGameByID is not a function
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:86:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 15:43:53.795] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 15:43:53.796] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 15:43:53.797] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ceda9c8cbb616711641b382c3785c7603&_v=1[39m [32m200[39m [90m26ms[39m [90m12b[39m
[2017-09-22 15:44:42.766] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:44:42.774] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:44:46.572] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:44:46.577] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:44:57.597] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:44:57.608] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 15:44:57.937] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011i2Ynx172BDf0c1Cpx1tEeox1i2YnH&state=6688&_v=0[39m
[2017-09-22 15:44:57.939] [INFO] console - enter===>
[2017-09-22 15:44:58.110] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3860869f2de81b74e46f5c3adb9e831b' }
[2017-09-22 15:44:58.113] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3860869f2de81b74e46f5c3adb9e831b' } false
[2017-09-22 15:44:58.115] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011i2Ynx172BDf0c1Cpx1tEeox1i2YnH&state=6688&_v=0[39m [32m200[39m [90m178ms[39m [90m153b[39m
[2017-09-22 15:45:02.397] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3860869f2de81b74e46f5c3adb9e831b&_v=1[39m
[2017-09-22 15:45:02.397] [INFO] console - enter===>
[2017-09-22 15:45:02.398] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: userManager.FindInGameByID is not a function
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:86:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 15:45:02.429] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 15:45:02.429] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 15:45:02.431] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3860869f2de81b74e46f5c3adb9e831b&_v=1[39m [32m200[39m [90m34ms[39m [90m12b[39m
[2017-09-22 15:45:42.863] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:45:42.869] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:45:44.149] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:45:44.161] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 15:45:44.507] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0014cW1G14KVF20zs51G1fxW1G14cW1w&state=6688&_v=0[39m
[2017-09-22 15:45:44.509] [INFO] console - enter===>
[2017-09-22 15:45:44.736] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c273910a2036b3ef333311275487583c1' }
[2017-09-22 15:45:44.738] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c273910a2036b3ef333311275487583c1' } false
[2017-09-22 15:45:44.740] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0014cW1G14KVF20zs51G1fxW1G14cW1w&state=6688&_v=0[39m [32m200[39m [90m233ms[39m [90m153b[39m
[2017-09-22 15:45:51.297] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c273910a2036b3ef333311275487583c1&_v=1[39m
[2017-09-22 15:45:51.297] [INFO] console - enter===>
[2017-09-22 15:45:51.298] [INFO] console - { default: 
   { GetUserFast: [Function: GetUserFast],
     FindUserByID: [Function: FindUserByID],
     createUser: [Function: createUser],
     FindInGameByID: [Function: FindInGameByID],
     FindInGameByPhone: [Function: FindInGameByPhone] } }
[2017-09-22 15:45:51.300] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: userManager.FindInGameByID is not a function
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:87:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 15:45:51.322] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 15:45:51.322] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 15:45:51.324] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c273910a2036b3ef333311275487583c1&_v=1[39m [32m200[39m [90m27ms[39m [90m12b[39m
[2017-09-22 15:46:23.270] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:46:23.277] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:46:26.462] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:46:26.473] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 15:46:26.763] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0812Wglw1cccic0CLqjw1S3Ykw12Wgl3&state=6688&_v=0[39m
[2017-09-22 15:46:26.765] [INFO] console - enter===>
[2017-09-22 15:46:26.974] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c2cb45557ba38d395323fa22b0fdafe60' }
[2017-09-22 15:46:26.976] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c2cb45557ba38d395323fa22b0fdafe60' } false
[2017-09-22 15:46:26.978] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0812Wglw1cccic0CLqjw1S3Ykw12Wgl3&state=6688&_v=0[39m [32m200[39m [90m215ms[39m [90m153b[39m
[2017-09-22 15:46:36.528] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c2cb45557ba38d395323fa22b0fdafe60&_v=1[39m
[2017-09-22 15:46:36.529] [INFO] console - enter===>
[2017-09-22 15:46:36.530] [INFO] console - undefined
[2017-09-22 15:46:36.531] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: userManager.FindInGameByID is not a function
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:87:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 15:46:36.558] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 15:46:36.558] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 15:46:36.559] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c2cb45557ba38d395323fa22b0fdafe60&_v=1[39m [32m200[39m [90m31ms[39m [90m12b[39m
[2017-09-22 15:46:54.653] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:46:54.659] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:46:59.180] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:46:59.190] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 15:46:59.803] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011R6AaZ1END1Z0eOW9Z1iYlaZ1R6AaN&state=6688&_v=0[39m
[2017-09-22 15:46:59.805] [INFO] console - enter===>
[2017-09-22 15:46:59.994] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40735c8c04988a43405528e28a1c362a' }
[2017-09-22 15:46:59.996] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40735c8c04988a43405528e28a1c362a' } false
[2017-09-22 15:46:59.997] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011R6AaZ1END1Z0eOW9Z1iYlaZ1R6AaN&state=6688&_v=0[39m [32m200[39m [90m194ms[39m [90m153b[39m
[2017-09-22 15:47:03.851] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40735c8c04988a43405528e28a1c362a&_v=1[39m
[2017-09-22 15:47:03.852] [INFO] console - enter===>
[2017-09-22 15:47:03.852] [INFO] console - { default: 
   { GetUserFast: [Function: GetUserFast],
     FindUserByID: [Function: FindUserByID],
     createUser: [Function: createUser],
     FindInGameByID: [Function: FindInGameByID],
     FindInGameByPhone: [Function: FindInGameByPhone] } }
[2017-09-22 15:47:03.853] [INFO] console - undefined
[2017-09-22 15:47:03.854] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: userManager.FindInGameByID is not a function
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:88:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 15:47:03.875] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 15:47:03.876] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 15:47:03.877] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40735c8c04988a43405528e28a1c362a&_v=1[39m [32m200[39m [90m26ms[39m [90m12b[39m
[2017-09-22 15:47:30.012] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:47:30.017] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:47:34.589] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:47:34.596] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:47:34.741] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 15:47:34.746] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:47:52.052] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 15:47:52.078] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:48:01.978] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:48:01.983] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:48:08.989] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:48:09.000] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 15:48:09.276] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011r5Zy31WNDxL1d6Oy31cdfz31r5ZyE&state=6688&_v=0[39m
[2017-09-22 15:48:09.280] [INFO] console - enter===>
[2017-09-22 15:48:09.493] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6b37742baed680f256ca8b4c4a30dd2' }
[2017-09-22 15:48:09.496] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6b37742baed680f256ca8b4c4a30dd2' } false
[2017-09-22 15:48:09.497] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011r5Zy31WNDxL1d6Oy31cdfz31r5ZyE&state=6688&_v=0[39m [32m200[39m [90m221ms[39m [90m153b[39m
[2017-09-22 15:48:14.879] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6b37742baed680f256ca8b4c4a30dd2&_v=1[39m
[2017-09-22 15:48:14.879] [INFO] console - enter===>
[2017-09-22 15:48:14.880] [INFO] console - { GetUserFast: [Function: GetUserFast],
  FindUserByID: [Function: FindUserByID],
  createUser: [Function: createUser],
  FindInGameByID: [Function: FindInGameByID],
  FindInGameByPhone: [Function: FindInGameByPhone] }
[2017-09-22 15:48:14.880] [INFO] console - [Function: FindInGameByID]
[2017-09-22 15:50:02.017] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:50:02.026] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:50:29.953] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:50:29.963] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:50:33.975] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:50:33.979] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:50:36.927] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:50:36.939] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m473b[39m
[2017-09-22 15:50:37.333] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021xNQu71j4UBQ1r8ew71EfJu71xNQuK&state=6688&_v=0[39m
[2017-09-22 15:50:37.335] [INFO] console - enter===>
[2017-09-22 15:50:37.537] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c10006f5195223ea07ff5ff4b6d997174' }
[2017-09-22 15:50:37.540] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c10006f5195223ea07ff5ff4b6d997174' } false
[2017-09-22 15:50:37.541] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021xNQu71j4UBQ1r8ew71EfJu71xNQuK&state=6688&_v=0[39m [32m200[39m [90m208ms[39m [90m153b[39m
[2017-09-22 15:51:08.649] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:51:08.656] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:51:24.629] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:51:24.637] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:51:26.433] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:51:26.444] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 15:51:26.768] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081yLflC0GeYfc2y8EkC0kqrlC0yLflH&state=6688&_v=0[39m
[2017-09-22 15:51:26.770] [INFO] console - enter===>
[2017-09-22 15:51:26.972] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c91111b3184ba04bd5cfa3b425e55d0ad' }
[2017-09-22 15:51:26.975] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c91111b3184ba04bd5cfa3b425e55d0ad' } false
[2017-09-22 15:51:26.977] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081yLflC0GeYfc2y8EkC0kqrlC0yLflH&state=6688&_v=0[39m [32m200[39m [90m209ms[39m [90m153b[39m
[2017-09-22 15:51:48.545] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c91111b3184ba04bd5cfa3b425e55d0ad&_v=1[39m
[2017-09-22 15:51:48.546] [INFO] console - enter===>
[2017-09-22 15:51:48.546] [INFO] console - gogogogoogo
[2017-09-22 15:52:17.965] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:52:17.970] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:52:22.024] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:52:22.036] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 15:52:22.314] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081OkNJY1YAJ9Z0QWnJY1hiFJY1OkNJc&state=6688&_v=0[39m
[2017-09-22 15:52:22.316] [INFO] console - enter===>
[2017-09-22 15:52:22.509] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c54b9d07cbf9112070efbcc31b7b2fe42' }
[2017-09-22 15:52:22.512] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c54b9d07cbf9112070efbcc31b7b2fe42' } false
[2017-09-22 15:52:22.513] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081OkNJY1YAJ9Z0QWnJY1hiFJY1OkNJc&state=6688&_v=0[39m [32m200[39m [90m199ms[39m [90m153b[39m
[2017-09-22 15:52:26.203] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c54b9d07cbf9112070efbcc31b7b2fe42&_v=1[39m
[2017-09-22 15:52:26.204] [INFO] console - enter===>
[2017-09-22 15:52:26.204] [INFO] console - gogogogoogo
[2017-09-22 15:52:26.205] [INFO] console - funkkk
[2017-09-22 15:52:50.646] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:52:50.655] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:52:53.094] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:52:53.106] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 15:52:53.424] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081su0pM1B8qG21KwqpM1g50pM1su0pd&state=6688&_v=0[39m
[2017-09-22 15:52:53.427] [INFO] console - enter===>
[2017-09-22 15:52:53.601] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3dc57fe776a78b07c8af7895a3495469' }
[2017-09-22 15:52:53.603] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3dc57fe776a78b07c8af7895a3495469' } false
[2017-09-22 15:52:53.604] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081su0pM1B8qG21KwqpM1g50pM1su0pd&state=6688&_v=0[39m [32m200[39m [90m180ms[39m [90m153b[39m
[2017-09-22 15:52:56.808] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3dc57fe776a78b07c8af7895a3495469&_v=1[39m
[2017-09-22 15:52:56.808] [INFO] console - enter===>
[2017-09-22 15:52:56.809] [INFO] console - gogogogoogo
[2017-09-22 15:52:56.809] [INFO] console - funkkk function model(doc, fields, skipId) {
      if (!(this instanceof model)) {
        return new model(doc, fields, skipId);
      }
      Model.call(this, doc, fields, skipId);
    }
[2017-09-22 15:54:50.697] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:54:50.707] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 15:58:41.791] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:58:41.798] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:58:50.765] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:58:50.776] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 15:58:51.120] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081h5h4P05Yv792Hog3P0jPu4P0h5h41&state=6688&_v=0[39m
[2017-09-22 15:58:51.123] [INFO] console - enter===>
[2017-09-22 15:58:51.323] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc02b22fd1b25a7731c2051942d2259b9' }
[2017-09-22 15:58:51.325] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc02b22fd1b25a7731c2051942d2259b9' } false
[2017-09-22 15:58:51.327] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081h5h4P05Yv792Hog3P0jPu4P0h5h41&state=6688&_v=0[39m [32m200[39m [90m207ms[39m [90m153b[39m
[2017-09-22 15:58:55.769] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc02b22fd1b25a7731c2051942d2259b9&_v=1[39m
[2017-09-22 15:58:55.770] [INFO] console - enter===>
[2017-09-22 15:58:55.771] [INFO] console - gogogogoogo
[2017-09-22 15:58:55.771] [INFO] console - funkkk function model(doc, fields, skipId) {
      if (!(this instanceof model)) {
        return new model(doc, fields, skipId);
      }
      Model.call(this, doc, fields, skipId);
    }
[2017-09-22 15:59:13.106] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:59:13.112] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:59:34.183] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 15:59:34.187] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 15:59:39.394] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 15:59:39.405] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 15:59:39.810] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081A6vrS0fYWda2gA6sS0wuvrS0A6vrj&state=6688&_v=0[39m
[2017-09-22 15:59:39.812] [INFO] console - enter===>
[2017-09-22 15:59:40.036] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ceb3298a5ca3394b58795494836f62c51' }
[2017-09-22 15:59:40.040] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ceb3298a5ca3394b58795494836f62c51' } false
[2017-09-22 15:59:40.042] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081A6vrS0fYWda2gA6sS0wuvrS0A6vrj&state=6688&_v=0[39m [32m200[39m [90m231ms[39m [90m153b[39m
[2017-09-22 15:59:51.251] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10011&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ceb3298a5ca3394b58795494836f62c51&_v=1[39m
[2017-09-22 15:59:51.252] [INFO] console - enter===>
[2017-09-22 15:59:51.252] [INFO] console - gogogogoogo
[2017-09-22 15:59:51.253] [INFO] console - funkkk
[2017-09-22 16:01:18.558] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:01:18.565] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:02:38.343] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:02:38.357] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m15ms[39m [90m473b[39m
[2017-09-22 16:02:39.156] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081vKhD12P1US010wgF12bmdD12vKhDd&state=6688&_v=0[39m
[2017-09-22 16:02:39.159] [INFO] console - enter===>
[2017-09-22 16:02:39.372] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9812334d09de923c1fc6cf1a713c5bb4' }
[2017-09-22 16:02:39.377] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9812334d09de923c1fc6cf1a713c5bb4' } false
[2017-09-22 16:02:39.379] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081vKhD12P1US010wgF12bmdD12vKhDd&state=6688&_v=0[39m [32m200[39m [90m223ms[39m [90m153b[39m
[2017-09-22 16:02:43.581] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9812334d09de923c1fc6cf1a713c5bb4&_v=1[39m
[2017-09-22 16:02:43.582] [INFO] console - enter===>
[2017-09-22 16:02:43.584] [INFO] console - gogogogoogo
[2017-09-22 16:02:43.588] [INFO] console - funkkk Promise { <pending> }
[2017-09-22 16:03:11.755] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:03:11.762] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:04:47.748] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:04:47.753] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:05:00.340] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:05:00.352] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:05:00.767] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071GH4UI0I6Inj24iyTI0rurUI0GH4UY&state=6688&_v=0[39m
[2017-09-22 16:05:00.769] [INFO] console - enter===>
[2017-09-22 16:05:00.986] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cbf313c3a6ae1bfca89101101c4be9c24' }
[2017-09-22 16:05:00.988] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cbf313c3a6ae1bfca89101101c4be9c24' } false
[2017-09-22 16:05:00.989] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071GH4UI0I6Inj24iyTI0rurUI0GH4UY&state=6688&_v=0[39m [32m200[39m [90m222ms[39m [90m153b[39m
[2017-09-22 16:05:19.529] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cbf313c3a6ae1bfca89101101c4be9c24&_v=1[39m
[2017-09-22 16:05:19.560] [INFO] console - enter===>
[2017-09-22 16:05:19.560] [INFO] console - gogogogoogo
[2017-09-22 16:05:19.562] [INFO] console - funkkk Promise { <pending> }
[2017-09-22 16:06:16.618] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:06:16.624] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:06:19.477] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:06:19.489] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:06:19.894] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061vOjAz0C3j8i1FktCz0pfnAz0vOjAm&state=6688&_v=0[39m
[2017-09-22 16:06:19.897] [INFO] console - enter===>
[2017-09-22 16:06:20.089] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c026c063358c5d9577835c747a6fc3161' }
[2017-09-22 16:06:20.091] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c026c063358c5d9577835c747a6fc3161' } false
[2017-09-22 16:06:20.093] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061vOjAz0C3j8i1FktCz0pfnAz0vOjAm&state=6688&_v=0[39m [32m200[39m [90m199ms[39m [90m153b[39m
[2017-09-22 16:06:24.162] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c026c063358c5d9577835c747a6fc3161&_v=1[39m
[2017-09-22 16:06:24.163] [INFO] console - enter===>
[2017-09-22 16:06:24.164] [INFO] console - gogogogoogo
[2017-09-22 16:06:24.167] [INFO] console - funkkk Promise { <pending> }
[2017-09-22 16:08:16.634] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:08:16.646] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:09:00.544] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:09:00.551] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:09:22.380] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:09:22.388] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:09:25.975] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:09:25.989] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m14ms[39m [90m473b[39m
[2017-09-22 16:09:26.304] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021IbGG61izBvR1CUqG616vuG61IbGGJ&state=6688&_v=0[39m
[2017-09-22 16:09:26.306] [INFO] console - enter===>
[2017-09-22 16:09:26.498] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce2cdea5eeade9c44abc481a9d8528481' }
[2017-09-22 16:09:26.501] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce2cdea5eeade9c44abc481a9d8528481' } false
[2017-09-22 16:09:26.502] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021IbGG61izBvR1CUqG616vuG61IbGGJ&state=6688&_v=0[39m [32m200[39m [90m199ms[39m [90m153b[39m
[2017-09-22 16:09:30.259] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce2cdea5eeade9c44abc481a9d8528481&_v=1[39m
[2017-09-22 16:09:30.259] [INFO] console - enter===>
[2017-09-22 16:09:30.260] [INFO] console - gogogogoogo
[2017-09-22 16:09:30.262] [INFO] console - funkkk Promise { <pending> }
[2017-09-22 16:11:08.074] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce2cdea5eeade9c44abc481a9d8528481&_v=2[39m
[2017-09-22 16:11:08.075] [INFO] console - enter===>
[2017-09-22 16:11:08.076] [INFO] console - gogogogoogo
[2017-09-22 16:11:08.076] [INFO] console - funkkk Promise { <pending> }
[2017-09-22 16:11:17.492] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce2cdea5eeade9c44abc481a9d8528481&_v=3[39m
[2017-09-22 16:11:17.492] [INFO] console - enter===>
[2017-09-22 16:11:17.492] [INFO] console - gogogogoogo
[2017-09-22 16:11:17.493] [INFO] console - funkkk Promise { <pending> }
[2017-09-22 16:11:22.400] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:11:22.410] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:20:29.923] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:20:29.928] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:20:37.065] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:20:37.078] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:20:37.542] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011l1Saf2CST7E0GQlaf2vsPaf2l1Sa0&state=6688&_v=0[39m
[2017-09-22 16:20:37.544] [INFO] console - enter===>
[2017-09-22 16:20:37.785] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce02fa66494df2d7787de236986c7bfea' }
[2017-09-22 16:20:37.790] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce02fa66494df2d7787de236986c7bfea' } false
[2017-09-22 16:20:37.792] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011l1Saf2CST7E0GQlaf2vsPaf2l1Sa0&state=6688&_v=0[39m [32m200[39m [90m250ms[39m [90m153b[39m
[2017-09-22 16:20:41.593] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce02fa66494df2d7787de236986c7bfea&_v=1[39m
[2017-09-22 16:20:41.593] [INFO] console - enter===>
[2017-09-22 16:20:41.595] [INFO] console - gogogogoogo
[2017-09-22 16:20:41.599] [INFO] console - funkkk Promise {
  _bitField: 0,
  _fulfillmentHandler0: undefined,
  _rejectionHandler0: undefined,
  _promise0: undefined,
  _receiver0: undefined,
  _trace: 
   { Error
       at Promise.longStackTracesCaptureStackTrace [as _captureStackTrace] (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/debuggability.js:397:19)
       at Promise._resolveFromExecutor (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promise.js:480:10)
       at new Promise (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promise.js:79:10)
       at Query.exec (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/query.js:2898:17)
       at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:64:55)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
       at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
       at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
       at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
       at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
       at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
       at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
       at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
       at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
     _parent: undefined,
     _promisesCreated: 0,
     _length: 1,
     _promiseCreated: null } }
[2017-09-22 16:21:14.294] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:21:14.300] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:21:17.111] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:21:17.122] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 16:21:17.558] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071ODMHD0pqdVf2LfdID0bNOHD0ODMHA&state=6688&_v=0[39m
[2017-09-22 16:21:17.561] [INFO] console - enter===>
[2017-09-22 16:21:17.818] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9' }
[2017-09-22 16:21:17.823] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9' } false
[2017-09-22 16:21:17.839] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071ODMHD0pqdVf2LfdID0bNOHD0ODMHA&state=6688&_v=0[39m [32m200[39m [90m281ms[39m [90m153b[39m
[2017-09-22 16:21:23.679] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9&_v=1[39m
[2017-09-22 16:21:23.680] [INFO] console - enter===>
[2017-09-22 16:21:23.680] [INFO] console - gogogogoogo
[2017-09-22 16:21:36.561] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9&_v=2[39m
[2017-09-22 16:21:36.598] [INFO] console - enter===>
[2017-09-22 16:21:36.598] [INFO] console - gogogogoogo
[2017-09-22 16:21:39.799] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9&_v=3[39m
[2017-09-22 16:21:39.800] [INFO] console - enter===>
[2017-09-22 16:21:39.800] [INFO] console - gogogogoogo
[2017-09-22 16:21:42.061] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9&_v=4[39m
[2017-09-22 16:21:42.083] [INFO] console - enter===>
[2017-09-22 16:21:42.084] [INFO] console - gogogogoogo
[2017-09-22 16:22:24.857] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9&_v=5[39m
[2017-09-22 16:22:24.859] [INFO] console - enter===>
[2017-09-22 16:22:24.859] [INFO] console - gogogogoogo
[2017-09-22 16:22:36.924] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9&_v=6[39m
[2017-09-22 16:22:36.927] [INFO] console - enter===>
[2017-09-22 16:22:36.927] [INFO] console - gogogogoogo
[2017-09-22 16:22:40.461] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c29d20b17a795d96b4f0e4d21eebd51d9&_v=7[39m
[2017-09-22 16:22:40.462] [INFO] console - enter===>
[2017-09-22 16:22:40.462] [INFO] console - gogogogoogo
[2017-09-22 16:22:56.938] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:22:56.943] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:22:59.724] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:22:59.737] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m473b[39m
[2017-09-22 16:23:00.084] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021a8ljr0rj2Hc1Szbhr0a5fjr0a8lje&state=6688&_v=0[39m
[2017-09-22 16:23:00.086] [INFO] console - enter===>
[2017-09-22 16:23:00.284] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7d35424a5ac9f2784417515638b27de7' }
[2017-09-22 16:23:00.286] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7d35424a5ac9f2784417515638b27de7' } false
[2017-09-22 16:23:00.287] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021a8ljr0rj2Hc1Szbhr0a5fjr0a8lje&state=6688&_v=0[39m [32m200[39m [90m203ms[39m [90m153b[39m
[2017-09-22 16:24:07.553] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:24:07.554] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 16:24:07.902] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001Qxddh11QiNv0m5Ifh1GEjdh1QxddF&state=6688&_v=0[39m
[2017-09-22 16:24:07.903] [INFO] console - enter===>
[2017-09-22 16:24:08.074] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6de8dfe5ba8e6323f2b92c26b57f3171' }
[2017-09-22 16:24:08.075] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6de8dfe5ba8e6323f2b92c26b57f3171' } false
[2017-09-22 16:24:08.076] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001Qxddh11QiNv0m5Ifh1GEjdh1QxddF&state=6688&_v=0[39m [32m200[39m [90m174ms[39m [90m153b[39m
[2017-09-22 16:24:56.958] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:24:56.966] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:26:17.547] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6de8dfe5ba8e6323f2b92c26b57f3171&_v=1[39m
[2017-09-22 16:26:17.547] [INFO] console - enter===>
[2017-09-22 16:26:17.548] [INFO] console - gogogogoogo
[2017-09-22 16:26:17.549] [INFO] console - funkkk
[2017-09-22 16:26:54.568] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:26:54.573] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:27:04.115] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6de8dfe5ba8e6323f2b92c26b57f3171&_v=2[39m
[2017-09-22 16:27:04.119] [INFO] console - enter===>
[2017-09-22 16:27:04.120] [INFO] console - gogogogoogo
[2017-09-22 16:27:04.121] [INFO] console - funkkk
[2017-09-22 16:27:18.449] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6de8dfe5ba8e6323f2b92c26b57f3171&_v=3[39m
[2017-09-22 16:27:18.450] [INFO] console - enter===>
[2017-09-22 16:27:18.450] [INFO] console - gogogogoogo
[2017-09-22 16:27:18.450] [INFO] console - funkkk
[2017-09-22 16:27:51.839] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:27:51.844] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:27:57.096] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:27:57.106] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 16:27:57.471] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081cPjPH0bMNBk2qMNPH0wsaPH0cPjPN&state=6688&_v=0[39m
[2017-09-22 16:27:57.474] [INFO] console - enter===>
[2017-09-22 16:27:57.689] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5a0fa483be6c9d1106de90f8379e7961' }
[2017-09-22 16:27:57.691] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5a0fa483be6c9d1106de90f8379e7961' } false
[2017-09-22 16:27:57.692] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081cPjPH0bMNBk2qMNPH0wsaPH0cPjPN&state=6688&_v=0[39m [32m200[39m [90m221ms[39m [90m153b[39m
[2017-09-22 16:28:04.976] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=11001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5a0fa483be6c9d1106de90f8379e7961&_v=1[39m
[2017-09-22 16:28:04.977] [INFO] console - enter===>
[2017-09-22 16:28:04.978] [INFO] console - gogogogoogo
[2017-09-22 16:28:04.979] [INFO] console - funkkk 11001
[2017-09-22 16:28:37.767] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:28:37.773] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:28:41.397] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=11001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5a0fa483be6c9d1106de90f8379e7961&_v=2[39m
[2017-09-22 16:28:41.400] [INFO] console - enter===>
[2017-09-22 16:28:41.401] [INFO] console - gogogogoogo
[2017-09-22 16:28:41.401] [INFO] console - funkkk 11001
[2017-09-22 16:28:45.353] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=11001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5a0fa483be6c9d1106de90f8379e7961&_v=3[39m
[2017-09-22 16:28:45.354] [INFO] console - enter===>
[2017-09-22 16:28:45.354] [INFO] console - gogogogoogo
[2017-09-22 16:28:45.355] [INFO] console - funkkk 11001
[2017-09-22 16:28:46.935] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:28:46.946] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 16:28:47.357] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011l8FzT1nMGI81mQDwT11dEzT1l8Fz-&state=6688&_v=0[39m
[2017-09-22 16:28:47.358] [INFO] console - enter===>
[2017-09-22 16:28:47.544] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf223581db59e9b3a01462f6643ac0a7e' }
[2017-09-22 16:28:47.547] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf223581db59e9b3a01462f6643ac0a7e' } false
[2017-09-22 16:28:47.549] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011l8FzT1nMGI81mQDwT11dEzT1l8Fz-&state=6688&_v=0[39m [32m200[39m [90m192ms[39m [90m153b[39m
[2017-09-22 16:28:52.970] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf223581db59e9b3a01462f6643ac0a7e&_v=1[39m
[2017-09-22 16:28:52.970] [INFO] console - enter===>
[2017-09-22 16:28:52.971] [INFO] console - gogogogoogo
[2017-09-22 16:28:52.971] [INFO] console - funkkk 10001
[2017-09-22 16:29:32.954] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:29:32.960] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:29:34.160] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:29:34.171] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:29:34.555] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061LAfK00lkaxD1AZ5L00ImqK00LAfKm&state=6688&_v=0[39m
[2017-09-22 16:29:34.557] [INFO] console - enter===>
[2017-09-22 16:29:34.773] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba43e56b2f9bc389b65e671d3c1aefa' }
[2017-09-22 16:29:34.775] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba43e56b2f9bc389b65e671d3c1aefa' } false
[2017-09-22 16:29:34.776] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061LAfK00lkaxD1AZ5L00ImqK00LAfKm&state=6688&_v=0[39m [32m200[39m [90m221ms[39m [90m153b[39m
[2017-09-22 16:29:38.099] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba43e56b2f9bc389b65e671d3c1aefa&_v=1[39m
[2017-09-22 16:29:38.099] [INFO] console - enter===>
[2017-09-22 16:29:38.100] [INFO] console - gogogogoogo
[2017-09-22 16:29:38.103] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: i is not defined
    at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:64:25)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-22 16:29:38.131] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 16:29:38.132] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 16:29:38.133] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba43e56b2f9bc389b65e671d3c1aefa&_v=1[39m [32m200[39m [90m34ms[39m [90m12b[39m
[2017-09-22 16:29:47.672] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:29:47.677] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:29:50.788] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:29:50.795] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:29:52.646] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:29:52.657] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 16:29:52.997] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061zt2U02H3Zj115fBW02eAFT02zt2Uw&state=6688&_v=0[39m
[2017-09-22 16:29:53.000] [INFO] console - enter===>
[2017-09-22 16:29:53.203] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c64884b58b1af0f4c3411861b77b04736' }
[2017-09-22 16:29:53.205] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c64884b58b1af0f4c3411861b77b04736' } false
[2017-09-22 16:29:53.206] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061zt2U02H3Zj115fBW02eAFT02zt2Uw&state=6688&_v=0[39m [32m200[39m [90m209ms[39m [90m153b[39m
[2017-09-22 16:29:57.030] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c64884b58b1af0f4c3411861b77b04736&_v=1[39m
[2017-09-22 16:29:57.031] [INFO] console - enter===>
[2017-09-22 16:29:57.032] [INFO] console - gogogogoogo
[2017-09-22 16:29:57.035] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: serModel is not defined
    at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:64:26)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-22 16:29:57.060] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 16:29:57.061] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 16:29:57.062] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c64884b58b1af0f4c3411861b77b04736&_v=1[39m [32m200[39m [90m32ms[39m [90m12b[39m
[2017-09-22 16:30:24.766] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:30:24.773] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:30:25.669] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:30:25.681] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m473b[39m
[2017-09-22 16:30:26.003] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081g2mlo05wA5p1G6noo0TdAlo0g2mlN&state=6688&_v=0[39m
[2017-09-22 16:30:26.006] [INFO] console - enter===>
[2017-09-22 16:30:26.186] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdc83f920635463fca6a11b6c75ca991f' }
[2017-09-22 16:30:26.188] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdc83f920635463fca6a11b6c75ca991f' } false
[2017-09-22 16:30:26.190] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081g2mlo05wA5p1G6noo0TdAlo0g2mlN&state=6688&_v=0[39m [32m200[39m [90m187ms[39m [90m153b[39m
[2017-09-22 16:30:29.228] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdc83f920635463fca6a11b6c75ca991f&_v=1[39m
[2017-09-22 16:30:29.228] [INFO] console - enter===>
[2017-09-22 16:30:29.229] [INFO] console - gogogogoogo
[2017-09-22 16:30:29.231] [INFO] console - funkkk Query {
  _mongooseOptions: {},
  mongooseCollection: 
   NativeCollection {
     collection: null,
     opts: { bufferCommands: true, capped: false },
     name: 'users',
     collectionName: 'users',
     conn: 
      NativeConnection {
        base: [Object],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        hosts: null,
        host: null,
        port: null,
        user: null,
        pass: null,
        name: null,
        options: null,
        otherDbs: [],
        _readyState: 0,
        _closeCalled: false,
        _hasOpened: false,
        _listening: false,
        _events: [Object],
        _eventsCount: 2 },
     queue: [ [Object] ],
     buffer: true,
     emitter: 
      EventEmitter {
        domain: null,
        _events: {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  model: 
   { [Function: model]
     hooks: Kareem { _pres: {}, _posts: {} },
     base: 
      Mongoose {
        connections: [Object],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        plugins: [Object] },
     modelName: 'user',
     model: [Function: model],
     db: 
      NativeConnection {
        base: [Object],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        hosts: null,
        host: null,
        port: null,
        user: null,
        pass: null,
        name: null,
        options: null,
        otherDbs: [],
        _readyState: 0,
        _closeCalled: false,
        _hasOpened: false,
        _listening: false,
        _events: [Object],
        _eventsCount: 2 },
     discriminators: undefined,
     nextCount: [Function: nextCount],
     resetCount: [Function: resetCount],
     '$appliedHooks': true,
     _events: { init: [Function], save: [Function] },
     _eventsCount: 2,
     schema: 
      Schema {
        obj: [Object],
        paths: [Object],
        aliases: {},
        subpaths: {},
        virtuals: {},
        singleNestedPaths: {},
        nested: {},
        inherits: {},
        callQueue: [Object],
        _indexes: [],
        methods: [Object],
        statics: [Object],
        tree: [Object],
        query: {},
        childSchemas: [],
        plugins: [Object],
        s: [Object],
        options: [Object],
        '$globalPluginsApplied': true },
     collection: 
      NativeCollection {
        collection: null,
        opts: [Object],
        name: 'users',
        collectionName: 'users',
        conn: [Object],
        queue: [Object],
        buffer: true,
        emitter: [Object] },
     Query: { [Function] base: [Object] },
     '$__insertMany': [Function],
     insertMany: [Function] },
  schema: 
   Schema {
     obj: 
      { id: [Function: String],
        openid: [Function: String],
        name: [Function: String],
        sex: [Function: Number],
        head: [Function: String],
        lastLogin: [Object],
        enable: [Object] },
     paths: 
      { id: [Object],
        openid: [Object],
        name: [Object],
        sex: [Object],
        head: [Object],
        lastLogin: [Object],
        enable: [Object],
        _id: [Object],
        __v: [Object] },
     aliases: {},
     subpaths: {},
     virtuals: {},
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: 
      [ [Object],
        [Object],
        [Object],
        [Object],
        [Object],
        [Object],
        [Object] ],
     _indexes: [],
     methods: 
      { nextCount: [Function: nextCount],
        resetCount: [Function: resetCount] },
     statics: 
      { nextCount: [Function: nextCount],
        resetCount: [Function: resetCount] },
     tree: 
      { id: [Object],
        openid: [Function: String],
        name: [Function: String],
        sex: [Function: Number],
        head: [Function: String],
        lastLogin: [Object],
        enable: [Object],
        _id: [Object],
        __v: [Function: Number] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     s: { hooks: [Object], kareemHooks: [Object] },
     options: 
      { retainKeyOrder: false,
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true },
  op: 'findOne',
  options: { retainKeyOrder: false },
  _conditions: { id: 10000 },
  _fields: undefined,
  _update: undefined,
  _path: undefined,
  _distinct: undefined,
  _collection: 
   NodeCollection {
     collection: 
      NativeCollection {
        collection: null,
        opts: [Object],
        name: 'users',
        collectionName: 'users',
        conn: [Object],
        queue: [Object],
        buffer: true,
        emitter: [Object] },
     collectionName: 'users' },
  _traceFunction: undefined,
  _count: [Function],
  _execUpdate: [Function],
  _find: [Function],
  _findOne: [Function],
  _findOneAndRemove: [Function],
  _findOneAndUpdate: [Function],
  _replaceOne: [Function],
  _updateMany: [Function],
  _updateOne: [Function],
  _castError: null }
[2017-09-22 16:31:02.090] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:31:02.095] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:31:04.159] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:31:04.169] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 16:31:04.784] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081AKvie2SXBnA0hXLhe2JyHie2AKviI&state=6688&_v=0[39m
[2017-09-22 16:31:04.786] [INFO] console - enter===>
[2017-09-22 16:31:04.988] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ca7299032c330be066d5a8e292d9708af' }
[2017-09-22 16:31:04.991] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ca7299032c330be066d5a8e292d9708af' } false
[2017-09-22 16:31:04.993] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081AKvie2SXBnA0hXLhe2JyHie2AKviI&state=6688&_v=0[39m [32m200[39m [90m209ms[39m [90m153b[39m
[2017-09-22 16:31:10.404] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ca7299032c330be066d5a8e292d9708af&_v=1[39m
[2017-09-22 16:31:10.404] [INFO] console - enter===>
[2017-09-22 16:31:10.405] [INFO] console - gogogogoogo
[2017-09-22 16:31:10.407] [INFO] console - funkkk Query {
  _mongooseOptions: {},
  mongooseCollection: 
   NativeCollection {
     collection: null,
     opts: { bufferCommands: true, capped: false },
     name: 'users',
     collectionName: 'users',
     conn: 
      NativeConnection {
        base: [Object],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        hosts: null,
        host: null,
        port: null,
        user: null,
        pass: null,
        name: null,
        options: null,
        otherDbs: [],
        _readyState: 0,
        _closeCalled: false,
        _hasOpened: false,
        _listening: false,
        _events: [Object],
        _eventsCount: 2 },
     queue: [ [Object] ],
     buffer: true,
     emitter: 
      EventEmitter {
        domain: null,
        _events: {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  model: 
   { [Function: model]
     hooks: Kareem { _pres: {}, _posts: {} },
     base: 
      Mongoose {
        connections: [Object],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        plugins: [Object] },
     modelName: 'user',
     model: [Function: model],
     db: 
      NativeConnection {
        base: [Object],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        hosts: null,
        host: null,
        port: null,
        user: null,
        pass: null,
        name: null,
        options: null,
        otherDbs: [],
        _readyState: 0,
        _closeCalled: false,
        _hasOpened: false,
        _listening: false,
        _events: [Object],
        _eventsCount: 2 },
     discriminators: undefined,
     nextCount: [Function: nextCount],
     resetCount: [Function: resetCount],
     '$appliedHooks': true,
     _events: { init: [Function], save: [Function] },
     _eventsCount: 2,
     schema: 
      Schema {
        obj: [Object],
        paths: [Object],
        aliases: {},
        subpaths: {},
        virtuals: {},
        singleNestedPaths: {},
        nested: {},
        inherits: {},
        callQueue: [Object],
        _indexes: [],
        methods: [Object],
        statics: [Object],
        tree: [Object],
        query: {},
        childSchemas: [],
        plugins: [Object],
        s: [Object],
        options: [Object],
        '$globalPluginsApplied': true },
     collection: 
      NativeCollection {
        collection: null,
        opts: [Object],
        name: 'users',
        collectionName: 'users',
        conn: [Object],
        queue: [Object],
        buffer: true,
        emitter: [Object] },
     Query: { [Function] base: [Object] },
     '$__insertMany': [Function],
     insertMany: [Function] },
  schema: 
   Schema {
     obj: 
      { id: [Function: String],
        openid: [Function: String],
        name: [Function: String],
        sex: [Function: Number],
        head: [Function: String],
        lastLogin: [Object],
        enable: [Object] },
     paths: 
      { id: [Object],
        openid: [Object],
        name: [Object],
        sex: [Object],
        head: [Object],
        lastLogin: [Object],
        enable: [Object],
        _id: [Object],
        __v: [Object] },
     aliases: {},
     subpaths: {},
     virtuals: {},
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: 
      [ [Object],
        [Object],
        [Object],
        [Object],
        [Object],
        [Object],
        [Object] ],
     _indexes: [],
     methods: 
      { nextCount: [Function: nextCount],
        resetCount: [Function: resetCount] },
     statics: 
      { nextCount: [Function: nextCount],
        resetCount: [Function: resetCount] },
     tree: 
      { id: [Object],
        openid: [Function: String],
        name: [Function: String],
        sex: [Function: Number],
        head: [Function: String],
        lastLogin: [Object],
        enable: [Object],
        _id: [Object],
        __v: [Function: Number] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     s: { hooks: [Object], kareemHooks: [Object] },
     options: 
      { retainKeyOrder: false,
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true },
  op: 'findOne',
  options: { retainKeyOrder: false },
  _conditions: { id: 10001 },
  _fields: undefined,
  _update: undefined,
  _path: undefined,
  _distinct: undefined,
  _collection: 
   NodeCollection {
     collection: 
      NativeCollection {
        collection: null,
        opts: [Object],
        name: 'users',
        collectionName: 'users',
        conn: [Object],
        queue: [Object],
        buffer: true,
        emitter: [Object] },
     collectionName: 'users' },
  _traceFunction: undefined,
  _count: [Function],
  _execUpdate: [Function],
  _find: [Function],
  _findOne: [Function],
  _findOneAndRemove: [Function],
  _findOneAndUpdate: [Function],
  _replaceOne: [Function],
  _updateMany: [Function],
  _updateOne: [Function],
  _castError: null }
[2017-09-22 16:31:10.422] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'exec' of undefined
    at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:64:3)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-22 16:31:10.449] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 16:31:10.450] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 16:31:10.451] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ca7299032c330be066d5a8e292d9708af&_v=1[39m [32m200[39m [90m48ms[39m [90m12b[39m
[2017-09-22 16:31:55.071] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:31:55.079] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:31:56.066] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:31:56.075] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 16:31:56.391] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071RqbM70nHCZJ170OL70eeaM70RqbMx&state=6688&_v=0[39m
[2017-09-22 16:31:56.394] [INFO] console - enter===>
[2017-09-22 16:31:56.595] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c2339bfacc159c58c6bcabd2004964504' }
[2017-09-22 16:31:56.597] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c2339bfacc159c58c6bcabd2004964504' } false
[2017-09-22 16:31:56.598] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071RqbM70nHCZJ170OL70eeaM70RqbMx&state=6688&_v=0[39m [32m200[39m [90m207ms[39m [90m153b[39m
[2017-09-22 16:32:00.138] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c2339bfacc159c58c6bcabd2004964504&_v=1[39m
[2017-09-22 16:32:00.139] [INFO] console - enter===>
[2017-09-22 16:32:00.141] [INFO] console - gogogogoogo
[2017-09-22 16:32:19.902] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:32:19.910] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:32:20.933] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:32:20.945] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m473b[39m
[2017-09-22 16:32:47.618] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:32:47.622] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:32:48.867] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:32:48.876] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m8ms[39m [90m473b[39m
[2017-09-22 16:33:19.489] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:33:19.492] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 16:33:19.817] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061c4OZ52nWiEN0S1BY52zuPZ52c4OZt&state=6688&_v=0[39m
[2017-09-22 16:33:19.821] [INFO] console - enter===>
[2017-09-22 16:33:20.043] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc07581a7fba85aa2b73150ba51b2bb5e' }
[2017-09-22 16:33:20.046] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc07581a7fba85aa2b73150ba51b2bb5e' } false
[2017-09-22 16:33:20.047] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061c4OZ52nWiEN0S1BY52zuPZ52c4OZt&state=6688&_v=0[39m [32m200[39m [90m230ms[39m [90m153b[39m
[2017-09-22 16:33:24.206] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc07581a7fba85aa2b73150ba51b2bb5e&_v=1[39m
[2017-09-22 16:33:24.206] [INFO] console - enter===>
[2017-09-22 16:33:24.207] [INFO] console - gogogogoogo
[2017-09-22 16:33:24.208] [INFO] console - funkkk
[2017-09-22 16:33:24.211] [INFO] console - Promise {
  _bitField: 0,
  _fulfillmentHandler0: undefined,
  _rejectionHandler0: undefined,
  _promise0: undefined,
  _receiver0: undefined,
  _trace: 
   { Error
       at Promise.longStackTracesCaptureStackTrace [as _captureStackTrace] (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/debuggability.js:397:19)
       at Promise._resolveFromExecutor (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promise.js:480:10)
       at new Promise (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promise.js:79:10)
       at Query.exec (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/query.js:2898:17)
       at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:65:45)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
       at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
       at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
       at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
       at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
       at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
       at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
       at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
       at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
     _parent: undefined,
     _promisesCreated: 0,
     _length: 1,
     _promiseCreated: null } }
[2017-09-22 16:33:55.470] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:33:55.476] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:33:58.327] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:33:58.338] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 16:33:58.650] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071hvpfu1Ncsca0t68eu1Itmfu1hvpfT&state=6688&_v=0[39m
[2017-09-22 16:33:58.653] [INFO] console - enter===>
[2017-09-22 16:33:58.882] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfda83e3c14d1f75c321a9e5ccfe5c035' }
[2017-09-22 16:33:58.885] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfda83e3c14d1f75c321a9e5ccfe5c035' } false
[2017-09-22 16:33:58.887] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071hvpfu1Ncsca0t68eu1Itmfu1hvpfT&state=6688&_v=0[39m [32m200[39m [90m237ms[39m [90m153b[39m
[2017-09-22 16:34:01.822] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfda83e3c14d1f75c321a9e5ccfe5c035&_v=1[39m
[2017-09-22 16:34:01.823] [INFO] console - enter===>
[2017-09-22 16:34:01.823] [INFO] console - gogogogoogo
[2017-09-22 16:34:01.824] [INFO] console - funkkk
[2017-09-22 16:34:01.826] [INFO] console - Promise { <pending> }
[2017-09-22 16:35:55.505] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:35:55.516] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:39:17.428] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:39:17.433] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:39:22.865] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:39:22.876] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 16:39:23.192] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0819zCdy09uNDj1RZigy0Gtvdy09zCdS&state=6688&_v=0[39m
[2017-09-22 16:39:23.195] [INFO] console - enter===>
[2017-09-22 16:39:23.413] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c50d678480ded21dccd6b12c73afd536c' }
[2017-09-22 16:39:23.416] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c50d678480ded21dccd6b12c73afd536c' } false
[2017-09-22 16:39:23.418] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0819zCdy09uNDj1RZigy0Gtvdy09zCdS&state=6688&_v=0[39m [32m200[39m [90m226ms[39m [90m153b[39m
[2017-09-22 16:39:38.564] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:39:38.595] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m31ms[39m [90m473b[39m
[2017-09-22 16:39:38.947] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001r041q0t28Ur1E5hZp0cGg1q0r041B&state=6688&_v=0[39m
[2017-09-22 16:39:38.948] [INFO] console - enter===>
[2017-09-22 16:39:39.110] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c97a9a656265104fc8c39d0441a2ccddd' }
[2017-09-22 16:39:39.111] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c97a9a656265104fc8c39d0441a2ccddd' } false
[2017-09-22 16:39:39.112] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001r041q0t28Ur1E5hZp0cGg1q0r041B&state=6688&_v=0[39m [32m200[39m [90m165ms[39m [90m153b[39m
[2017-09-22 16:41:09.126] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:41:09.133] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:41:10.398] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:41:10.409] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:41:10.926] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071r76Gy0JZ0Yi1QhUGy0ph7Gy0r76GG&state=6688&_v=0[39m
[2017-09-22 16:41:10.929] [INFO] console - enter===>
[2017-09-22 16:41:11.181] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5eb6b666d6f0819ccbc0895e64973669' }
[2017-09-22 16:41:11.184] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5eb6b666d6f0819ccbc0895e64973669' } false
[2017-09-22 16:41:11.194] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071r76Gy0JZ0Yi1QhUGy0ph7Gy0r76GG&state=6688&_v=0[39m [32m200[39m [90m268ms[39m [90m153b[39m
[2017-09-22 16:41:18.274] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10002&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5eb6b666d6f0819ccbc0895e64973669&_v=1[39m
[2017-09-22 16:41:18.276] [INFO] console - enter===>
[2017-09-22 16:41:18.277] [INFO] console - gogogogoogo
[2017-09-22 16:41:18.278] [INFO] console - funkkk function model(doc, fields, skipId) {
      if (!(this instanceof model)) {
        return new model(doc, fields, skipId);
      }
      Model.call(this, doc, fields, skipId);
    }
[2017-09-22 16:41:18.282] [INFO] console - Promise {
  emitter: 
   EventEmitter {
     domain: null,
     _events: {},
     _eventsCount: 0,
     _maxListeners: undefined },
  emitted: {},
  ended: false }
[2017-09-22 16:41:18.286] [ERROR] console - (node:50360) DeprecationWarning: Mongoose: mpromise (mongoose's default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html
[2017-09-22 16:42:08.739] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:42:08.743] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:42:09.453] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:42:09.465] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:42:09.793] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081a112T0Ryt3W1MB74T03G72T0a112n&state=6688&_v=0[39m
[2017-09-22 16:42:09.796] [INFO] console - enter===>
[2017-09-22 16:42:10.002] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc35941f5e852abfbd753b05c57bcf0e2' }
[2017-09-22 16:42:10.004] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc35941f5e852abfbd753b05c57bcf0e2' } false
[2017-09-22 16:42:10.006] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081a112T0Ryt3W1MB74T03G72T0a112n&state=6688&_v=0[39m [32m200[39m [90m213ms[39m [90m153b[39m
[2017-09-22 16:42:12.605] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc35941f5e852abfbd753b05c57bcf0e2&_v=1[39m
[2017-09-22 16:42:12.605] [INFO] console - enter===>
[2017-09-22 16:42:12.606] [INFO] console - gogogogoogo
[2017-09-22 16:42:12.607] [INFO] console - funkkk function model(doc, fields, skipId) {
      if (!(this instanceof model)) {
        return new model(doc, fields, skipId);
      }
      Model.call(this, doc, fields, skipId);
    }
[2017-09-22 16:42:12.611] [ERROR] console - (node:50443) DeprecationWarning: Mongoose: mpromise (mongoose's default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html
[2017-09-22 16:42:21.429] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:42:21.436] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:42:25.308] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:42:25.318] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 16:42:25.610] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081YPuC91DOFJS1icBB91rfMC91YPuC7&state=6688&_v=0[39m
[2017-09-22 16:42:25.613] [INFO] console - enter===>
[2017-09-22 16:42:25.814] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf30c6cd9a5bd4d3cad9c17ae8c626514' }
[2017-09-22 16:42:25.817] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf30c6cd9a5bd4d3cad9c17ae8c626514' } false
[2017-09-22 16:42:25.818] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081YPuC91DOFJS1icBB91rfMC91YPuC7&state=6688&_v=0[39m [32m200[39m [90m208ms[39m [90m153b[39m
[2017-09-22 16:42:33.276] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf30c6cd9a5bd4d3cad9c17ae8c626514&_v=1[39m
[2017-09-22 16:42:33.277] [INFO] console - enter===>
[2017-09-22 16:42:33.278] [INFO] console - gogogogoogo
[2017-09-22 16:42:33.283] [ERROR] console - (node:50471) DeprecationWarning: Mongoose: mpromise (mongoose's default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html
[2017-09-22 16:43:13.733] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:43:13.739] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:43:30.831] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:43:30.834] [ERROR] console - (node:50563) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): undefined
[2017-09-22 16:43:30.839] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:43:37.898] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:43:37.903] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:44:53.283] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:44:53.288] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:45:28.212] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:45:28.219] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:45:36.291] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:45:36.295] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:45:41.089] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:45:41.099] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 16:45:41.429] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001pHXQR1Qlmra11CwRR1O1MQR1pHXQ2&state=6688&_v=0[39m
[2017-09-22 16:45:41.432] [INFO] console - enter===>
[2017-09-22 16:45:41.781] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c58aef4bd662beb05ae1f678842ab8737' }
[2017-09-22 16:45:41.784] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c58aef4bd662beb05ae1f678842ab8737' } false
[2017-09-22 16:45:41.785] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001pHXQR1Qlmra11CwRR1O1MQR1pHXQ2&state=6688&_v=0[39m [32m200[39m [90m356ms[39m [90m153b[39m
[2017-09-22 16:45:44.436] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c58aef4bd662beb05ae1f678842ab8737&_v=1[39m
[2017-09-22 16:45:44.437] [INFO] console - enter===>
[2017-09-22 16:45:44.437] [INFO] console - gogogogoogo
[2017-09-22 16:46:14.398] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:46:14.407] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:46:22.592] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:46:22.598] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:47:02.050] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:47:02.057] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:47:03.706] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:47:03.717] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:47:04.158] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001FvASy10clie0Nq2Uy1bJBSy1FvAS4&state=6688&_v=0[39m
[2017-09-22 16:47:04.161] [INFO] console - enter===>
[2017-09-22 16:47:04.358] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccdd7316825ae812ad2ea1204398b3842' }
[2017-09-22 16:47:04.360] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccdd7316825ae812ad2ea1204398b3842' } false
[2017-09-22 16:47:04.361] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001FvASy10clie0Nq2Uy1bJBSy1FvAS4&state=6688&_v=0[39m [32m200[39m [90m203ms[39m [90m153b[39m
[2017-09-22 16:47:11.931] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccdd7316825ae812ad2ea1204398b3842&_v=1[39m
[2017-09-22 16:47:11.933] [INFO] console - enter===>
[2017-09-22 16:47:11.934] [INFO] console - gogogogoogo
[2017-09-22 16:47:29.097] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:47:29.102] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:47:32.204] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:47:32.216] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:47:32.583] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011xrgmg1jMRFw07vnlg1AyQlg1xrgm8&state=6688&_v=0[39m
[2017-09-22 16:47:32.585] [INFO] console - enter===>
[2017-09-22 16:47:32.803] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c862959bdd1a237ed2a58e1044fff4020' }
[2017-09-22 16:47:32.807] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c862959bdd1a237ed2a58e1044fff4020' } false
[2017-09-22 16:47:32.814] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011xrgmg1jMRFw07vnlg1AyQlg1xrgm8&state=6688&_v=0[39m [32m200[39m [90m232ms[39m [90m153b[39m
[2017-09-22 16:47:49.385] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c862959bdd1a237ed2a58e1044fff4020&_v=1[39m
[2017-09-22 16:47:49.386] [INFO] console - enter===>
[2017-09-22 16:47:49.387] [INFO] console - gogogogoogo
[2017-09-22 16:47:49.390] [INFO] console - you====> Promise { <pending> }
[2017-09-22 16:49:29.160] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:49:29.171] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:52:18.906] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:52:18.911] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:52:21.376] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:52:21.389] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m14ms[39m [90m473b[39m
[2017-09-22 16:52:21.731] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061xYzMM1UQWX11ydgNM1t7EMM1xYzMV&state=6688&_v=0[39m
[2017-09-22 16:52:21.733] [INFO] console - enter===>
[2017-09-22 16:52:21.936] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7f43542343fc17056345369d7aa00edc' }
[2017-09-22 16:52:21.938] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7f43542343fc17056345369d7aa00edc' } false
[2017-09-22 16:52:21.939] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061xYzMM1UQWX11ydgNM1t7EMM1xYzMV&state=6688&_v=0[39m [32m200[39m [90m208ms[39m [90m153b[39m
[2017-09-22 16:52:24.767] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12664&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7f43542343fc17056345369d7aa00edc&_v=1[39m
[2017-09-22 16:52:24.767] [INFO] console - enter===>
[2017-09-22 16:52:24.769] [INFO] console - gogogogoogo
[2017-09-22 16:52:24.771] [INFO] console - Promise { <pending> }
[2017-09-22 16:52:24.783] [INFO] console - you====> Promise { <pending> }
[2017-09-22 16:52:24.784] [INFO] console - undefined
[2017-09-22 16:52:34.482] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:52:34.489] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:52:36.340] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:52:36.353] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:52:36.707] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081DImCi0lBcBl1cWNAi0fr5Ci0DImCN&state=6688&_v=0[39m
[2017-09-22 16:52:36.710] [INFO] console - enter===>
[2017-09-22 16:52:36.917] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c562c6c038675505ccb8b5a83a4f15908' }
[2017-09-22 16:52:36.919] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c562c6c038675505ccb8b5a83a4f15908' } false
[2017-09-22 16:52:36.920] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081DImCi0lBcBl1cWNAi0fr5Ci0DImCN&state=6688&_v=0[39m [32m200[39m [90m213ms[39m [90m153b[39m
[2017-09-22 16:52:44.313] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12311&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c562c6c038675505ccb8b5a83a4f15908&_v=1[39m
[2017-09-22 16:52:44.313] [INFO] console - enter===>
[2017-09-22 16:52:44.314] [INFO] console - gogogogoogo
[2017-09-22 16:52:44.318] [INFO] console - Promise { <pending> }
[2017-09-22 16:52:44.334] [INFO] console - you====> Promise { <pending> }
[2017-09-22 16:52:44.336] [INFO] console - vvvvv
[2017-09-22 16:53:32.223] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:53:32.231] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:53:33.543] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:53:33.555] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 16:53:33.947] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001a0dG11rOj4N1nQDI11HfqG11a0dG5&state=6688&_v=0[39m
[2017-09-22 16:53:33.950] [INFO] console - enter===>
[2017-09-22 16:53:34.139] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c44f3eea0c547ea8a6d6c565a6c442a1b' }
[2017-09-22 16:53:34.141] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c44f3eea0c547ea8a6d6c565a6c442a1b' } false
[2017-09-22 16:53:34.143] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001a0dG11rOj4N1nQDI11HfqG11a0dG5&state=6688&_v=0[39m [32m200[39m [90m196ms[39m [90m153b[39m
[2017-09-22 16:53:41.515] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12345&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c44f3eea0c547ea8a6d6c565a6c442a1b&_v=1[39m
[2017-09-22 16:53:41.515] [INFO] console - enter===>
[2017-09-22 16:53:41.516] [INFO] console - gogogogoogo
[2017-09-22 16:53:41.518] [INFO] console - Promise { <pending> }
[2017-09-22 16:53:41.532] [INFO] console - you====> Promise { <pending> }
[2017-09-22 16:53:41.533] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - sdfdsfsdfsdfsd
[2017-09-22 16:53:41.534] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 16:53:41.534] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 16:53:41.535] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12345&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c44f3eea0c547ea8a6d6c565a6c442a1b&_v=1[39m [32m200[39m [90m20ms[39m [90m12b[39m
[2017-09-22 16:54:00.467] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:54:00.472] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:54:02.404] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:54:02.413] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m9ms[39m [90m473b[39m
[2017-09-22 16:54:02.728] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0814rwBQ0AwGKb2PJLAQ0sUPBQ04rwB2&state=6688&_v=0[39m
[2017-09-22 16:54:02.730] [INFO] console - enter===>
[2017-09-22 16:54:02.924] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48ae9a7de195c0983f26aea63a440c0c' }
[2017-09-22 16:54:02.927] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48ae9a7de195c0983f26aea63a440c0c' } false
[2017-09-22 16:54:02.929] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0814rwBQ0AwGKb2PJLAQ0sUPBQ04rwB2&state=6688&_v=0[39m [32m200[39m [90m200ms[39m [90m153b[39m
[2017-09-22 16:54:05.565] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=13366&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48ae9a7de195c0983f26aea63a440c0c&_v=1[39m
[2017-09-22 16:54:05.565] [INFO] console - enter===>
[2017-09-22 16:54:05.566] [INFO] console - gogogogoogo
[2017-09-22 16:54:05.569] [INFO] console - Promise { <pending> }
[2017-09-22 16:54:05.586] [INFO] console - you====> Promise { <pending> }
[2017-09-22 16:54:05.588] [INFO] console - sdfdsfsdfsdfsd
[2017-09-22 16:56:00.479] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:56:00.491] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 16:59:39.654] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 16:59:39.660] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 16:59:44.569] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 16:59:44.587] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m18ms[39m [90m473b[39m
[2017-09-22 16:59:44.958] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011oJEYo0iQhyo1pdQVo01mFYo0oJEY5&state=6688&_v=0[39m
[2017-09-22 16:59:44.963] [INFO] console - enter===>
[2017-09-22 16:59:45.154] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c11be629beed4df9651373ab3678fb8e4' }
[2017-09-22 16:59:45.157] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c11be629beed4df9651373ab3678fb8e4' } false
[2017-09-22 16:59:45.158] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011oJEYo0iQhyo1pdQVo01mFYo0oJEY5&state=6688&_v=0[39m [32m200[39m [90m200ms[39m [90m153b[39m
[2017-09-22 16:59:51.861] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12344&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c11be629beed4df9651373ab3678fb8e4&_v=1[39m
[2017-09-22 16:59:51.861] [INFO] console - enter===>
[2017-09-22 16:59:51.862] [INFO] console - gogogogoogo
[2017-09-22 16:59:51.867] [INFO] console - Promise {
  emitter: 
   EventEmitter {
     domain: null,
     _events: {},
     _eventsCount: 0,
     _maxListeners: undefined },
  emitted: {},
  ended: false }
[2017-09-22 16:59:51.869] [INFO] console - you====> Promise {
  emitter: 
   EventEmitter {
     domain: null,
     _events: {},
     _eventsCount: 0,
     _maxListeners: undefined },
  emitted: {},
  ended: false }
[2017-09-22 16:59:51.872] [INFO] console - sdfdsfsdfsdfsd
[2017-09-22 16:59:51.873] [ERROR] console - (node:51641) DeprecationWarning: Mongoose: mpromise (mongoose's default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html
[2017-09-22 17:01:39.364] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:01:39.369] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:03:39.560] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 17:03:39.573] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 17:10:48.969] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:10:48.974] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:11:29.065] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:11:29.073] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:11:45.309] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:11:45.314] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:12:22.523] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:12:22.537] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m14ms[39m [90m473b[39m
[2017-09-22 17:12:23.133] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071SYf2c0y5pEw1W7x0c0Fk12c0SYf20&state=6688&_v=0[39m
[2017-09-22 17:12:23.136] [INFO] console - enter===>
[2017-09-22 17:12:23.338] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c82845990fe389feafdf175fed5123f3f' }
[2017-09-22 17:12:23.341] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c82845990fe389feafdf175fed5123f3f' } false
[2017-09-22 17:12:23.342] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071SYf2c0y5pEw1W7x0c0Fk12c0SYf20&state=6688&_v=0[39m [32m200[39m [90m209ms[39m [90m153b[39m
[2017-09-22 17:12:34.148] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12335&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c82845990fe389feafdf175fed5123f3f&_v=1[39m
[2017-09-22 17:12:34.149] [INFO] console - enter===>
[2017-09-22 17:12:34.149] [INFO] console - gogogogoogo
[2017-09-22 17:12:34.152] [INFO] console - Promise { <pending> }
[2017-09-22 17:12:34.199] [INFO] console - you====> Promise { <pending> }
[2017-09-22 17:12:34.201] [INFO] console - sdfdsfsdfsdfsd
[2017-09-22 17:13:03.868] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:13:03.875] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:13:04.864] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:13:04.874] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 17:13:05.224] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081ouRIh2a5Q6G0UBCLh2uHZIh2ouRIP&state=6688&_v=0[39m
[2017-09-22 17:13:05.226] [INFO] console - enter===>
[2017-09-22 17:13:05.426] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c97358bb8b43f42afbf2a13d6cec01f83' }
[2017-09-22 17:13:05.428] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c97358bb8b43f42afbf2a13d6cec01f83' } false
[2017-09-22 17:13:05.429] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081ouRIh2a5Q6G0UBCLh2uHZIh2ouRIP&state=6688&_v=0[39m [32m200[39m [90m205ms[39m [90m153b[39m
[2017-09-22 17:13:07.916] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=11186&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c97358bb8b43f42afbf2a13d6cec01f83&_v=1[39m
[2017-09-22 17:13:07.917] [INFO] console - enter===>
[2017-09-22 17:13:07.917] [INFO] console - gogogogoogo
[2017-09-22 17:13:07.919] [INFO] console - Promise { <pending> }
[2017-09-22 17:13:07.933] [INFO] console - you====> Promise { <pending> }
[2017-09-22 17:13:07.934] [INFO] console - sdfdsfsdfsdfsd
[2017-09-22 17:13:27.877] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:13:27.885] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:13:30.338] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:13:30.349] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 17:13:30.686] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071nW4mb275PiR0pmdlb2GPUlb2nW4mz&state=6688&_v=0[39m
[2017-09-22 17:13:30.688] [INFO] console - enter===>
[2017-09-22 17:13:30.902] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf02208010d30f38175903ec515bd42cc' }
[2017-09-22 17:13:30.906] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf02208010d30f38175903ec515bd42cc' } false
[2017-09-22 17:13:30.908] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071nW4mb275PiR0pmdlb2GPUlb2nW4mz&state=6688&_v=0[39m [32m200[39m [90m222ms[39m [90m153b[39m
[2017-09-22 17:13:35.140] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=13131&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf02208010d30f38175903ec515bd42cc&_v=1[39m
[2017-09-22 17:13:35.140] [INFO] console - enter===>
[2017-09-22 17:13:35.141] [INFO] console - gogogogoogo
[2017-09-22 17:13:35.143] [INFO] console - Promise { <pending> }
[2017-09-22 17:13:35.154] [INFO] console - you====> Query {
  _mongooseOptions: {},
  mongooseCollection: 
   NativeCollection {
     collection: null,
     opts: { bufferCommands: true, capped: false },
     name: 'users',
     collectionName: 'users',
     conn: 
      NativeConnection {
        base: [Object],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        hosts: null,
        host: null,
        port: null,
        user: null,
        pass: null,
        name: null,
        options: null,
        otherDbs: [],
        _readyState: 0,
        _closeCalled: false,
        _hasOpened: false,
        _listening: false,
        _events: [Object],
        _eventsCount: 2 },
     queue: [ [Object] ],
     buffer: true,
     emitter: 
      EventEmitter {
        domain: null,
        _events: {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  model: 
   { [Function: model]
     hooks: Kareem { _pres: {}, _posts: {} },
     base: 
      Mongoose {
        connections: [Object],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        plugins: [Object] },
     modelName: 'user',
     model: [Function: model],
     db: 
      NativeConnection {
        base: [Object],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        hosts: null,
        host: null,
        port: null,
        user: null,
        pass: null,
        name: null,
        options: null,
        otherDbs: [],
        _readyState: 0,
        _closeCalled: false,
        _hasOpened: false,
        _listening: false,
        _events: [Object],
        _eventsCount: 2 },
     discriminators: undefined,
     nextCount: [Function: nextCount],
     resetCount: [Function: resetCount],
     '$appliedHooks': true,
     _events: { init: [Function], save: [Function] },
     _eventsCount: 2,
     schema: 
      Schema {
        obj: [Object],
        paths: [Object],
        aliases: {},
        subpaths: {},
        virtuals: {},
        singleNestedPaths: {},
        nested: {},
        inherits: {},
        callQueue: [Object],
        _indexes: [],
        methods: [Object],
        statics: [Object],
        tree: [Object],
        query: {},
        childSchemas: [],
        plugins: [Object],
        s: [Object],
        options: [Object],
        '$globalPluginsApplied': true },
     collection: 
      NativeCollection {
        collection: null,
        opts: [Object],
        name: 'users',
        collectionName: 'users',
        conn: [Object],
        queue: [Object],
        buffer: true,
        emitter: [Object] },
     Query: { [Function] base: [Object] },
     '$__insertMany': [Function],
     insertMany: [Function] },
  schema: 
   Schema {
     obj: 
      { id: [Function: String],
        openid: [Function: String],
        name: [Function: String],
        sex: [Function: Number],
        head: [Function: String],
        lastLogin: [Object],
        enable: [Object] },
     paths: 
      { id: [Object],
        openid: [Object],
        name: [Object],
        sex: [Object],
        head: [Object],
        lastLogin: [Object],
        enable: [Object],
        _id: [Object],
        __v: [Object] },
     aliases: {},
     subpaths: {},
     virtuals: {},
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: 
      [ [Object],
        [Object],
        [Object],
        [Object],
        [Object],
        [Object],
        [Object] ],
     _indexes: [],
     methods: 
      { nextCount: [Function: nextCount],
        resetCount: [Function: resetCount] },
     statics: 
      { nextCount: [Function: nextCount],
        resetCount: [Function: resetCount] },
     tree: 
      { id: [Object],
        openid: [Function: String],
        name: [Function: String],
        sex: [Function: Number],
        head: [Function: String],
        lastLogin: [Object],
        enable: [Object],
        _id: [Object],
        __v: [Function: Number] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     s: { hooks: [Object], kareemHooks: [Object] },
     options: 
      { retainKeyOrder: false,
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true },
  op: 'findOne',
  options: { retainKeyOrder: false },
  _conditions: { id: 13131 },
  _fields: undefined,
  _update: undefined,
  _path: undefined,
  _distinct: undefined,
  _collection: 
   NodeCollection {
     collection: 
      NativeCollection {
        collection: null,
        opts: [Object],
        name: 'users',
        collectionName: 'users',
        conn: [Object],
        queue: [Object],
        buffer: true,
        emitter: [Object] },
     collectionName: 'users' },
  _traceFunction: undefined,
  _count: [Function],
  _execUpdate: [Function],
  _find: [Function],
  _findOne: [Function],
  _findOneAndRemove: [Function],
  _findOneAndUpdate: [Function],
  _replaceOne: [Function],
  _updateMany: [Function],
  _updateOne: [Function],
  _castError: null }
[2017-09-22 17:13:35.171] [INFO] console - sdfdsfsdfsdfsd
[2017-09-22 17:14:15.631] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:14:15.636] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:16:15.658] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 17:16:15.670] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 17:21:17.049] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:21:17.063] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:21:18.007] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:21:18.018] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 17:21:18.335] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001E3mqg0izMzB1USpqg0zRjqg0E3mqA&state=6688&_v=0[39m
[2017-09-22 17:21:18.338] [INFO] console - enter===>
[2017-09-22 17:21:18.563] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1382fedba23eb15bbe8fe8aaf6a39130' }
[2017-09-22 17:21:18.566] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1382fedba23eb15bbe8fe8aaf6a39130' } false
[2017-09-22 17:21:18.567] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001E3mqg0izMzB1USpqg0zRjqg0E3mqA&state=6688&_v=0[39m [32m200[39m [90m232ms[39m [90m153b[39m
[2017-09-22 17:21:21.983] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12355&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1382fedba23eb15bbe8fe8aaf6a39130&_v=1[39m
[2017-09-22 17:21:21.983] [INFO] console - enter===>
[2017-09-22 17:21:21.985] [INFO] console - gogogogoogo
[2017-09-22 17:21:21.986] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: a is not defined
    at _callee4$ (/Users/zyg/optimization/pay/app/userManager.js:78:15)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-22 17:21:22.013] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 17:21:22.013] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 17:21:22.014] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12355&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1382fedba23eb15bbe8fe8aaf6a39130&_v=1[39m [32m200[39m [90m31ms[39m [90m12b[39m
[2017-09-22 17:21:35.794] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:21:35.798] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:21:37.960] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:21:37.969] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 17:21:38.316] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081iKdYN0pBLI920Wd1O0ZFmYN0iKdYz&state=6688&_v=0[39m
[2017-09-22 17:21:38.318] [INFO] console - enter===>
[2017-09-22 17:21:38.497] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3574558205d5cb77c9375cb95a850c22' }
[2017-09-22 17:21:38.499] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3574558205d5cb77c9375cb95a850c22' } false
[2017-09-22 17:21:38.500] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081iKdYN0pBLI920Wd1O0ZFmYN0iKdYz&state=6688&_v=0[39m [32m200[39m [90m184ms[39m [90m153b[39m
[2017-09-22 17:21:43.064] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10002&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3574558205d5cb77c9375cb95a850c22&_v=1[39m
[2017-09-22 17:21:43.064] [INFO] console - enter===>
[2017-09-22 17:21:43.065] [INFO] console - gogogogoogo
[2017-09-22 17:22:00.088] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:22:00.094] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:22:01.595] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:22:01.606] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 17:22:01.952] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021TGnmw1qCslc0fiZjw1pcpmw1TGnmB&state=6688&_v=0[39m
[2017-09-22 17:22:01.954] [INFO] console - enter===>
[2017-09-22 17:22:02.168] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f53ae79549e3b30821230362636c275' }
[2017-09-22 17:22:02.170] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f53ae79549e3b30821230362636c275' } false
[2017-09-22 17:22:02.172] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021TGnmw1qCslc0fiZjw1pcpmw1TGnmB&state=6688&_v=0[39m [32m200[39m [90m220ms[39m [90m153b[39m
[2017-09-22 17:22:04.963] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=18881&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f53ae79549e3b30821230362636c275&_v=1[39m
[2017-09-22 17:22:04.963] [INFO] console - enter===>
[2017-09-22 17:22:04.964] [INFO] console - gogogogoogo
[2017-09-22 17:22:04.965] [INFO] console - 234234234234
[2017-09-22 17:22:40.772] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:22:40.783] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:22:44.686] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:22:44.698] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 17:22:45.035] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071Jfply0vc8Jj1fUiiy0Nifly0JfplQ&state=6688&_v=0[39m
[2017-09-22 17:22:45.037] [INFO] console - enter===>
[2017-09-22 17:22:45.236] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1684ab8558531f69c039bb1f68f5a671' }
[2017-09-22 17:22:45.238] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1684ab8558531f69c039bb1f68f5a671' } false
[2017-09-22 17:22:45.240] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071Jfply0vc8Jj1fUiiy0Nifly0JfplQ&state=6688&_v=0[39m [32m200[39m [90m205ms[39m [90m153b[39m
[2017-09-22 17:22:48.053] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=15331&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1684ab8558531f69c039bb1f68f5a671&_v=1[39m
[2017-09-22 17:22:48.054] [INFO] console - enter===>
[2017-09-22 17:22:48.055] [INFO] console - gogogogoogo
[2017-09-22 17:22:48.055] [INFO] console - 234234234234
[2017-09-22 17:23:25.471] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:23:25.476] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:23:26.412] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:23:26.422] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 17:23:26.720] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061BSssj1jovBy0hd7rj1TyQsj1BSssW&state=6688&_v=0[39m
[2017-09-22 17:23:26.723] [INFO] console - enter===>
[2017-09-22 17:23:26.911] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce9608780a890c76d0f3531f598d84822' }
[2017-09-22 17:23:26.915] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce9608780a890c76d0f3531f598d84822' } false
[2017-09-22 17:23:26.917] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061BSssj1jovBy0hd7rj1TyQsj1BSssW&state=6688&_v=0[39m [32m200[39m [90m197ms[39m [90m153b[39m
[2017-09-22 17:23:33.161] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=46461&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce9608780a890c76d0f3531f598d84822&_v=1[39m
[2017-09-22 17:23:33.161] [INFO] console - enter===>
[2017-09-22 17:23:33.162] [INFO] console - gogogogoogo
[2017-09-22 17:23:33.164] [INFO] console - 234234234234
[2017-09-22 17:23:33.164] [INFO] console - 234234
[2017-09-22 17:23:33.166] [INFO] console - you====> Promise { <pending> }
[2017-09-22 17:23:33.178] [INFO] console - 234234
[2017-09-22 17:23:33.179] [INFO] console - 234234
[2017-09-22 17:23:33.179] [INFO] console - enter====> client { code: 200, name: undefined } false
[2017-09-22 17:23:33.180] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=46461&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce9608780a890c76d0f3531f598d84822&_v=1[39m [32m200[39m [90m19ms[39m [90m12b[39m
[2017-09-22 17:23:52.111] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:23:52.118] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:24:12.258] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:24:12.264] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:24:14.119] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:24:14.131] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 17:24:14.567] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011a1OMb2ID2BQ0fiHLb2vbGMb2a1OMy&state=6688&_v=0[39m
[2017-09-22 17:24:14.569] [INFO] console - enter===>
[2017-09-22 17:24:14.766] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cac7cfa81e4b1d2ce43cf435c211d91f3' }
[2017-09-22 17:24:14.769] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cac7cfa81e4b1d2ce43cf435c211d91f3' } false
[2017-09-22 17:24:14.772] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011a1OMb2ID2BQ0fiHLb2vbGMb2a1OMy&state=6688&_v=0[39m [32m200[39m [90m206ms[39m [90m153b[39m
[2017-09-22 17:24:17.485] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=15131&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cac7cfa81e4b1d2ce43cf435c211d91f3&_v=1[39m
[2017-09-22 17:24:17.486] [INFO] console - enter===>
[2017-09-22 17:24:17.487] [INFO] console - gogogogoogo
[2017-09-22 17:24:34.329] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:24:34.338] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:24:37.481] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:24:37.493] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 17:24:37.774] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061cLjFI11RcM40AJvGI1Ku6FI1cLjFY&state=6688&_v=0[39m
[2017-09-22 17:24:37.776] [INFO] console - enter===>
[2017-09-22 17:24:37.971] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5cbdb190bcae1ec0b2afcd128c246fe9' }
[2017-09-22 17:24:37.973] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5cbdb190bcae1ec0b2afcd128c246fe9' } false
[2017-09-22 17:24:37.975] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061cLjFI11RcM40AJvGI1Ku6FI1cLjFY&state=6688&_v=0[39m [32m200[39m [90m201ms[39m [90m153b[39m
[2017-09-22 17:24:43.502] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=13161&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5cbdb190bcae1ec0b2afcd128c246fe9&_v=1[39m
[2017-09-22 17:24:43.503] [INFO] console - enter===>
[2017-09-22 17:24:43.504] [INFO] console - gogogogoogo
[2017-09-22 17:24:43.504] [INFO] console - 2423424234
[2017-09-22 17:24:55.000] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:24:55.006] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:24:56.690] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:24:56.700] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m9ms[39m [90m473b[39m
[2017-09-22 17:24:57.052] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001QXpC51kRmBN1DUXz51gzrC51QXpCp&state=6688&_v=0[39m
[2017-09-22 17:24:57.054] [INFO] console - enter===>
[2017-09-22 17:24:57.259] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccde122c725a855df15c1c90975203c62' }
[2017-09-22 17:24:57.262] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccde122c725a855df15c1c90975203c62' } false
[2017-09-22 17:24:57.264] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001QXpC51kRmBN1DUXz51gzrC51QXpCp&state=6688&_v=0[39m [32m200[39m [90m212ms[39m [90m153b[39m
[2017-09-22 17:25:07.628] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=13131&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccde122c725a855df15c1c90975203c62&_v=1[39m
[2017-09-22 17:25:07.629] [INFO] console - enter===>
[2017-09-22 17:25:07.629] [INFO] console - gogogogoogo
[2017-09-22 17:25:07.631] [INFO] console - 2423424234 function (resolve, reject) {
  return this.exec().then(resolve, reject);
}
[2017-09-22 17:26:55.078] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 17:26:55.089] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 17:29:14.989] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:29:14.994] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:29:17.780] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:29:17.789] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m9ms[39m [90m473b[39m
[2017-09-22 17:29:18.160] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071CvmxI0j9rbk2jOMvI0HgaxI0Cvmxp&state=6688&_v=0[39m
[2017-09-22 17:29:18.162] [INFO] console - enter===>
[2017-09-22 17:29:18.345] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb841ed8f95f74eb95600ff28529b195d' }
[2017-09-22 17:29:18.347] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb841ed8f95f74eb95600ff28529b195d' } false
[2017-09-22 17:29:18.348] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071CvmxI0j9rbk2jOMvI0HgaxI0Cvmxp&state=6688&_v=0[39m [32m200[39m [90m188ms[39m [90m153b[39m
[2017-09-22 17:29:21.443] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12354&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb841ed8f95f74eb95600ff28529b195d&_v=1[39m
[2017-09-22 17:29:21.443] [INFO] console - enter===>
[2017-09-22 17:29:21.444] [INFO] console - gogogogoogo
[2017-09-22 17:29:21.446] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: _UserModel2.default.findOne(...) is not a function
    at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:87:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-22 17:29:21.471] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 17:29:21.471] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 17:29:21.472] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12354&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb841ed8f95f74eb95600ff28529b195d&_v=1[39m [32m200[39m [90m29ms[39m [90m12b[39m
[2017-09-22 17:30:16.133] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:30:16.140] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:30:19.422] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:30:19.431] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:30:19.685] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 17:30:19.690] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:30:22.220] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:30:22.231] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 17:30:22.617] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071uEu7N18wsH11EQk7N192D7N1uEu7J&state=6688&_v=0[39m
[2017-09-22 17:30:22.620] [INFO] console - enter===>
[2017-09-22 17:30:22.830] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c192a92192b79ec290542c5fdb0307d32' }
[2017-09-22 17:30:22.832] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c192a92192b79ec290542c5fdb0307d32' } false
[2017-09-22 17:30:22.833] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071uEu7N18wsH11EQk7N192D7N1uEu7J&state=6688&_v=0[39m [32m200[39m [90m216ms[39m [90m153b[39m
[2017-09-22 17:30:27.728] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12345&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c192a92192b79ec290542c5fdb0307d32&_v=1[39m
[2017-09-22 17:30:27.729] [INFO] console - enter===>
[2017-09-22 17:30:27.729] [INFO] console - gogogogoogo
[2017-09-22 17:30:27.732] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: email is not defined
    at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:86:40)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-22 17:30:27.754] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 17:30:27.754] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 17:30:27.756] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12345&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c192a92192b79ec290542c5fdb0307d32&_v=1[39m [32m200[39m [90m28ms[39m [90m12b[39m
[2017-09-22 17:30:41.990] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 17:30:41.997] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:30:43.487] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:30:43.489] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 17:30:43.748] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021BDaue0Eeqxy1jz5ve06Ksue0BDauz&state=6688&_v=0[39m
[2017-09-22 17:30:43.748] [INFO] console - enter===>
[2017-09-22 17:30:43.935] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6eb5a22960b1a18b6456f42e72126837' }
[2017-09-22 17:30:43.935] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6eb5a22960b1a18b6456f42e72126837' } false
[2017-09-22 17:30:43.936] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021BDaue0Eeqxy1jz5ve06Ksue0BDauz&state=6688&_v=0[39m [32m200[39m [90m188ms[39m [90m153b[39m
[2017-09-22 17:30:50.344] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12345&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6eb5a22960b1a18b6456f42e72126837&_v=1[39m
[2017-09-22 17:30:50.345] [INFO] console - enter===>
[2017-09-22 17:30:50.345] [INFO] console - gogogogoogo
[2017-09-22 17:30:50.345] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: email is not defined
    at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:86:40)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-22 17:30:50.348] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 17:30:50.349] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 17:30:50.349] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12345&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6eb5a22960b1a18b6456f42e72126837&_v=1[39m [32m200[39m [90m5ms[39m [90m12b[39m
[2017-09-22 17:31:07.248] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 17:31:07.258] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:31:10.606] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:31:10.607] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m1ms[39m [90m473b[39m
[2017-09-22 17:31:10.957] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001XM6cm0ZIclm1jR5am0x4wcm0XM6cn&state=6688&_v=0[39m
[2017-09-22 17:31:10.958] [INFO] console - enter===>
[2017-09-22 17:31:11.132] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c266db9fe9fcc5044d434efdd72c9ac3d' }
[2017-09-22 17:31:11.132] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c266db9fe9fcc5044d434efdd72c9ac3d' } false
[2017-09-22 17:31:11.133] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001XM6cm0ZIclm1jR5am0x4wcm0XM6cn&state=6688&_v=0[39m [32m200[39m [90m176ms[39m [90m153b[39m
[2017-09-22 17:31:14.300] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=13331&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c266db9fe9fcc5044d434efdd72c9ac3d&_v=1[39m
[2017-09-22 17:31:14.300] [INFO] console - enter===>
[2017-09-22 17:31:14.301] [INFO] console - gogogogoogo
[2017-09-22 17:31:14.301] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: email is not defined
    at _callee3$ (/Users/zyg/optimization/pay/app/userManager.js:86:40)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.FindInGameByID (/Users/zyg/optimization/pay/app/userManager.js:62:7)
    at _callee3$ (/Users/zyg/optimization/pay/controllers/dyh.js:89:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.getusername (/Users/zyg/optimization/pay/controllers/dyh.js:77:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-22 17:31:14.304] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 17:31:14.304] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 17:31:14.305] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=13331&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c266db9fe9fcc5044d434efdd72c9ac3d&_v=1[39m [32m200[39m [90m5ms[39m [90m12b[39m
[2017-09-22 17:31:35.326] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:31:35.333] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:31:36.505] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 17:31:36.514] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m9ms[39m [90m473b[39m
[2017-09-22 17:31:36.850] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001r1mAU1xYerU0goFCU1yvWzU1r1mAt&state=6688&_v=0[39m
[2017-09-22 17:31:36.852] [INFO] console - enter===>
[2017-09-22 17:31:37.075] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdd229bae8f41a5d8cfbc4a3cfe34fd10' }
[2017-09-22 17:31:37.077] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdd229bae8f41a5d8cfbc4a3cfe34fd10' } false
[2017-09-22 17:31:37.078] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001r1mAU1xYerU0goFCU1yvWzU1r1mAt&state=6688&_v=0[39m [32m200[39m [90m228ms[39m [90m153b[39m
[2017-09-22 17:31:41.204] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=12345&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdd229bae8f41a5d8cfbc4a3cfe34fd10&_v=1[39m
[2017-09-22 17:31:41.204] [INFO] console - enter===>
[2017-09-22 17:31:41.205] [INFO] console - gogogogoogo
[2017-09-22 17:33:35.410] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 17:33:35.420] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 17:34:30.458] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:34:30.462] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:35:29.348] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:35:29.357] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:35:41.831] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:35:41.836] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:36:19.952] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:36:19.957] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:36:40.913] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:36:40.917] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:36:51.522] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:36:51.527] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:37:09.993] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:37:09.999] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:37:18.376] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:37:18.381] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:40:59.601] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:40:59.605] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:40:59.651] [INFO] console - Promise { <pending> }
[2017-09-22 17:41:41.164] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:41:41.169] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:41:41.212] [INFO] console - errr undefined
[2017-09-22 17:41:41.231] [INFO] console - Promise { <pending> }
[2017-09-22 17:42:41.768] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:42:41.774] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:42:41.812] [INFO] console - errr undefined
[2017-09-22 17:42:41.852] [INFO] console - ReferenceError: Person is not defined
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:31:30
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:359:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:684:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:694:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:654:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:42:41.860] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: ReferenceError: Person is not defined
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:31:30
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:359:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:684:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:694:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:654:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:42:52.486] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:42:52.492] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:42:52.530] [INFO] console - errr undefined
[2017-09-22 17:42:52.550] [INFO] console - TypeError: prom.addBack is not a function
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:35:10
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:359:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:684:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:694:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:654:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:42:52.561] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: TypeError: prom.addBack is not a function
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:35:10
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:359:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:684:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:694:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/connection.js:654:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.9@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:43:11.505] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:43:11.509] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:43:11.546] [INFO] console - errr undefined
[2017-09-22 17:43:11.558] [INFO] console - Promise {
  emitter: 
   EventEmitter {
     domain: null,
     _events: {},
     _eventsCount: 0,
     _maxListeners: undefined },
  emitted: {},
  ended: false }
[2017-09-22 17:43:11.580] [ERROR] console - (node:54607) DeprecationWarning: Mongoose: mpromise (mongoose's default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html
[2017-09-22 17:45:54.239] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:45:54.244] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:45:54.280] [INFO] console - errr undefined
[2017-09-22 17:45:54.298] [INFO] console - Promise {
  emitter: 
   EventEmitter {
     domain: null,
     _events: {},
     _eventsCount: 0,
     _maxListeners: undefined },
  emitted: {},
  ended: false }
[2017-09-22 17:45:54.315] [ERROR] console - (node:54791) DeprecationWarning: Mongoose: mpromise (mongoose's default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html
[2017-09-22 17:46:05.913] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:46:05.918] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:46:05.946] [INFO] console - errr undefined
[2017-09-22 17:46:05.966] [INFO] console - TypeError: prom.addBack is not a function
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:35:10
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:360:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:685:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:695:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:655:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:46:05.977] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: TypeError: prom.addBack is not a function
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:35:10
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:360:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:685:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:695:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:655:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:46:14.180] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:46:14.184] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:46:14.212] [INFO] console - errr undefined
[2017-09-22 17:46:14.221] [INFO] console - Promise { <pending> }
[2017-09-22 17:46:24.339] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:46:24.344] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:46:24.387] [INFO] console - errr undefined
[2017-09-22 17:46:24.397] [INFO] console - Promise { <pending> }
[2017-09-22 17:46:32.787] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:46:32.793] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:46:32.830] [INFO] console - errr undefined
[2017-09-22 17:46:32.841] [INFO] console - Promise {
  _bitField: 0,
  _fulfillmentHandler0: undefined,
  _rejectionHandler0: undefined,
  _promise0: undefined,
  _receiver0: undefined,
  _trace: 
   { Error
       at Promise.longStackTracesCaptureStackTrace [as _captureStackTrace] (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/debuggability.js:397:19)
       at Promise._resolveFromExecutor (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promise.js:480:10)
       at new Promise (/Users/zyg/optimization/pay/node_modules/.3.5.0@bluebird/js/release/promise.js:79:10)
       at Query.exec (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/query.js:2903:17)
       at /Users/zyg/optimization/pay/app/dao/dbMaster.js:38:37
       at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:360:17
       at open (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:685:17)
       at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:695:5)
       at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:655:11
       at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
       at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
       at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
       at Server.g (events.js:291:16)
       at emitOne (events.js:96:13)
       at Server.emit (events.js:188:7)
       at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
       at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
       at _combinedTickCallback (internal/process/next_tick.js:67:7)
       at process._tickDomainCallback (internal/process/next_tick.js:122:9)
     _parent: undefined,
     _promisesCreated: 0,
     _length: 1,
     _promiseCreated: null } }
[2017-09-22 17:47:35.673] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:47:35.677] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:47:35.709] [INFO] console - errr undefined
[2017-09-22 17:47:35.723] [INFO] console - Promise { <pending> }
[2017-09-22 17:47:38.641] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:47:38.649] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:47:38.718] [INFO] console - errr undefined
[2017-09-22 17:47:38.732] [INFO] console - Promise { <pending> }
[2017-09-22 17:48:39.889] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:48:39.892] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:48:39.930] [INFO] console - errr undefined
[2017-09-22 17:48:39.948] [INFO] console - Promise { <pending> }
[2017-09-22 17:50:02.987] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:50:02.990] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:50:03.019] [INFO] console - ReferenceError: Schema is not defined
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:28:26
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:360:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:685:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:695:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:655:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:50:03.020] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: ReferenceError: Schema is not defined
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:28:26
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:360:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:685:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:695:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:655:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:50:27.448] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:50:27.453] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:50:27.489] [INFO] console - ReferenceError: UserModel is not defined
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:37:5
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:360:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:685:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:695:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:655:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:50:27.490] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: ReferenceError: UserModel is not defined
    at /Users/zyg/optimization/pay/app/dao/dbMaster.js:37:5
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:360:17
    at open (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:685:17)
    at NativeConnection.Connection.onOpen (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:695:5)
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/connection.js:655:11
    at /Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/drivers/node-mongodb-native/connection.js:71:5
    at /Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/db.js:238:5
    at Server.connectHandler (/Users/zyg/optimization/pay/node_modules/.2.2.31@mongodb/lib/server.js:324:7)
    at Server.g (events.js:291:16)
    at emitOne (events.js:96:13)
    at Server.emit (events.js:188:7)
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/topologies/server.js:300:14
    at /Users/zyg/optimization/pay/node_modules/.2.1.15@mongodb-core/lib/connection/pool.js:469:18
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
[2017-09-22 17:50:36.710] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:50:36.715] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:50:36.753] [INFO] console - Promise { <pending> }
[2017-09-22 17:50:47.808] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:50:47.814] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:50:47.853] [INFO] console - Promise { <pending> }
[2017-09-22 17:50:57.369] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:50:57.373] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:50:57.417] [INFO] console - Promise { <pending> }
[2017-09-22 17:51:00.808] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:51:00.820] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:51:00.851] [INFO] console - Promise { <pending> }
[2017-09-22 17:55:30.646] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 17:55:30.654] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 17:55:30.687] [INFO] console - Promise { <pending> }
[2017-09-22 18:37:44.966] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:37:44.973] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:39:41.013] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:39:41.017] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:39:58.536] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:39:58.541] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:41:08.025] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:41:08.029] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:41:23.269] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:41:23.274] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:41:50.038] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:41:50.044] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:43:50.072] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 18:43:50.089] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 18:45:55.748] [ERROR] console - (node:58737) DeprecationWarning: `open()` is deprecated in mongoose >= 4.11.0, use `openUri()` instead, or set the `useMongoClient` option if using `connect()` or `createConnection()`. See http://mongoosejs.com/docs/connections.html#use-mongo-client
[2017-09-22 18:45:55.752] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:45:55.760] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:45:55.779] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:45:55.785] [INFO] console - [ { _id: 59c4e50348b949e05048b3e1,
    name: 'inserting 1506075907832',
    __v: 0 },
  { _id: 59c4e510fabc7de05c5703e9,
    name: 'inserting 1506075920817',
    __v: 0 },
  { _id: 59c4e729526ee4e25fb62c5e,
    name: 'inserting 1506076457350',
    __v: 0 },
  { _id: 59c4e730861c3be266374c1a,
    name: 'inserting 1506076464603',
    __v: 0 },
  { _id: 59c4e7443b1804e277bdc29d,
    name: 'inserting 1506076484943',
    __v: 0 },
  { _id: 59c4e74ac74759e27fbd977f,
    name: 'inserting 1506076490329',
    __v: 0 },
  { _id: 59c4e74e08e451e282fceb82,
    name: 'inserting 1506076494073',
    __v: 0 },
  { _id: 59c4e7609e9b1fe292f4f482,
    name: 'inserting 1506076512421',
    __v: 0 },
  { _id: 59c4e770831c58e2a4fa46cf,
    name: 'inserting 1506076528599',
    __v: 0 },
  { _id: 59c4e78b735072e2ba30dc57,
    name: 'inserting 1506076555279',
    __v: 0 },
  { _id: 59c4e894cfeddae3fa16604f,
    name: 'inserting 1506076820484',
    __v: 0 } ]
[2017-09-22 18:46:35.334] [ERROR] console - (node:58782) DeprecationWarning: `open()` is deprecated in mongoose >= 4.11.0, use `openUri()` instead, or set the `useMongoClient` option if using `connect()` or `createConnection()`. See http://mongoosejs.com/docs/connections.html#use-mongo-client
[2017-09-22 18:46:35.337] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:46:35.342] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:46:35.359] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:47:08.309] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:47:08.312] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:47:53.579] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:47:53.591] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:48:14.426] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:48:14.436] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:48:14.495] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-22 18:48:14.507] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:48:17.531] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:48:17.541] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:49:16.012] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 18:49:16.031] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m20ms[39m [90m473b[39m
[2017-09-22 18:49:16.440] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0111Fov52HSTIN01V8v52SVrv521FovQ&state=6688&_v=0[39m
[2017-09-22 18:49:16.445] [INFO] console - enter===>
[2017-09-22 18:49:16.677] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6d3a34bb4f32f550d1f77716164cf708' }
[2017-09-22 18:49:16.681] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6d3a34bb4f32f550d1f77716164cf708' } false
[2017-09-22 18:49:16.683] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0111Fov52HSTIN01V8v52SVrv521FovQ&state=6688&_v=0[39m [32m200[39m [90m243ms[39m [90m153b[39m
[2017-09-22 18:49:20.194] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10002&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6d3a34bb4f32f550d1f77716164cf708&_v=1[39m
[2017-09-22 18:49:20.195] [INFO] console - enter===>
[2017-09-22 18:49:20.197] [INFO] console - gogogogoogo
[2017-09-22 18:50:09.772] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:50:09.780] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:50:14.591] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 18:50:14.601] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 18:50:19.200] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:50:19.206] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:50:21.016] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 18:50:21.027] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 18:50:21.416] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081KF9UC1Ji5g10uDRTC1bboUC1KF9U2&state=6688&_v=0[39m
[2017-09-22 18:50:21.421] [INFO] console - enter===>
[2017-09-22 18:50:21.635] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cd69c7f19fecebe38345b716d7a1376a4' }
[2017-09-22 18:50:21.641] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cd69c7f19fecebe38345b716d7a1376a4' } false
[2017-09-22 18:50:21.645] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081KF9UC1Ji5g10uDRTC1bboUC1KF9U2&state=6688&_v=0[39m [32m200[39m [90m229ms[39m [90m153b[39m
[2017-09-22 18:50:29.942] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=20008&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cd69c7f19fecebe38345b716d7a1376a4&_v=1[39m
[2017-09-22 18:50:29.943] [INFO] console - enter===>
[2017-09-22 18:50:29.945] [INFO] console - gogogogoogo
[2017-09-22 18:50:29.947] [INFO] console - goooooooo
[2017-09-22 18:50:42.150] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:50:42.155] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:50:48.615] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:50:48.627] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:50:53.502] [ERROR] console - (node:59138) DeprecationWarning: `open()` is deprecated in mongoose >= 4.11.0, use `openUri()` instead, or set the `useMongoClient` option if using `connect()` or `createConnection()`. See http://mongoosejs.com/docs/connections.html#use-mongo-client
[2017-09-22 18:50:53.507] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:50:53.517] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:50:53.551] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:51:04.049] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 18:51:04.060] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 18:51:04.373] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061IQ4aw1qBZFc0w4naw1hG3aw1IQ4aN&state=6688&_v=0[39m
[2017-09-22 18:51:04.378] [INFO] console - enter===>
[2017-09-22 18:51:04.573] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec' }
[2017-09-22 18:51:04.576] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec' } false
[2017-09-22 18:51:04.577] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061IQ4aw1qBZFc0w4naw1hG3aw1IQ4aN&state=6688&_v=0[39m [32m200[39m [90m204ms[39m [90m153b[39m
[2017-09-22 18:51:07.713] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=1[39m
[2017-09-22 18:51:07.714] [INFO] console - enter===>
[2017-09-22 18:51:07.716] [INFO] console - gogogogoogo
[2017-09-22 18:51:07.718] [INFO] console - goooooooo
[2017-09-22 18:51:07.734] [INFO] console - you====>
[2017-09-22 18:51:07.734] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 18:51:07.735] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 18:51:07.736] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 18:51:07.737] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=1[39m [32m200[39m [90m24ms[39m [90m26b[39m
[2017-09-22 18:52:53.619] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 18:52:53.633] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 18:55:52.619] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:55:52.626] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:55:52.666] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:57:07.825] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=2[39m
[2017-09-22 18:57:07.830] [INFO] console - enter===>
[2017-09-22 18:57:07.831] [INFO] console - gogogogoogo
[2017-09-22 18:57:07.831] [INFO] console - goooooooo
[2017-09-22 18:57:07.836] [INFO] console - you====>
[2017-09-22 18:57:07.836] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 18:57:07.842] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 18:57:07.843] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 18:57:07.849] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=2[39m [32m200[39m [90m25ms[39m [90m26b[39m
[2017-09-22 18:57:44.232] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:57:44.241] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:57:44.266] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:57:55.694] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:57:55.701] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:57:55.731] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:57:58.370] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:57:58.384] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:57:58.411] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:58:00.886] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:58:00.892] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:58:00.922] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:58:14.216] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:58:14.220] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:58:14.246] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:58:16.787] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:58:16.793] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:58:16.823] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:58:22.037] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10003&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=3[39m
[2017-09-22 18:58:22.041] [INFO] console - enter===>
[2017-09-22 18:58:22.042] [INFO] console - goooooooo
[2017-09-22 18:58:22.053] [INFO] console - null
[2017-09-22 18:58:22.056] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 18:58:22.058] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 18:58:22.064] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10003&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=3[39m [32m200[39m [90m28ms[39m [90m12b[39m
[2017-09-22 18:58:29.685] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10004&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=4[39m
[2017-09-22 18:58:29.687] [INFO] console - enter===>
[2017-09-22 18:58:29.689] [INFO] console - goooooooo
[2017-09-22 18:58:29.692] [INFO] console - null
[2017-09-22 18:58:29.693] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 18:58:29.693] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 18:58:29.696] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10004&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=4[39m [32m200[39m [90m11ms[39m [90m12b[39m
[2017-09-22 18:58:32.454] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=5[39m
[2017-09-22 18:58:32.455] [INFO] console - enter===>
[2017-09-22 18:58:32.455] [INFO] console - goooooooo
[2017-09-22 18:58:32.463] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 18:58:32.467] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 18:58:32.468] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=5[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 18:58:34.634] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=6[39m
[2017-09-22 18:58:34.635] [INFO] console - enter===>
[2017-09-22 18:58:34.637] [INFO] console - enter===>22 ReferenceError: req is not defined
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:108:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/controllers/dyh.js:107:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 18:58:34.669] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:108:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/controllers/dyh.js:107:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-22 18:58:34.671] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6f47048b0ccc35766b7819c05141e3ec&_v=6[39m [32m200[39m [90m37ms[39m [90m2b[39m
[2017-09-22 18:59:37.390] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 18:59:37.402] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 18:59:37.431] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 18:59:41.639] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 18:59:41.650] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 18:59:42.058] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011SuHL12r0is01hiFO12bzqL12SuHLC&state=6688&_v=0[39m
[2017-09-22 18:59:42.062] [INFO] console - enter===>
[2017-09-22 18:59:42.292] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c217df1b4bdc4309279a5351b0650580e' }
[2017-09-22 18:59:42.296] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c217df1b4bdc4309279a5351b0650580e' } false
[2017-09-22 18:59:42.305] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011SuHL12r0is01hiFO12bzqL12SuHLC&state=6688&_v=0[39m [32m200[39m [90m247ms[39m [90m153b[39m
[2017-09-22 18:59:46.125] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c217df1b4bdc4309279a5351b0650580e&_v=1[39m
[2017-09-22 18:59:46.126] [INFO] console - enter===>
[2017-09-22 18:59:46.129] [INFO] console - goooooooo
[2017-09-22 18:59:46.137] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 18:59:46.140] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 18:59:46.141] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c217df1b4bdc4309279a5351b0650580e&_v=1[39m [32m200[39m [90m16ms[39m [90m26b[39m
[2017-09-22 18:59:51.802] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c217df1b4bdc4309279a5351b0650580e&_v=2[39m
[2017-09-22 18:59:51.803] [INFO] console - enter===>
[2017-09-22 18:59:51.808] [INFO] console - enter===>22 TypeError: Cannot read property 'remoteAddress' of undefined
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:109:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/controllers/dyh.js:107:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 18:59:51.833] [INFO] console - enter====> client TypeError: Cannot read property 'remoteAddress' of undefined
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:109:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/controllers/dyh.js:107:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-22 18:59:51.835] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c217df1b4bdc4309279a5351b0650580e&_v=2[39m [32m200[39m [90m32ms[39m [90m2b[39m
[2017-09-22 19:00:14.162] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:00:14.168] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:00:14.198] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:00:17.751] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:00:17.767] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m16ms[39m [90m473b[39m
[2017-09-22 19:00:18.168] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061rA1jQ18LNI71iGJfQ1yIQiQ1rA1jX&state=6688&_v=0[39m
[2017-09-22 19:00:18.172] [INFO] console - enter===>
[2017-09-22 19:00:18.386] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1aad53e76cfcc9ff2f1da694d4bfd5a1' }
[2017-09-22 19:00:18.391] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1aad53e76cfcc9ff2f1da694d4bfd5a1' } false
[2017-09-22 19:00:18.393] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061rA1jQ18LNI71iGJfQ1yIQiQ1rA1jX&state=6688&_v=0[39m [32m200[39m [90m225ms[39m [90m153b[39m
[2017-09-22 19:00:22.452] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1aad53e76cfcc9ff2f1da694d4bfd5a1&_v=1[39m
[2017-09-22 19:00:22.453] [INFO] console - enter===>
[2017-09-22 19:00:22.456] [INFO] console - goooooooo
[2017-09-22 19:00:22.464] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:00:22.467] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:00:22.468] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1aad53e76cfcc9ff2f1da694d4bfd5a1&_v=1[39m [32m200[39m [90m16ms[39m [90m26b[39m
[2017-09-22 19:00:26.241] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1aad53e76cfcc9ff2f1da694d4bfd5a1&_v=2[39m
[2017-09-22 19:00:26.242] [INFO] console - enter===>
[2017-09-22 19:00:26.244] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:00:26.247] [INFO] console - enter===>22 ReferenceError: product is not defined
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:121:16)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/controllers/dyh.js:107:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 19:00:26.268] [INFO] console - enter====> client ReferenceError: product is not defined
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:121:16)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/controllers/dyh.js:107:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-22 19:00:26.269] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1aad53e76cfcc9ff2f1da694d4bfd5a1&_v=2[39m [32m200[39m [90m29ms[39m [90m2b[39m
[2017-09-22 19:01:39.399] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:01:39.407] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:01:39.431] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:01:40.732] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:01:40.744] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 19:01:41.172] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081f2mV10DAurC1PnwX10udrV10f2mVG&state=6688&_v=0[39m
[2017-09-22 19:01:41.177] [INFO] console - enter===>
[2017-09-22 19:01:41.376] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf4cb9edcfed774c0bb8ed114d0249581' }
[2017-09-22 19:01:41.378] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf4cb9edcfed774c0bb8ed114d0249581' } false
[2017-09-22 19:01:41.380] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081f2mV10DAurC1PnwX10udrV10f2mVG&state=6688&_v=0[39m [32m200[39m [90m208ms[39m [90m153b[39m
[2017-09-22 19:01:45.959] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf4cb9edcfed774c0bb8ed114d0249581&_v=1[39m
[2017-09-22 19:01:45.960] [INFO] console - enter===>
[2017-09-22 19:01:45.963] [INFO] console - goooooooo
[2017-09-22 19:01:45.970] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:01:45.972] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:01:45.973] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf4cb9edcfed774c0bb8ed114d0249581&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:01:47.286] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf4cb9edcfed774c0bb8ed114d0249581&_v=2[39m
[2017-09-22 19:01:47.287] [INFO] console - enter===>
[2017-09-22 19:01:47.290] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:01:47.292] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: req is not defined
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:126:48)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/controllers/dyh.js:107:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 19:01:47.317] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:01:47.318] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:01:47.320] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf4cb9edcfed774c0bb8ed114d0249581&_v=2[39m [32m200[39m [90m34ms[39m [90m12b[39m
[2017-09-22 19:02:31.008] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:02:31.015] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:02:31.043] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:02:39.892] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:02:39.897] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:02:39.923] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:02:42.070] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:02:42.082] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m473b[39m
[2017-09-22 19:02:42.499] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0818iSoO1YDif51ZCSoO1Uo8pO18iSol&state=6688&_v=0[39m
[2017-09-22 19:02:42.501] [INFO] console - enter===>
[2017-09-22 19:02:42.703] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7030c7d05b8751a9bb7409edc894f4f2' }
[2017-09-22 19:02:42.706] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7030c7d05b8751a9bb7409edc894f4f2' } false
[2017-09-22 19:02:42.707] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0818iSoO1YDif51ZCSoO1Uo8pO18iSol&state=6688&_v=0[39m [32m200[39m [90m208ms[39m [90m153b[39m
[2017-09-22 19:02:46.335] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7030c7d05b8751a9bb7409edc894f4f2&_v=1[39m
[2017-09-22 19:02:46.336] [INFO] console - enter===>
[2017-09-22 19:02:46.339] [INFO] console - goooooooo
[2017-09-22 19:02:46.344] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:02:46.347] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:02:46.348] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7030c7d05b8751a9bb7409edc894f4f2&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:02:47.766] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7030c7d05b8751a9bb7409edc894f4f2&_v=2[39m
[2017-09-22 19:02:47.767] [INFO] console - enter===>
[2017-09-22 19:02:47.769] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:02:47.807] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'noe445ubpka8vyd',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000000,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:02:47.810] [ERROR] console - TypeError: (0 , _nodeFetch2.default)(...).json is not a function
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:119:81)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/app/wechat/wxpay.js:98:9)
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:127:32)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:02:47.840] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: (0 , _nodeFetch2.default)(...).json is not a function
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:119:81)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
       at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
       at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
       at Object.order (/Users/zyg/optimization/pay/app/wechat/wxpay.js:98:9)
       at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:127:32)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:02:47.841] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:02:47.841] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:02:47.842] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c7030c7d05b8751a9bb7409edc894f4f2&_v=2[39m [32m200[39m [90m76ms[39m [90m12b[39m
[2017-09-22 19:04:39.917] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:04:39.924] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:05:48.841] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:05:48.847] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:05:48.872] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:05:50.758] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:05:50.771] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m14ms[39m [90m473b[39m
[2017-09-22 19:05:51.070] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001Vb3SB0BqUWc279SQB0XxYRB0Vb3Su&state=6688&_v=0[39m
[2017-09-22 19:05:51.076] [INFO] console - enter===>
[2017-09-22 19:05:51.289] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5c0ae8cfdd447f83401f123ab3758193' }
[2017-09-22 19:05:51.295] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5c0ae8cfdd447f83401f123ab3758193' } false
[2017-09-22 19:05:51.298] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001Vb3SB0BqUWc279SQB0XxYRB0Vb3Su&state=6688&_v=0[39m [32m200[39m [90m228ms[39m [90m153b[39m
[2017-09-22 19:05:55.143] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5c0ae8cfdd447f83401f123ab3758193&_v=1[39m
[2017-09-22 19:05:55.144] [INFO] console - enter===>
[2017-09-22 19:05:55.146] [INFO] console - goooooooo
[2017-09-22 19:05:55.151] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:05:55.153] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:05:55.154] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5c0ae8cfdd447f83401f123ab3758193&_v=1[39m [32m200[39m [90m11ms[39m [90m26b[39m
[2017-09-22 19:05:56.264] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5c0ae8cfdd447f83401f123ab3758193&_v=2[39m
[2017-09-22 19:05:56.265] [INFO] console - enter===>
[2017-09-22 19:05:56.269] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:05:56.294] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'mcjz0zpme9fa99l',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000001,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:05:56.676] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:31:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:121:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:05:56.695] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:31:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:121:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:05:56.696] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:05:56.696] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:05:56.697] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c5c0ae8cfdd447f83401f123ab3758193&_v=2[39m [32m200[39m [90m433ms[39m [90m12b[39m
[2017-09-22 19:05:56.700] [ERROR] console - (node:60192) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 4): FetchError: invalid json response body at https://api.mch.weixin.qq.com/pay/unifiedorder reason: Unexpected token < in JSON at position 0
[2017-09-22 19:06:14.913] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:06:14.919] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:06:14.950] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:06:15.418] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:06:15.429] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:06:15.704] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011C8eOh2jtK9G0gFwNh2MQ8Oh2C8eO1&state=6688&_v=0[39m
[2017-09-22 19:06:15.708] [INFO] console - enter===>
[2017-09-22 19:06:15.911] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c300c861d37b317fd3763aa10fb8f55d3' }
[2017-09-22 19:06:15.914] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c300c861d37b317fd3763aa10fb8f55d3' } false
[2017-09-22 19:06:15.916] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011C8eOh2jtK9G0gFwNh2MQ8Oh2C8eO1&state=6688&_v=0[39m [32m200[39m [90m212ms[39m [90m153b[39m
[2017-09-22 19:06:19.042] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c300c861d37b317fd3763aa10fb8f55d3&_v=1[39m
[2017-09-22 19:06:19.043] [INFO] console - enter===>
[2017-09-22 19:06:19.046] [INFO] console - goooooooo
[2017-09-22 19:06:19.053] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:06:19.056] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:06:19.058] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c300c861d37b317fd3763aa10fb8f55d3&_v=1[39m [32m200[39m [90m15ms[39m [90m26b[39m
[2017-09-22 19:06:19.833] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c300c861d37b317fd3763aa10fb8f55d3&_v=2[39m
[2017-09-22 19:06:19.834] [INFO] console - enter===>
[2017-09-22 19:06:19.836] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:06:19.869] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '3nj62ekofu5t55o',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000002,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:06:20.212] [INFO] console - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 456,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'https://api.mch.weixin.qq.com/pay/unifiedorder',
  status: 200,
  statusText: 'OK',
  headers: Headers {} }
[2017-09-22 19:06:20.218] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:31:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:122:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:06:20.241] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:31:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:122:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:06:20.242] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:06:20.242] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:06:20.243] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c300c861d37b317fd3763aa10fb8f55d3&_v=2[39m [32m200[39m [90m410ms[39m [90m12b[39m
[2017-09-22 19:06:20.245] [ERROR] console - (node:60237) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 4): FetchError: invalid json response body at https://api.mch.weixin.qq.com/pay/unifiedorder reason: Unexpected token < in JSON at position 0
[2017-09-22 19:06:44.272] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:06:44.277] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:06:44.303] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:06:45.300] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:06:45.311] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:06:45.653] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001L817g1sJVXw0Qzd6g1yFl7g1L8174&state=6688&_v=0[39m
[2017-09-22 19:06:45.657] [INFO] console - enter===>
[2017-09-22 19:06:45.850] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc82029e47f91c78441499f13dcf8f9c3' }
[2017-09-22 19:06:45.853] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc82029e47f91c78441499f13dcf8f9c3' } false
[2017-09-22 19:06:45.855] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001L817g1sJVXw0Qzd6g1yFl7g1L8174&state=6688&_v=0[39m [32m200[39m [90m202ms[39m [90m153b[39m
[2017-09-22 19:06:53.679] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc82029e47f91c78441499f13dcf8f9c3&_v=1[39m
[2017-09-22 19:06:53.681] [INFO] console - enter===>
[2017-09-22 19:06:53.684] [INFO] console - goooooooo
[2017-09-22 19:06:53.689] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:06:53.691] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:06:53.692] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc82029e47f91c78441499f13dcf8f9c3&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:06:54.902] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc82029e47f91c78441499f13dcf8f9c3&_v=2[39m
[2017-09-22 19:06:54.903] [INFO] console - enter===>
[2017-09-22 19:06:54.905] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:06:54.929] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'jwwadd5wqdlqrfu',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000003,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:06:55.212] [INFO] console - Promise { <pending> }
[2017-09-22 19:06:55.225] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:31:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:123:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:06:55.242] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:31:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:123:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:06:55.242] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:06:55.243] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:06:55.244] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cc82029e47f91c78441499f13dcf8f9c3&_v=2[39m [32m200[39m [90m342ms[39m [90m12b[39m
[2017-09-22 19:06:55.246] [ERROR] console - (node:60272) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 4): FetchError: invalid json response body at https://api.mch.weixin.qq.com/pay/unifiedorder reason: Unexpected token < in JSON at position 0
[2017-09-22 19:07:13.311] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:07:13.317] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:07:13.342] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:07:15.594] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:07:15.607] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m473b[39m
[2017-09-22 19:07:15.902] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061CQSgs0ThaXb1jWdjs0dnMgs0CQSgZ&state=6688&_v=0[39m
[2017-09-22 19:07:15.906] [INFO] console - enter===>
[2017-09-22 19:07:16.119] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb7e22ec937696f42c0a84f6ec024177c' }
[2017-09-22 19:07:16.124] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb7e22ec937696f42c0a84f6ec024177c' } false
[2017-09-22 19:07:16.125] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061CQSgs0ThaXb1jWdjs0dnMgs0CQSgZ&state=6688&_v=0[39m [32m200[39m [90m223ms[39m [90m153b[39m
[2017-09-22 19:07:22.327] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb7e22ec937696f42c0a84f6ec024177c&_v=1[39m
[2017-09-22 19:07:22.327] [INFO] console - enter===>
[2017-09-22 19:07:22.330] [INFO] console - goooooooo
[2017-09-22 19:07:22.337] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:07:22.339] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:07:22.340] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb7e22ec937696f42c0a84f6ec024177c&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:07:23.556] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb7e22ec937696f42c0a84f6ec024177c&_v=2[39m
[2017-09-22 19:07:23.557] [INFO] console - enter===>
[2017-09-22 19:07:23.559] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:07:23.589] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'f0rruc6jif9jpi1',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000004,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:07:23.864] [ERROR] console - { FetchError: invalid json response body at https://api.mch.weixin.qq.com/pay/unifiedorder reason: Unexpected token < in JSON at position 0
    at /Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:247:32
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
  message: 'invalid json response body at https://api.mch.weixin.qq.com/pay/unifiedorder reason: Unexpected token < in JSON at position 0',
  type: 'invalid-json' } '充值5钻石'
[2017-09-22 19:07:23.870] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   { FetchError: invalid json response body at https://api.mch.weixin.qq.com/pay/unifiedorder reason: Unexpected token < in JSON at position 0
       at /Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:247:32
       at process._tickDomainCallback (internal/process/next_tick.js:129:7)
     message: 'invalid json response body at https://api.mch.weixin.qq.com/pay/unifiedorder reason: Unexpected token < in JSON at position 0',
     type: 'invalid-json' },
  body: '充值5钻石' }
[2017-09-22 19:07:23.871] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:07:23.871] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:07:23.872] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb7e22ec937696f42c0a84f6ec024177c&_v=2[39m [32m200[39m [90m316ms[39m [90m12b[39m
[2017-09-22 19:09:13.332] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:09:13.338] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:09:38.038] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:09:38.044] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:09:38.069] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:09:39.387] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:09:39.397] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:09:39.763] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001jnAzP1QdT781tg4yP12rgzP1jnAzr&state=6688&_v=0[39m
[2017-09-22 19:09:39.768] [INFO] console - enter===>
[2017-09-22 19:09:39.995] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3d32d0f42357bb3d9ff896fa8781127b' }
[2017-09-22 19:09:39.998] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3d32d0f42357bb3d9ff896fa8781127b' } false
[2017-09-22 19:09:40.000] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001jnAzP1QdT781tg4yP12rgzP1jnAzr&state=6688&_v=0[39m [32m200[39m [90m237ms[39m [90m153b[39m
[2017-09-22 19:09:43.331] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3d32d0f42357bb3d9ff896fa8781127b&_v=1[39m
[2017-09-22 19:09:43.332] [INFO] console - enter===>
[2017-09-22 19:09:43.334] [INFO] console - goooooooo
[2017-09-22 19:09:43.340] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:09:43.343] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:09:43.344] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3d32d0f42357bb3d9ff896fa8781127b&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:09:44.342] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3d32d0f42357bb3d9ff896fa8781127b&_v=2[39m
[2017-09-22 19:09:44.343] [INFO] console - enter===>
[2017-09-22 19:09:44.344] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:09:44.373] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'xannrhmdzo1yoqn',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000005,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:09:44.637] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:31:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:123:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:09:44.656] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:31:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:123:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:09:44.657] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:09:44.657] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:09:44.658] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3d32d0f42357bb3d9ff896fa8781127b&_v=2[39m [32m200[39m [90m316ms[39m [90m12b[39m
[2017-09-22 19:10:13.130] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:10:13.139] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:10:13.176] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:10:14.803] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:10:14.813] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:10:15.119] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0219TWdv1DPRtd0WFVcv1EoOdv19TWdK&state=6688&_v=0[39m
[2017-09-22 19:10:15.124] [INFO] console - enter===>
[2017-09-22 19:10:15.311] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f4b271c9cd3b6bb0cddb21e98e72a75' }
[2017-09-22 19:10:15.315] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f4b271c9cd3b6bb0cddb21e98e72a75' } false
[2017-09-22 19:10:15.316] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0219TWdv1DPRtd0WFVcv1EoOdv19TWdK&state=6688&_v=0[39m [32m200[39m [90m197ms[39m [90m153b[39m
[2017-09-22 19:10:18.033] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f4b271c9cd3b6bb0cddb21e98e72a75&_v=1[39m
[2017-09-22 19:10:18.033] [INFO] console - enter===>
[2017-09-22 19:10:18.037] [INFO] console - goooooooo
[2017-09-22 19:10:18.043] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:10:18.045] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:10:18.046] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f4b271c9cd3b6bb0cddb21e98e72a75&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:10:19.056] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f4b271c9cd3b6bb0cddb21e98e72a75&_v=2[39m
[2017-09-22 19:10:19.057] [INFO] console - enter===>
[2017-09-22 19:10:19.059] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:10:19.087] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'etz6dyn57wyi8d6',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000006,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:10:19.370] [INFO] console - [object Response]
[2017-09-22 19:10:19.371] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:32:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:124:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:10:19.391] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:32:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:124:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:10:19.392] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:10:19.392] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:10:19.393] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9f4b271c9cd3b6bb0cddb21e98e72a75&_v=2[39m [32m200[39m [90m337ms[39m [90m12b[39m
[2017-09-22 19:11:59.076] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:11:59.082] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:11:59.131] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:12:01.236] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:12:01.250] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m15ms[39m [90m473b[39m
[2017-09-22 19:12:01.566] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001zc4Xi1e8rFy0RUSVi1Vq5Xi1zc4Xt&state=6688&_v=0[39m
[2017-09-22 19:12:01.570] [INFO] console - enter===>
[2017-09-22 19:12:01.806] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfd55daf29264eac1b6af7e8ab954f16c' }
[2017-09-22 19:12:01.808] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfd55daf29264eac1b6af7e8ab954f16c' } false
[2017-09-22 19:12:01.810] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001zc4Xi1e8rFy0RUSVi1Vq5Xi1zc4Xt&state=6688&_v=0[39m [32m200[39m [90m244ms[39m [90m153b[39m
[2017-09-22 19:12:05.735] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfd55daf29264eac1b6af7e8ab954f16c&_v=1[39m
[2017-09-22 19:12:05.736] [INFO] console - enter===>
[2017-09-22 19:12:05.738] [INFO] console - goooooooo
[2017-09-22 19:12:05.744] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:12:05.748] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:12:05.749] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfd55daf29264eac1b6af7e8ab954f16c&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:12:06.747] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfd55daf29264eac1b6af7e8ab954f16c&_v=2[39m
[2017-09-22 19:12:06.748] [INFO] console - enter===>
[2017-09-22 19:12:06.750] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:12:06.784] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'gy6dx0no6hkze3x',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000007,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:12:07.057] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[QcnovD6OgY3aaanN]]></nonce_str>
<sign><![CDATA[8DAB945DA3AE00C8E4776960452B2E96]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:12:07.060] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:32:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:124:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:12:07.080] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:32:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:124:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:12:07.081] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:12:07.082] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:12:07.083] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfd55daf29264eac1b6af7e8ab954f16c&_v=2[39m [32m200[39m [90m336ms[39m [90m12b[39m
[2017-09-22 19:12:41.951] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:12:41.958] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:12:41.983] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:12:43.759] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:12:43.770] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:12:44.069] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061bojFj1a3mfy0GVZBj1uFpFj1bojF5&state=6688&_v=0[39m
[2017-09-22 19:12:44.074] [INFO] console - enter===>
[2017-09-22 19:12:44.348] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2d2cafec057c6184b75977a06e5518' }
[2017-09-22 19:12:44.350] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2d2cafec057c6184b75977a06e5518' } false
[2017-09-22 19:12:44.352] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061bojFj1a3mfy0GVZBj1uFpFj1bojF5&state=6688&_v=0[39m [32m200[39m [90m283ms[39m [90m153b[39m
[2017-09-22 19:12:47.544] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2d2cafec057c6184b75977a06e5518&_v=1[39m
[2017-09-22 19:12:47.546] [INFO] console - enter===>
[2017-09-22 19:12:47.548] [INFO] console - goooooooo
[2017-09-22 19:12:47.557] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:12:47.562] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:12:47.564] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2d2cafec057c6184b75977a06e5518&_v=1[39m [32m200[39m [90m20ms[39m [90m26b[39m
[2017-09-22 19:12:48.771] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2d2cafec057c6184b75977a06e5518&_v=2[39m
[2017-09-22 19:12:48.772] [INFO] console - enter===>
[2017-09-22 19:12:48.775] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:12:48.809] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '60jiv2wy749r5rj',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000008,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:12:49.082] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[R1VKNpssRXWF8jUH]]></nonce_str>
<sign><![CDATA[9975F569EC5A7DBD18C7BAE091D1E497]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:12:49.083] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:32:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:124:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:12:49.104] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:32:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:124:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:12:49.105] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:12:49.107] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:12:49.108] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2d2cafec057c6184b75977a06e5518&_v=2[39m [32m200[39m [90m337ms[39m [90m12b[39m
[2017-09-22 19:13:00.818] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:13:00.825] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:13:00.853] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:14:27.382] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:14:27.387] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:14:27.414] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:14:28.266] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:14:28.275] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 19:14:28.667] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061csGXE1Y2mS30ubtWE1JYYXE1csGXU&state=6688&_v=0[39m
[2017-09-22 19:14:28.672] [INFO] console - enter===>
[2017-09-22 19:14:28.900] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb394952c431b3b2f8bb4dcad8eca34a4' }
[2017-09-22 19:14:28.903] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb394952c431b3b2f8bb4dcad8eca34a4' } false
[2017-09-22 19:14:28.905] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061csGXE1Y2mS30ubtWE1JYYXE1csGXU&state=6688&_v=0[39m [32m200[39m [90m238ms[39m [90m153b[39m
[2017-09-22 19:14:35.098] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb394952c431b3b2f8bb4dcad8eca34a4&_v=1[39m
[2017-09-22 19:14:35.098] [INFO] console - enter===>
[2017-09-22 19:14:35.101] [INFO] console - goooooooo
[2017-09-22 19:14:35.108] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:14:35.110] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:14:35.111] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb394952c431b3b2f8bb4dcad8eca34a4&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:14:36.221] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb394952c431b3b2f8bb4dcad8eca34a4&_v=2[39m
[2017-09-22 19:14:36.223] [INFO] console - enter===>
[2017-09-22 19:14:36.225] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:14:36.255] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '84b7oqywzdstzka',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000009,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:14:36.531] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:14:36.531] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:14:36.531] [ERROR] console - ReferenceError: pkg is not defined
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:130:17)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:14:36.550] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   ReferenceError: pkg is not defined
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:130:17)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:14:36.551] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:14:36.551] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:14:36.552] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb394952c431b3b2f8bb4dcad8eca34a4&_v=2[39m [32m200[39m [90m331ms[39m [90m12b[39m
[2017-09-22 19:16:27.407] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:16:27.415] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:18:33.972] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:18:33.977] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:18:34.012] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:18:35.370] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:18:35.381] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:18:35.691] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001ec9id0fLKBv1ZxKhd0tvnid0ec9iC&state=6688&_v=0[39m
[2017-09-22 19:18:35.694] [INFO] console - enter===>
[2017-09-22 19:18:35.913] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c17d5f92e24c0c2d3e61a35fb645e4e8d' }
[2017-09-22 19:18:35.920] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c17d5f92e24c0c2d3e61a35fb645e4e8d' } false
[2017-09-22 19:18:35.922] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001ec9id0fLKBv1ZxKhd0tvnid0ec9iC&state=6688&_v=0[39m [32m200[39m [90m231ms[39m [90m153b[39m
[2017-09-22 19:18:40.056] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c17d5f92e24c0c2d3e61a35fb645e4e8d&_v=1[39m
[2017-09-22 19:18:40.057] [INFO] console - enter===>
[2017-09-22 19:18:40.059] [INFO] console - goooooooo
[2017-09-22 19:18:40.065] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:18:40.068] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:18:40.069] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c17d5f92e24c0c2d3e61a35fb645e4e8d&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:18:41.223] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c17d5f92e24c0c2d3e61a35fb645e4e8d&_v=2[39m
[2017-09-22 19:18:41.225] [INFO] console - enter===>
[2017-09-22 19:18:41.226] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:18:41.263] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'c4jyua8v2qngqfm',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000010,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:18:41.581] [INFO] console - string
[2017-09-22 19:18:41.581] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[FoMZ0qeCh4QEBGtt]]></nonce_str>
<sign><![CDATA[2691C235AD4A05CE0B36DFDAB8D6E695]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:18:41.582] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:32:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:126:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:18:41.607] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:32:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:126:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:18:41.609] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:18:41.609] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:18:41.611] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c17d5f92e24c0c2d3e61a35fb645e4e8d&_v=2[39m [32m200[39m [90m388ms[39m [90m12b[39m
[2017-09-22 19:20:08.371] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:20:08.376] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:20:08.406] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:20:14.271] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:20:14.288] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m17ms[39m [90m473b[39m
[2017-09-22 19:20:14.813] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021gHBc2084a9C1WBxd20yRrc20gHBcg&state=6688&_v=0[39m
[2017-09-22 19:20:14.817] [INFO] console - enter===>
[2017-09-22 19:20:15.049] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2e63203c592741c83dadd701d9b158' }
[2017-09-22 19:20:15.052] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2e63203c592741c83dadd701d9b158' } false
[2017-09-22 19:20:15.053] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021gHBc2084a9C1WBxd20yRrc20gHBcg&state=6688&_v=0[39m [32m200[39m [90m240ms[39m [90m153b[39m
[2017-09-22 19:20:17.605] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2e63203c592741c83dadd701d9b158&_v=1[39m
[2017-09-22 19:20:17.606] [INFO] console - enter===>
[2017-09-22 19:20:17.609] [INFO] console - goooooooo
[2017-09-22 19:20:17.616] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:20:17.618] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:20:17.619] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2e63203c592741c83dadd701d9b158&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:20:18.630] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2e63203c592741c83dadd701d9b158&_v=2[39m
[2017-09-22 19:20:18.631] [INFO] console - enter===>
[2017-09-22 19:20:18.633] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:20:18.671] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'qflctj3ermhom9m',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000011,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:20:18.915] [INFO] console - string
[2017-09-22 19:20:18.915] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[DMBNmFfmpOw5hcA2]]></nonce_str>\n<sign><![CDATA[2ACAA859413BF27E0E37C56D7C5012AD]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:20:18.917] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:127:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:20:18.966] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:127:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:20:18.968] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:20:18.973] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:20:18.980] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6c2e63203c592741c83dadd701d9b158&_v=2[39m [32m200[39m [90m350ms[39m [90m12b[39m
[2017-09-22 19:20:36.526] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:20:36.531] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:20:36.555] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:20:38.095] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:20:38.106] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 19:20:38.551] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001qagzH18UaX508PHyH1bIczH1qagzx&state=6688&_v=0[39m
[2017-09-22 19:20:38.556] [INFO] console - enter===>
[2017-09-22 19:20:38.770] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35a7c1ecf05c47638dc97bb49adf00a' }
[2017-09-22 19:20:38.772] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35a7c1ecf05c47638dc97bb49adf00a' } false
[2017-09-22 19:20:38.774] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=001qagzH18UaX508PHyH1bIczH1qagzx&state=6688&_v=0[39m [32m200[39m [90m223ms[39m [90m153b[39m
[2017-09-22 19:20:48.920] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35a7c1ecf05c47638dc97bb49adf00a&_v=1[39m
[2017-09-22 19:20:48.921] [INFO] console - enter===>
[2017-09-22 19:20:48.924] [INFO] console - goooooooo
[2017-09-22 19:20:48.931] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:20:48.935] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:20:48.936] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35a7c1ecf05c47638dc97bb49adf00a&_v=1[39m [32m200[39m [90m16ms[39m [90m26b[39m
[2017-09-22 19:20:51.786] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35a7c1ecf05c47638dc97bb49adf00a&_v=2[39m
[2017-09-22 19:20:51.787] [INFO] console - enter===>
[2017-09-22 19:20:51.788] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:20:51.821] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '5nz8kzsvqpbrmzd',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000012,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:20:52.198] [INFO] console - string
[2017-09-22 19:20:52.199] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[knhTUdxg9c6xp7cr]]></nonce_str>
<sign><![CDATA[6A621243155B7C705974A33297BFD28C]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:20:52.199] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[knhTUdxg9c6xp7cr]]></nonce_str>\n<sign><![CDATA[6A621243155B7C705974A33297BFD28C]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:20:52.200] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:127:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:20:52.221] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:127:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:20:52.222] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:20:52.222] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:20:52.223] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35a7c1ecf05c47638dc97bb49adf00a&_v=2[39m [32m200[39m [90m437ms[39m [90m12b[39m
[2017-09-22 19:22:36.560] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:22:36.575] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:22:55.156] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:22:55.161] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m6ms[39m [90m473b[39m
[2017-09-22 19:22:55.465] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021oyWrx0FN50g1pwErx0o90sx0oyWr7&state=6688&_v=0[39m
[2017-09-22 19:22:55.466] [INFO] console - enter===>
[2017-09-22 19:22:55.636] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c31b27f1ae401789d3714c96ad661b8c6' }
[2017-09-22 19:22:55.636] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c31b27f1ae401789d3714c96ad661b8c6' } false
[2017-09-22 19:22:55.637] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021oyWrx0FN50g1pwErx0o90sx0oyWr7&state=6688&_v=0[39m [32m200[39m [90m172ms[39m [90m153b[39m
[2017-09-22 19:22:58.985] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c31b27f1ae401789d3714c96ad661b8c6&_v=1[39m
[2017-09-22 19:22:58.986] [INFO] console - enter===>
[2017-09-22 19:22:58.987] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-22 19:22:58.989] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:22:58.991] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c31b27f1ae401789d3714c96ad661b8c6&_v=1[39m [32m200[39m [90m6ms[39m [90m26b[39m
[2017-09-22 19:23:00.827] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c31b27f1ae401789d3714c96ad661b8c6&_v=2[39m
[2017-09-22 19:23:00.829] [INFO] console - enter===>
[2017-09-22 19:23:00.830] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:23:00.841] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'sm6obq29f2x31nj',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000013,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:23:01.237] [INFO] console - string
[2017-09-22 19:23:01.238] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[dgSatrrYEYYsFcT1]]></nonce_str>
<sign><![CDATA[08468E0A99C2F8DF9A401C61A01D0D43]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:23:01.238] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[dgSatrrYEYYsFcT1]]></nonce_str>\n<sign><![CDATA[08468E0A99C2F8DF9A401C61A01D0D43]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:23:01.239] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:127:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:23:01.242] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:127:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:23:01.243] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:23:01.243] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:23:01.244] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c31b27f1ae401789d3714c96ad661b8c6&_v=2[39m [32m200[39m [90m417ms[39m [90m12b[39m
[2017-09-22 19:23:27.492] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:23:27.497] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:23:27.529] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:23:33.021] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:23:33.032] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:23:33.495] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071IAqSV1T34RS0vYgSV1psfSV1IAqSK&state=6688&_v=0[39m
[2017-09-22 19:23:33.499] [INFO] console - enter===>
[2017-09-22 19:23:33.712] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3e9a15c27dce2507158e39534e42f86d' }
[2017-09-22 19:23:33.716] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3e9a15c27dce2507158e39534e42f86d' } false
[2017-09-22 19:23:33.718] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071IAqSV1T34RS0vYgSV1psfSV1IAqSK&state=6688&_v=0[39m [32m200[39m [90m223ms[39m [90m153b[39m
[2017-09-22 19:23:36.647] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3e9a15c27dce2507158e39534e42f86d&_v=1[39m
[2017-09-22 19:23:36.648] [INFO] console - enter===>
[2017-09-22 19:23:36.651] [INFO] console - goooooooo
[2017-09-22 19:23:36.657] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:23:36.659] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:23:36.660] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3e9a15c27dce2507158e39534e42f86d&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:23:37.892] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3e9a15c27dce2507158e39534e42f86d&_v=2[39m
[2017-09-22 19:23:37.894] [INFO] console - enter===>
[2017-09-22 19:23:37.897] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:23:37.935] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'imgq2noe64nw9gm',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000014,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:23:38.392] [INFO] console - string
[2017-09-22 19:23:38.392] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:23:38.393] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>\n<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:23:38.394] [ERROR] console - ReferenceError: pkg is not defined
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:142:17)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:23:38.420] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   ReferenceError: pkg is not defined
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:142:17)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:23:38.421] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:23:38.421] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:23:38.423] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c3e9a15c27dce2507158e39534e42f86d&_v=2[39m [32m200[39m [90m531ms[39m [90m12b[39m
[2017-09-22 19:24:36.920] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:24:36.927] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:24:36.954] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:24:37.659] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:24:37.677] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m18ms[39m [90m473b[39m
[2017-09-22 19:24:37.995] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081bqWiY1Qz7kV0WPwhY15nmjY1bqWi0&state=6688&_v=0[39m
[2017-09-22 19:24:37.997] [INFO] console - enter===>
[2017-09-22 19:24:38.214] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb70e559f844cb5fa176ef1d98b1a049f' }
[2017-09-22 19:24:38.217] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb70e559f844cb5fa176ef1d98b1a049f' } false
[2017-09-22 19:24:38.219] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081bqWiY1Qz7kV0WPwhY15nmjY1bqWi0&state=6688&_v=0[39m [32m200[39m [90m224ms[39m [90m153b[39m
[2017-09-22 19:24:41.165] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb70e559f844cb5fa176ef1d98b1a049f&_v=1[39m
[2017-09-22 19:24:41.167] [INFO] console - enter===>
[2017-09-22 19:24:41.169] [INFO] console - goooooooo
[2017-09-22 19:24:41.176] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:24:41.177] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:24:41.179] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb70e559f844cb5fa176ef1d98b1a049f&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:24:42.368] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb70e559f844cb5fa176ef1d98b1a049f&_v=2[39m
[2017-09-22 19:24:42.369] [INFO] console - enter===>
[2017-09-22 19:24:42.373] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:24:42.406] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'n6nnq7pz6s3zt2o',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000015,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:24:42.673] [INFO] console - string
[2017-09-22 19:24:42.673] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:24:42.673] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>\n<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:24:42.675] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506079482',
     nonceStr: 'n6nnq7pz6s3zt2o',
     signType: 'MD5',
     package: 'prepay_id=wx201709221914367f4c63c4950877404698',
     paySign: '9B4BA3A3A5D06A041C7C2468A2BB6B87' } } false
[2017-09-22 19:24:42.677] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb70e559f844cb5fa176ef1d98b1a049f&_v=2[39m [32m200[39m [90m309ms[39m [90m225b[39m
[2017-09-22 19:24:47.134] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb70e559f844cb5fa176ef1d98b1a049f&_v=3[39m
[2017-09-22 19:24:47.136] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb70e559f844cb5fa176ef1d98b1a049f&_v=3[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-22 19:24:49.814] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:24:49.816] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 19:24:50.227] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081RViVJ18PKH70TLYRJ16G3VJ1RViVF&state=6688&_v=0[39m
[2017-09-22 19:24:50.228] [INFO] console - enter===>
[2017-09-22 19:24:50.420] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a' }
[2017-09-22 19:24:50.422] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a' } false
[2017-09-22 19:24:50.423] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081RViVJ18PKH70TLYRJ16G3VJ1RViVF&state=6688&_v=0[39m [32m200[39m [90m197ms[39m [90m153b[39m
[2017-09-22 19:24:56.569] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=1[39m
[2017-09-22 19:24:56.571] [INFO] console - enter===>
[2017-09-22 19:24:56.574] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-22 19:24:56.575] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:24:56.576] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=1[39m [32m200[39m [90m7ms[39m [90m26b[39m
[2017-09-22 19:24:58.205] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=150&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=2[39m
[2017-09-22 19:24:58.208] [INFO] console - enter===>
[2017-09-22 19:24:58.209] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:24:58.227] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值50钻石',
  mch_id: '1433459502',
  nonce_str: 'bocdg0wb0qx7dga',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000016,
  spbill_create_ip: '192.168.0.107',
  total_fee: 15000,
  trade_type: 'JSAPI' }
[2017-09-22 19:24:58.512] [INFO] console - string
[2017-09-22 19:24:58.513] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:24:58.513] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>\n<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:24:58.514] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506079498',
     nonceStr: 'bocdg0wb0qx7dga',
     signType: 'MD5',
     package: 'prepay_id=wx201709221914367f4c63c4950877404698',
     paySign: 'F640A5681A91BF9884DDE50613D8D834' } } false
[2017-09-22 19:24:58.517] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=150&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=2[39m [32m200[39m [90m312ms[39m [90m225b[39m
[2017-09-22 19:25:19.311] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=3[39m
[2017-09-22 19:25:19.313] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=3[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-22 19:25:21.127] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=4[39m
[2017-09-22 19:25:21.129] [INFO] console - enter===>
[2017-09-22 19:25:21.132] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:25:21.145] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '4gkhfer00x4r24n',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000017,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:25:21.360] [INFO] console - string
[2017-09-22 19:25:21.360] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:25:21.360] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>\n<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:25:21.362] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506079521',
     nonceStr: '4gkhfer00x4r24n',
     signType: 'MD5',
     package: 'prepay_id=wx201709221914367f4c63c4950877404698',
     paySign: '1056A7B279427B052BA738CE0D156169' } } false
[2017-09-22 19:25:21.363] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=4[39m [32m200[39m [90m236ms[39m [90m225b[39m
[2017-09-22 19:25:24.428] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=5[39m
[2017-09-22 19:25:24.429] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=5[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-22 19:25:26.385] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=6[39m
[2017-09-22 19:25:26.388] [INFO] console - enter===>
[2017-09-22 19:25:26.389] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:25:26.398] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '64ctkoluorg7hhc',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000018,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:25:26.638] [INFO] console - string
[2017-09-22 19:25:26.639] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:25:26.639] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>\n<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:25:26.640] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506079526',
     nonceStr: '64ctkoluorg7hhc',
     signType: 'MD5',
     package: 'prepay_id=wx201709221914367f4c63c4950877404698',
     paySign: '7DB3B0CE834B510E15F0C01F742205B6' } } false
[2017-09-22 19:25:26.641] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=6[39m [32m200[39m [90m256ms[39m [90m225b[39m
[2017-09-22 19:25:28.693] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=7[39m
[2017-09-22 19:25:28.694] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=7[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-22 19:25:30.050] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=8[39m
[2017-09-22 19:25:30.051] [INFO] console - enter===>
[2017-09-22 19:25:30.051] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:25:30.060] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'zzmu20j2ca9c6gx',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000019,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:25:30.271] [INFO] console - string
[2017-09-22 19:25:30.272] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:25:30.272] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>\n<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:25:30.273] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506079530',
     nonceStr: 'zzmu20j2ca9c6gx',
     signType: 'MD5',
     package: 'prepay_id=wx201709221914367f4c63c4950877404698',
     paySign: '83FE3F4441B241837320DC19D670C576' } } false
[2017-09-22 19:25:30.276] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=8[39m [32m200[39m [90m227ms[39m [90m225b[39m
[2017-09-22 19:25:34.021] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=9[39m
[2017-09-22 19:25:34.027] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=9[39m [33m404[39m [90m6ms[39m [90m-[39m
[2017-09-22 19:25:36.888] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=10[39m
[2017-09-22 19:25:36.889] [INFO] console - enter===>
[2017-09-22 19:25:36.889] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:25:36.898] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '8wntmtky68mdcfy',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000020,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:25:37.112] [INFO] console - string
[2017-09-22 19:25:37.113] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>
<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:25:37.114] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[M6Ize1P0DTb2pRJo]]></nonce_str>\n<sign><![CDATA[0409CB06A08582307AF7F616B2FA3FDB]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221914367f4c63c4950877404698]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:25:37.115] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506079536',
     nonceStr: '8wntmtky68mdcfy',
     signType: 'MD5',
     package: 'prepay_id=wx201709221914367f4c63c4950877404698',
     paySign: '36169EF8DF9E37B6F0C5BF86892392D4' } } false
[2017-09-22 19:25:37.117] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=10[39m [32m200[39m [90m229ms[39m [90m225b[39m
[2017-09-22 19:25:46.281] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=11[39m
[2017-09-22 19:25:46.282] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf0364d8e0b04f798ffba2259b86bed4a&_v=11[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-22 19:25:57.862] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:25:57.868] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:25:57.898] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:25:59.850] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:25:59.862] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 19:26:00.322] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0715mRWk1aKZ3j023JTk1AXYWk15mRWz&state=6688&_v=0[39m
[2017-09-22 19:26:00.327] [INFO] console - enter===>
[2017-09-22 19:26:00.532] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba564115f891f7cbc4cbd6421177b8e' }
[2017-09-22 19:26:00.534] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba564115f891f7cbc4cbd6421177b8e' } false
[2017-09-22 19:26:00.537] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0715mRWk1aKZ3j023JTk1AXYWk15mRWz&state=6688&_v=0[39m [32m200[39m [90m215ms[39m [90m153b[39m
[2017-09-22 19:26:04.725] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba564115f891f7cbc4cbd6421177b8e&_v=1[39m
[2017-09-22 19:26:04.726] [INFO] console - enter===>
[2017-09-22 19:26:04.728] [INFO] console - goooooooo
[2017-09-22 19:26:04.733] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:26:04.735] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:26:04.736] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba564115f891f7cbc4cbd6421177b8e&_v=1[39m [32m200[39m [90m12ms[39m [90m26b[39m
[2017-09-22 19:26:05.951] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba564115f891f7cbc4cbd6421177b8e&_v=2[39m
[2017-09-22 19:26:05.952] [INFO] console - enter===>
[2017-09-22 19:26:05.954] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:26:05.980] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'cpxco9villuc8gv',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000021,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:26:06.210] [INFO] console - string
[2017-09-22 19:26:06.210] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[3BD5gEEOcafCsHKm]]></nonce_str>
<sign><![CDATA[0FC2989E8AFF704FE9EF91642767E043]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:26:06.211] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[3BD5gEEOcafCsHKm]]></nonce_str>\n<sign><![CDATA[0FC2989E8AFF704FE9EF91642767E043]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:26:06.212] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:26:06.238] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:26:06.238] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:26:06.239] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:26:06.240] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba564115f891f7cbc4cbd6421177b8e&_v=2[39m [32m200[39m [90m289ms[39m [90m12b[39m
[2017-09-22 19:26:16.182] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba564115f891f7cbc4cbd6421177b8e&_v=3[39m
[2017-09-22 19:26:16.183] [INFO] console - enter===>
[2017-09-22 19:26:16.186] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:26:16.194] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'rv8yhssr6tix4r8',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000022,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:26:16.489] [INFO] console - string
[2017-09-22 19:26:16.490] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[HQEob0L1YPXqDy5I]]></nonce_str>
<sign><![CDATA[15AB055B41FBE7DE0FB74057971C342E]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:26:16.490] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[HQEob0L1YPXqDy5I]]></nonce_str>\n<sign><![CDATA[15AB055B41FBE7DE0FB74057971C342E]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:26:16.491] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:26:16.496] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:26:16.501] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:26:16.502] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:26:16.505] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0caba564115f891f7cbc4cbd6421177b8e&_v=3[39m [32m200[39m [90m323ms[39m [90m12b[39m
[2017-09-22 19:26:19.788] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:26:19.791] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 19:26:20.118] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011y6fdk2pQO1I0OgBgk2BC2dk2y6fdf&state=6688&_v=0[39m
[2017-09-22 19:26:20.119] [INFO] console - enter===>
[2017-09-22 19:26:20.296] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1159c4a764b6d5fd67e3b750e88b0b93' }
[2017-09-22 19:26:20.297] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1159c4a764b6d5fd67e3b750e88b0b93' } false
[2017-09-22 19:26:20.299] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011y6fdk2pQO1I0OgBgk2BC2dk2y6fdf&state=6688&_v=0[39m [32m200[39m [90m181ms[39m [90m153b[39m
[2017-09-22 19:26:41.385] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1159c4a764b6d5fd67e3b750e88b0b93&_v=1[39m
[2017-09-22 19:26:41.387] [INFO] console - enter===>
[2017-09-22 19:26:41.388] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-22 19:26:41.390] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:26:41.393] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1159c4a764b6d5fd67e3b750e88b0b93&_v=1[39m [32m200[39m [90m8ms[39m [90m26b[39m
[2017-09-22 19:26:42.993] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1159c4a764b6d5fd67e3b750e88b0b93&_v=2[39m
[2017-09-22 19:26:42.994] [INFO] console - enter===>
[2017-09-22 19:26:42.995] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:26:43.005] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'aly1yglqd2uhkf6',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000023,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:26:43.247] [INFO] console - string
[2017-09-22 19:26:43.248] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[8HhbEGkNxCHc6Vm7]]></nonce_str>
<sign><![CDATA[BADE9339D6814079A52ACCE4D0A00257]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:26:43.248] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[8HhbEGkNxCHc6Vm7]]></nonce_str>\n<sign><![CDATA[BADE9339D6814079A52ACCE4D0A00257]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:26:43.249] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:26:43.253] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:26:43.253] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:26:43.254] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:26:43.255] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1159c4a764b6d5fd67e3b750e88b0b93&_v=2[39m [32m200[39m [90m262ms[39m [90m12b[39m
[2017-09-22 19:27:18.823] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:27:18.827] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m4ms[39m [90m473b[39m
[2017-09-22 19:27:19.233] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071rV5to0jenCo1B7ypo0MgVso0rV5th&state=6688&_v=0[39m
[2017-09-22 19:27:19.238] [INFO] console - enter===>
[2017-09-22 19:27:19.396] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db' }
[2017-09-22 19:27:19.396] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db' } false
[2017-09-22 19:27:19.397] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071rV5to0jenCo1B7ypo0MgVso0rV5th&state=6688&_v=0[39m [32m200[39m [90m164ms[39m [90m153b[39m
[2017-09-22 19:27:28.635] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db&_v=1[39m
[2017-09-22 19:27:28.636] [INFO] console - enter===>
[2017-09-22 19:27:28.639] [INFO] console - goooooooo
[2017-09-22 19:27:28.644] [INFO] console - null
[2017-09-22 19:27:28.645] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 19:27:28.645] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 19:27:28.646] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10001&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db&_v=1[39m [32m200[39m [90m11ms[39m [90m12b[39m
[2017-09-22 19:27:32.890] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10002&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db&_v=2[39m
[2017-09-22 19:27:32.892] [INFO] console - enter===>
[2017-09-22 19:27:32.892] [INFO] console - goooooooo
[2017-09-22 19:27:32.895] [INFO] console - null
[2017-09-22 19:27:32.896] [INFO] console - enter===>22 { code: 507 }
[2017-09-22 19:27:32.896] [INFO] console - enter====> client { code: 507 } false
[2017-09-22 19:27:32.897] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10002&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db&_v=2[39m [32m200[39m [90m7ms[39m [90m12b[39m
[2017-09-22 19:27:35.797] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db&_v=3[39m
[2017-09-22 19:27:35.798] [INFO] console - enter===>
[2017-09-22 19:27:35.798] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-22 19:27:35.799] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:27:35.800] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db&_v=3[39m [32m200[39m [90m3ms[39m [90m26b[39m
[2017-09-22 19:27:37.537] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db&_v=4[39m
[2017-09-22 19:27:37.538] [INFO] console - enter===>
[2017-09-22 19:27:37.539] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:27:37.548] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'n18u9kwhtr13e9f',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000024,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:27:37.843] [INFO] console - string
[2017-09-22 19:27:37.843] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[XyNGK3F0WwrdqgGh]]></nonce_str>
<sign><![CDATA[97D24B2C55C8E7F06A0020D17C9127A9]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:27:37.844] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[XyNGK3F0WwrdqgGh]]></nonce_str>\n<sign><![CDATA[97D24B2C55C8E7F06A0020D17C9127A9]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:27:37.844] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:27:37.847] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:27:37.847] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:27:37.848] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:27:37.848] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8980ab4c27a3e75750bd2adcffd8f7db&_v=4[39m [32m200[39m [90m311ms[39m [90m12b[39m
[2017-09-22 19:27:57.889] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:27:57.895] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:29:56.063] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:29:56.068] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:29:56.098] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:29:57.364] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:29:57.376] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m12ms[39m [90m473b[39m
[2017-09-22 19:29:57.775] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071hM45v0QEsFd1D8P6v03Hr5v0hM45N&state=6688&_v=0[39m
[2017-09-22 19:29:57.779] [INFO] console - enter===>
[2017-09-22 19:29:58.029] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfdb25ef10bb9d2a907776db1864020a6' }
[2017-09-22 19:29:58.032] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfdb25ef10bb9d2a907776db1864020a6' } false
[2017-09-22 19:29:58.033] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071hM45v0QEsFd1D8P6v03Hr5v0hM45N&state=6688&_v=0[39m [32m200[39m [90m258ms[39m [90m153b[39m
[2017-09-22 19:30:02.277] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfdb25ef10bb9d2a907776db1864020a6&_v=1[39m
[2017-09-22 19:30:02.278] [INFO] console - enter===>
[2017-09-22 19:30:02.280] [INFO] console - goooooooo
[2017-09-22 19:30:02.285] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:30:02.289] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:30:02.291] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfdb25ef10bb9d2a907776db1864020a6&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:30:03.163] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfdb25ef10bb9d2a907776db1864020a6&_v=2[39m
[2017-09-22 19:30:03.165] [INFO] console - enter===>
[2017-09-22 19:30:03.168] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:30:03.169] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'id' of undefined
    at _callee4$ (/Users/zyg/optimization/pay/controllers/dyh.js:126:49)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.order (/Users/zyg/optimization/pay/controllers/dyh.js:107:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-22 19:30:03.198] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:30:03.198] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:30:03.199] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfdb25ef10bb9d2a907776db1864020a6&_v=2[39m [32m200[39m [90m36ms[39m [90m12b[39m
[2017-09-22 19:30:56.826] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:30:56.831] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:30:56.856] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:30:58.034] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:30:58.044] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 19:30:58.457] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061cM2o52qw1DJ0oTco52mOdo52cM2ou&state=6688&_v=0[39m
[2017-09-22 19:30:58.461] [INFO] console - enter===>
[2017-09-22 19:30:58.685] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cceae5e19f90c645ac99eb08dfb737576' }
[2017-09-22 19:30:58.691] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cceae5e19f90c645ac99eb08dfb737576' } false
[2017-09-22 19:30:58.693] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061cM2o52qw1DJ0oTco52mOdo52cM2ou&state=6688&_v=0[39m [32m200[39m [90m236ms[39m [90m153b[39m
[2017-09-22 19:31:01.385] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cceae5e19f90c645ac99eb08dfb737576&_v=1[39m
[2017-09-22 19:31:01.386] [INFO] console - enter===>
[2017-09-22 19:31:01.389] [INFO] console - goooooooo
[2017-09-22 19:31:01.394] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:31:01.396] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:31:01.398] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cceae5e19f90c645ac99eb08dfb737576&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:31:02.416] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cceae5e19f90c645ac99eb08dfb737576&_v=2[39m
[2017-09-22 19:31:02.417] [INFO] console - enter===>
[2017-09-22 19:31:02.419] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:31:02.448] [INFO] console - 192.168.0.107 充值 充值5钻石 owhU5wTjaXvop_zknhZYp_dNR3KM 860000025 1500
[2017-09-22 19:31:02.450] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'rog4kaodmjgobi6',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000025,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:31:02.824] [INFO] console - string
[2017-09-22 19:31:02.825] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[cOXufshBxoDVBCo5]]></nonce_str>
<sign><![CDATA[47FE593A274097307749A85253D32315]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:31:02.825] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[cOXufshBxoDVBCo5]]></nonce_str>\n<sign><![CDATA[47FE593A274097307749A85253D32315]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:31:02.827] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:31:02.849] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:31:02.850] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:31:02.851] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:31:02.853] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cceae5e19f90c645ac99eb08dfb737576&_v=2[39m [32m200[39m [90m437ms[39m [90m12b[39m
[2017-09-22 19:32:40.025] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:32:40.029] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:32:40.054] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:32:41.627] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:32:41.638] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 19:32:42.091] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071po0iF0mRzBi2xRigF0HlShF0po0iB&state=6688&_v=0[39m
[2017-09-22 19:32:42.096] [INFO] console - enter===>
[2017-09-22 19:32:42.281] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48636427a692bb943f25a933058d34d8' }
[2017-09-22 19:32:42.284] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48636427a692bb943f25a933058d34d8' } false
[2017-09-22 19:32:42.286] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071po0iF0mRzBi2xRigF0HlShF0po0iB&state=6688&_v=0[39m [32m200[39m [90m195ms[39m [90m153b[39m
[2017-09-22 19:32:44.948] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48636427a692bb943f25a933058d34d8&_v=1[39m
[2017-09-22 19:32:44.949] [INFO] console - enter===>
[2017-09-22 19:32:44.952] [INFO] console - goooooooo
[2017-09-22 19:32:44.957] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:32:44.959] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:32:44.961] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48636427a692bb943f25a933058d34d8&_v=1[39m [32m200[39m [90m12ms[39m [90m26b[39m
[2017-09-22 19:32:45.893] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48636427a692bb943f25a933058d34d8&_v=2[39m
[2017-09-22 19:32:45.895] [INFO] console - enter===>
[2017-09-22 19:32:45.896] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:32:45.932] [INFO] console - { __v: 0,
  id: 860000026,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:32:45.899Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  after: 0,
  _id: 59c4f4dd87d6a2f1bd6a7402 }
[2017-09-22 19:32:45.933] [INFO] console - 192.168.0.107 充值 充值5钻石 owhU5wTjaXvop_zknhZYp_dNR3KM 860000026 1500
[2017-09-22 19:32:45.935] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'y2j1j349vxcpw17',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000026,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:32:46.282] [INFO] console - string
[2017-09-22 19:32:46.283] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[INGxafYImqjD6EG6]]></nonce_str>
<sign><![CDATA[AAF16F56D4DF3DBD64B99301AD79510D]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:32:46.283] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[INGxafYImqjD6EG6]]></nonce_str>\n<sign><![CDATA[AAF16F56D4DF3DBD64B99301AD79510D]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:32:46.286] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:32:46.306] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:32:46.307] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:32:46.307] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:32:46.308] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c48636427a692bb943f25a933058d34d8&_v=2[39m [32m200[39m [90m415ms[39m [90m12b[39m
[2017-09-22 19:33:44.020] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:33:44.024] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m4ms[39m [90m473b[39m
[2017-09-22 19:33:44.339] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081i0yWl0k9QGm1kUiWl0x0dWl0i0yW7&state=6688&_v=0[39m
[2017-09-22 19:33:44.340] [INFO] console - enter===>
[2017-09-22 19:33:44.609] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfa787c2215b3a954e2b6b36d96c8158e' }
[2017-09-22 19:33:44.610] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfa787c2215b3a954e2b6b36d96c8158e' } false
[2017-09-22 19:33:44.612] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081i0yWl0k9QGm1kUiWl0x0dWl0i0yW7&state=6688&_v=0[39m [32m200[39m [90m273ms[39m [90m153b[39m
[2017-09-22 19:33:46.990] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfa787c2215b3a954e2b6b36d96c8158e&_v=1[39m
[2017-09-22 19:33:46.991] [INFO] console - enter===>
[2017-09-22 19:33:46.993] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-22 19:33:46.993] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:33:46.995] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfa787c2215b3a954e2b6b36d96c8158e&_v=1[39m [32m200[39m [90m5ms[39m [90m26b[39m
[2017-09-22 19:33:47.985] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfa787c2215b3a954e2b6b36d96c8158e&_v=2[39m
[2017-09-22 19:33:47.987] [INFO] console - enter===>
[2017-09-22 19:33:47.988] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:33:47.997] [INFO] console - { __v: 0,
  id: 860000027,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:33:47.988Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  after: 0,
  _id: 59c4f51b87d6a2f1bd6a7403 }
[2017-09-22 19:33:47.998] [INFO] console - 192.168.0.107 充值 充值5钻石 owhU5wTjaXvop_zknhZYp_dNR3KM 860000027 1500
[2017-09-22 19:33:47.998] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'pse1tvdtu4kt3b1',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000027,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:33:48.291] [INFO] console - string
[2017-09-22 19:33:48.294] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[U7KfTA73H5kAI83E]]></nonce_str>
<sign><![CDATA[5EE63423E411F6A25E95AD8EDCEDCC18]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:33:48.297] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[U7KfTA73H5kAI83E]]></nonce_str>\n<sign><![CDATA[5EE63423E411F6A25E95AD8EDCEDCC18]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:33:48.298] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:33:48.303] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:33:48.304] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:33:48.304] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:33:48.305] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cfa787c2215b3a954e2b6b36d96c8158e&_v=2[39m [32m200[39m [90m320ms[39m [90m12b[39m
[2017-09-22 19:34:31.297] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:34:31.309] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:34:31.343] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:35:09.116] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:35:09.125] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:35:09.162] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:35:18.465] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:35:18.471] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:35:18.500] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:35:21.240] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:35:21.251] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:35:21.742] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081DEAQr087T5c17XpPr0BIBQr0DEAQI&state=6688&_v=0[39m
[2017-09-22 19:35:21.744] [INFO] console - enter===>
[2017-09-22 19:35:21.952] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6e4e2c8d4fa97c3d76472ad7a18d8b9e' }
[2017-09-22 19:35:21.956] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6e4e2c8d4fa97c3d76472ad7a18d8b9e' } false
[2017-09-22 19:35:21.957] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081DEAQr087T5c17XpPr0BIBQr0DEAQI&state=6688&_v=0[39m [32m200[39m [90m215ms[39m [90m153b[39m
[2017-09-22 19:35:24.485] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6e4e2c8d4fa97c3d76472ad7a18d8b9e&_v=1[39m
[2017-09-22 19:35:24.486] [INFO] console - enter===>
[2017-09-22 19:35:24.488] [INFO] console - goooooooo
[2017-09-22 19:35:24.494] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:35:24.496] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:35:24.497] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6e4e2c8d4fa97c3d76472ad7a18d8b9e&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:35:25.515] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=150&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6e4e2c8d4fa97c3d76472ad7a18d8b9e&_v=2[39m
[2017-09-22 19:35:25.516] [INFO] console - enter===>
[2017-09-22 19:35:25.518] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:35:25.545] [INFO] console - { __v: 0,
  id: 860000028,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:35:25.520Z,
  status: 0,
  way: 'wx',
  cost: 15000,
  count: 50,
  after: 0,
  _id: 59c4f57d761ed1f27e49ce85 }
[2017-09-22 19:35:25.547] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值50钻石',
  mch_id: '1433459502',
  nonce_str: '1lc6njnmn6garg1',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000028,
  spbill_create_ip: '192.168.0.107',
  total_fee: 15000,
  trade_type: 'JSAPI' }
[2017-09-22 19:35:25.803] [INFO] console - string
[2017-09-22 19:35:25.804] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[LmxF0COme9mDt414]]></nonce_str>
<sign><![CDATA[E9024BE042E05CA41AB52FC97F88D009]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:35:25.804] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[LmxF0COme9mDt414]]></nonce_str>\n<sign><![CDATA[E9024BE042E05CA41AB52FC97F88D009]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:35:25.805] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值50钻石'
[2017-09-22 19:35:25.831] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值50钻石' }
[2017-09-22 19:35:25.832] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:35:25.833] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:35:25.834] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=150&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6e4e2c8d4fa97c3d76472ad7a18d8b9e&_v=2[39m [32m200[39m [90m319ms[39m [90m12b[39m
[2017-09-22 19:35:38.848] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:35:38.853] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:35:38.879] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:35:39.975] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:35:39.986] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:35:40.426] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011eg0QA0Kaace2Lc4QA0wL7QA0eg0Qo&state=6688&_v=0[39m
[2017-09-22 19:35:40.431] [INFO] console - enter===>
[2017-09-22 19:35:40.653] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8daa002db992861540df37beb829a05b' }
[2017-09-22 19:35:40.656] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8daa002db992861540df37beb829a05b' } false
[2017-09-22 19:35:40.658] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011eg0QA0Kaace2Lc4QA0wL7QA0eg0Qo&state=6688&_v=0[39m [32m200[39m [90m232ms[39m [90m153b[39m
[2017-09-22 19:35:43.932] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8daa002db992861540df37beb829a05b&_v=1[39m
[2017-09-22 19:35:43.933] [INFO] console - enter===>
[2017-09-22 19:35:43.936] [INFO] console - goooooooo
[2017-09-22 19:35:43.942] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:35:43.944] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:35:43.945] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8daa002db992861540df37beb829a05b&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:35:44.746] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8daa002db992861540df37beb829a05b&_v=2[39m
[2017-09-22 19:35:44.748] [INFO] console - enter===>
[2017-09-22 19:35:44.751] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:35:44.779] [INFO] console - { __v: 0,
  id: 860000029,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:35:44.753Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f590e1cc8ef299144e1b }
[2017-09-22 19:35:44.780] [INFO] console - { __v: 0,
  id: 860000029,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:35:44.753Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f590e1cc8ef299144e1b }
[2017-09-22 19:35:44.784] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'tcqeohnbiwwlkh4',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000029,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:35:44.984] [INFO] console - string
[2017-09-22 19:35:44.984] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[kowTIOnGOf5pU5L6]]></nonce_str>
<sign><![CDATA[0FBB267A114450BEAD995C8A16E981BA]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx2017092219354470a25f94160735350536]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:35:44.985] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[kowTIOnGOf5pU5L6]]></nonce_str>\n<sign><![CDATA[0FBB267A114450BEAD995C8A16E981BA]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx2017092219354470a25f94160735350536]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:35:44.986] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506080144',
     nonceStr: 'tcqeohnbiwwlkh4',
     signType: 'MD5',
     package: 'prepay_id=wx2017092219354470a25f94160735350536',
     paySign: 'D778D903F95BE189C2ECF7D7443D9450' } } false
[2017-09-22 19:35:44.987] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8daa002db992861540df37beb829a05b&_v=2[39m [32m200[39m [90m241ms[39m [90m225b[39m
[2017-09-22 19:35:48.637] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8daa002db992861540df37beb829a05b&_v=3[39m
[2017-09-22 19:35:48.640] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8daa002db992861540df37beb829a05b&_v=3[39m [33m404[39m [90m3ms[39m [90m-[39m
[2017-09-22 19:35:51.194] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:35:51.198] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m4ms[39m [90m473b[39m
[2017-09-22 19:35:51.529] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071Ra5ju1UdHG90SG1ku1Un4ju1Ra5jb&state=6688&_v=0[39m
[2017-09-22 19:35:51.531] [INFO] console - enter===>
[2017-09-22 19:35:51.699] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936' }
[2017-09-22 19:35:51.702] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936' } false
[2017-09-22 19:35:51.705] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071Ra5ju1UdHG90SG1ku1Un4ju1Ra5jb&state=6688&_v=0[39m [32m200[39m [90m176ms[39m [90m153b[39m
[2017-09-22 19:35:59.917] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=1[39m
[2017-09-22 19:35:59.919] [INFO] console - enter===>
[2017-09-22 19:35:59.923] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-22 19:35:59.924] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:35:59.927] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=1[39m [32m200[39m [90m10ms[39m [90m26b[39m
[2017-09-22 19:36:00.778] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=2[39m
[2017-09-22 19:36:00.780] [INFO] console - enter===>
[2017-09-22 19:36:00.781] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:36:00.789] [INFO] console - { __v: 0,
  id: 860000030,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:00.781Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f5a0e1cc8ef299144e1c }
[2017-09-22 19:36:00.790] [INFO] console - { __v: 0,
  id: 860000030,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:00.781Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f5a0e1cc8ef299144e1c }
[2017-09-22 19:36:00.791] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'bo1xvkog0slmeak',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000030,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:36:01.060] [INFO] console - string
[2017-09-22 19:36:01.060] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[gM7inF96Gena6E0C]]></nonce_str>
<sign><![CDATA[786E685840DF60D1AA1473DD5E19CFDE]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:36:01.060] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[gM7inF96Gena6E0C]]></nonce_str>\n<sign><![CDATA[786E685840DF60D1AA1473DD5E19CFDE]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:36:01.062] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:36:01.093] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:36:01.094] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:36:01.095] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:36:01.096] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=2[39m [32m200[39m [90m318ms[39m [90m12b[39m
[2017-09-22 19:36:03.813] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=3[39m
[2017-09-22 19:36:03.813] [INFO] console - enter===>
[2017-09-22 19:36:03.814] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:36:03.823] [INFO] console - { __v: 0,
  id: 860000031,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:03.815Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f5a3e1cc8ef299144e1d }
[2017-09-22 19:36:03.826] [INFO] console - { __v: 0,
  id: 860000031,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:03.815Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f5a3e1cc8ef299144e1d }
[2017-09-22 19:36:03.828] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'duk88v9eex0bdow',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000031,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:36:04.092] [INFO] console - string
[2017-09-22 19:36:04.092] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[kMzdQOmYkAJIOW3H]]></nonce_str>
<sign><![CDATA[9F93EEE36E72F17C909543EAE5703A17]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:36:04.092] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[kMzdQOmYkAJIOW3H]]></nonce_str>\n<sign><![CDATA[9F93EEE36E72F17C909543EAE5703A17]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:36:04.093] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:36:04.096] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:36:04.096] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:36:04.097] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:36:04.098] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=3[39m [32m200[39m [90m285ms[39m [90m12b[39m
[2017-09-22 19:36:05.728] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=4[39m
[2017-09-22 19:36:05.732] [INFO] console - enter===>
[2017-09-22 19:36:05.732] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:36:05.749] [INFO] console - { __v: 0,
  id: 860000032,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:05.733Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f5a5e1cc8ef299144e1e }
[2017-09-22 19:36:05.750] [INFO] console - { __v: 0,
  id: 860000032,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:05.733Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f5a5e1cc8ef299144e1e }
[2017-09-22 19:36:05.753] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'qwa2q92polzfpq3',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000032,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:36:06.034] [INFO] console - string
[2017-09-22 19:36:06.034] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[omA0nyWIubOsaMz5]]></nonce_str>
<sign><![CDATA[7DD62970695E01DCF589225D52FEA417]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:36:06.034] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[omA0nyWIubOsaMz5]]></nonce_str>\n<sign><![CDATA[7DD62970695E01DCF589225D52FEA417]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:36:06.036] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:36:06.038] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:36:06.039] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:36:06.039] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:36:06.041] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=4[39m [32m200[39m [90m312ms[39m [90m12b[39m
[2017-09-22 19:36:08.608] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=150&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=5[39m
[2017-09-22 19:36:08.611] [INFO] console - enter===>
[2017-09-22 19:36:08.612] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:36:08.619] [INFO] console - { __v: 0,
  id: 860000033,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:08.613Z,
  status: 0,
  way: 'wx',
  cost: 15000,
  count: 50,
  after: 0,
  _id: 59c4f5a8e1cc8ef299144e1f }
[2017-09-22 19:36:08.621] [INFO] console - { __v: 0,
  id: 860000033,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:08.613Z,
  status: 0,
  way: 'wx',
  cost: 15000,
  count: 50,
  after: 0,
  _id: 59c4f5a8e1cc8ef299144e1f }
[2017-09-22 19:36:08.623] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值50钻石',
  mch_id: '1433459502',
  nonce_str: 'lr6ehiecjmcq7ge',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000033,
  spbill_create_ip: '192.168.0.107',
  total_fee: 15000,
  trade_type: 'JSAPI' }
[2017-09-22 19:36:08.882] [INFO] console - string
[2017-09-22 19:36:08.883] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[DDr1iw9kEOtvqCvO]]></nonce_str>
<sign><![CDATA[86B5A27A8C71507078255772E1958A92]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:36:08.883] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[DDr1iw9kEOtvqCvO]]></nonce_str>\n<sign><![CDATA[86B5A27A8C71507078255772E1958A92]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:36:08.884] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值50钻石'
[2017-09-22 19:36:08.886] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值50钻石' }
[2017-09-22 19:36:08.887] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:36:08.887] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:36:08.888] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=150&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=5[39m [32m200[39m [90m280ms[39m [90m12b[39m
[2017-09-22 19:36:13.691] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=6[39m
[2017-09-22 19:36:13.722] [INFO] console - enter===>
[2017-09-22 19:36:13.723] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:36:13.732] [INFO] console - { __v: 0,
  id: 860000034,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:13.724Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f5ade1cc8ef299144e20 }
[2017-09-22 19:36:13.734] [INFO] console - { __v: 0,
  id: 860000034,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:13.724Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f5ade1cc8ef299144e20 }
[2017-09-22 19:36:13.735] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'u8bq9c9fj6i63jw',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000034,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:36:13.952] [INFO] console - string
[2017-09-22 19:36:13.952] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[wdxQg6CIprKYn6yO]]></nonce_str>
<sign><![CDATA[1A7FF7BC81C75F2AAE2295EE2BA3E17A]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:36:13.952] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[wdxQg6CIprKYn6yO]]></nonce_str>\n<sign><![CDATA[1A7FF7BC81C75F2AAE2295EE2BA3E17A]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:36:13.953] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:36:13.957] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:36:13.958] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:36:13.958] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:36:13.959] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=6[39m [32m200[39m [90m268ms[39m [90m12b[39m
[2017-09-22 19:36:25.101] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=7[39m
[2017-09-22 19:36:25.105] [INFO] console - enter===>
[2017-09-22 19:36:25.106] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:36:25.115] [INFO] console - { __v: 0,
  id: 860000035,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:25.106Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f5b9e1cc8ef299144e21 }
[2017-09-22 19:36:25.116] [INFO] console - { __v: 0,
  id: 860000035,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:36:25.106Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f5b9e1cc8ef299144e21 }
[2017-09-22 19:36:25.116] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'hvnrgf5gqf72pml',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000035,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:36:25.375] [INFO] console - string
[2017-09-22 19:36:25.375] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[zAefM8JxqjL5ywQE]]></nonce_str>
<sign><![CDATA[93C738855EEDE784F3BD34519F5DCC5A]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:36:25.375] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[zAefM8JxqjL5ywQE]]></nonce_str>\n<sign><![CDATA[93C738855EEDE784F3BD34519F5DCC5A]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:36:25.376] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:36:25.382] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:36:25.384] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:36:25.384] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:36:25.386] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c9d83da7f48e117786863472a2518b936&_v=7[39m [32m200[39m [90m288ms[39m [90m12b[39m
[2017-09-22 19:36:55.390] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:36:55.395] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:36:55.419] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:36:56.648] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:36:56.662] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m15ms[39m [90m473b[39m
[2017-09-22 19:36:56.991] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071JnvqK1hf4E702iSnK19WvqK1Jnvq0&state=6688&_v=0[39m
[2017-09-22 19:36:56.995] [INFO] console - enter===>
[2017-09-22 19:36:57.195] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccb6ddf0132db83214d9f32d6bfd34fe7' }
[2017-09-22 19:36:57.199] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccb6ddf0132db83214d9f32d6bfd34fe7' } false
[2017-09-22 19:36:57.201] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071JnvqK1hf4E702iSnK19WvqK1Jnvq0&state=6688&_v=0[39m [32m200[39m [90m210ms[39m [90m153b[39m
[2017-09-22 19:37:00.167] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccb6ddf0132db83214d9f32d6bfd34fe7&_v=1[39m
[2017-09-22 19:37:00.168] [INFO] console - enter===>
[2017-09-22 19:37:00.171] [INFO] console - goooooooo
[2017-09-22 19:37:00.177] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:37:00.179] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:37:00.180] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccb6ddf0132db83214d9f32d6bfd34fe7&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 19:37:00.836] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccb6ddf0132db83214d9f32d6bfd34fe7&_v=2[39m
[2017-09-22 19:37:00.838] [INFO] console - enter===>
[2017-09-22 19:37:00.839] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:37:00.871] [INFO] console - { __v: 0,
  id: 860000036,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:37:00.840Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f5dcc62087f2edb5d5e0 }
[2017-09-22 19:37:00.872] [INFO] console - cdfdfdf { __v: 0,
  id: 860000036,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:37:00.840Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f5dcc62087f2edb5d5e0 }
[2017-09-22 19:37:00.874] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'xb121so0d4jps18',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000036,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:37:01.101] [INFO] console - string
[2017-09-22 19:37:01.102] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[4SnsC0qYiDnt1A83]]></nonce_str>
<sign><![CDATA[B4A8AB62D4DA4FB61954CF7F1DBC8E7D]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:37:01.102] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[4SnsC0qYiDnt1A83]]></nonce_str>\n<sign><![CDATA[B4A8AB62D4DA4FB61954CF7F1DBC8E7D]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:37:01.103] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:37:01.132] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:37:01.133] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:37:01.134] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:37:01.135] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccb6ddf0132db83214d9f32d6bfd34fe7&_v=2[39m [32m200[39m [90m299ms[39m [90m12b[39m
[2017-09-22 19:37:55.225] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccb6ddf0132db83214d9f32d6bfd34fe7&_v=3[39m
[2017-09-22 19:37:55.236] [INFO] console - enter===>
[2017-09-22 19:37:55.236] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:37:55.253] [INFO] console - { __v: 0,
  id: 860000037,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:37:55.238Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f613c62087f2edb5d5e1 }
[2017-09-22 19:37:55.255] [INFO] console - cdfdfdf { __v: 0,
  id: 860000037,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:37:55.238Z,
  status: 0,
  way: 'wx',
  cost: 3000,
  count: 10,
  after: 0,
  _id: 59c4f613c62087f2edb5d5e1 }
[2017-09-22 19:37:55.257] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值10钻石',
  mch_id: '1433459502',
  nonce_str: 'y5ts58scfw997gx',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000037,
  spbill_create_ip: '192.168.0.107',
  total_fee: 3000,
  trade_type: 'JSAPI' }
[2017-09-22 19:37:55.485] [INFO] console - string
[2017-09-22 19:37:55.485] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[Jt3rqLBVPsJfGX9Z]]></nonce_str>
<sign><![CDATA[CD62628EC4CA9A2D5EAB9B0253A9C195]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[INVALID_REQUEST]]></err_code>
<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>
</xml>
[2017-09-22 19:37:55.485] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[Jt3rqLBVPsJfGX9Z]]></nonce_str>\n<sign><![CDATA[CD62628EC4CA9A2D5EAB9B0253A9C195]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[INVALID_REQUEST]]></err_code>\n<err_code_des><![CDATA[201 商户订单号重复]]></err_code_des>\n</xml>' ]
[2017-09-22 19:37:55.486] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值10钻石'
[2017-09-22 19:37:55.488] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值10钻石' }
[2017-09-22 19:37:55.489] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:37:55.489] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:37:55.491] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=30&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ccb6ddf0132db83214d9f32d6bfd34fe7&_v=3[39m [32m200[39m [90m266ms[39m [90m12b[39m
[2017-09-22 19:38:55.497] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:38:55.502] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:47:00.549] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:47:00.556] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:47:00.596] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:47:04.055] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:47:04.066] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:47:04.459] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081oHOU21SoR1M1ge3V21y4MU21oHOU7&state=6688&_v=0[39m
[2017-09-22 19:47:04.463] [INFO] console - enter===>
[2017-09-22 19:47:04.693] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6fa25010c47238dfa9a86db8dd12b6c' }
[2017-09-22 19:47:04.696] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6fa25010c47238dfa9a86db8dd12b6c' } false
[2017-09-22 19:47:04.698] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081oHOU21SoR1M1ge3V21y4MU21oHOU7&state=6688&_v=0[39m [32m200[39m [90m239ms[39m [90m153b[39m
[2017-09-22 19:47:08.131] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6fa25010c47238dfa9a86db8dd12b6c&_v=1[39m
[2017-09-22 19:47:08.132] [INFO] console - enter===>
[2017-09-22 19:47:08.135] [INFO] console - goooooooo
[2017-09-22 19:47:08.142] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:47:08.144] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:47:08.145] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6fa25010c47238dfa9a86db8dd12b6c&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:47:08.848] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6fa25010c47238dfa9a86db8dd12b6c&_v=2[39m
[2017-09-22 19:47:08.849] [INFO] console - enter===>
[2017-09-22 19:47:08.851] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:47:08.879] [INFO] console - { __v: 0,
  id: 860000038,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:47:08.853Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f83c1ccda8f523957d88 }
[2017-09-22 19:47:08.881] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '5koqnspy97cnwxn',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000038,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:47:09.158] [INFO] console - string
[2017-09-22 19:47:09.158] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[hxbdX1290WWx1rbL]]></nonce_str>
<sign><![CDATA[BF4A7EB0350D6F87279C8F3F35606C7D]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:47:09.158] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[hxbdX1290WWx1rbL]]></nonce_str>\n<sign><![CDATA[BF4A7EB0350D6F87279C8F3F35606C7D]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:47:09.160] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:47:09.183] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:47:09.184] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:47:09.185] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:47:09.187] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cb6fa25010c47238dfa9a86db8dd12b6c&_v=2[39m [32m200[39m [90m339ms[39m [90m12b[39m
[2017-09-22 19:47:48.509] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:47:48.516] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:47:48.541] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:47:50.538] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:47:50.550] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:47:50.923] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081mCOMN1ECQL51UWVON11U7NN1mCOMp&state=6688&_v=0[39m
[2017-09-22 19:47:50.928] [INFO] console - enter===>
[2017-09-22 19:47:51.151] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce79e7bd1ae8d598d918f5c058e9bade2' }
[2017-09-22 19:47:51.154] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce79e7bd1ae8d598d918f5c058e9bade2' } false
[2017-09-22 19:47:51.156] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081mCOMN1ECQL51UWVON11U7NN1mCOMp&state=6688&_v=0[39m [32m200[39m [90m233ms[39m [90m153b[39m
[2017-09-22 19:47:57.968] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce79e7bd1ae8d598d918f5c058e9bade2&_v=1[39m
[2017-09-22 19:47:57.969] [INFO] console - enter===>
[2017-09-22 19:47:57.972] [INFO] console - goooooooo
[2017-09-22 19:47:57.979] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:47:57.981] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:47:57.982] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce79e7bd1ae8d598d918f5c058e9bade2&_v=1[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-22 19:47:58.786] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce79e7bd1ae8d598d918f5c058e9bade2&_v=2[39m
[2017-09-22 19:47:58.787] [INFO] console - enter===>
[2017-09-22 19:47:58.789] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:47:58.815] [INFO] console - { __v: 0,
  id: 860000039,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:47:58.791Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f86e9c704ff54d2e77a9 }
[2017-09-22 19:47:58.817] [INFO] console - { __v: 0,
  id: 860000039,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:47:58.791Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f86e9c704ff54d2e77a9 }
[2017-09-22 19:47:58.819] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'l00ypf2gjsckkax',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000039,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:47:59.057] [INFO] console - string
[2017-09-22 19:47:59.057] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[8VTVzzt9qAv9lwHh]]></nonce_str>
<sign><![CDATA[7795ED1C2A19BE418438636F86A1873B]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERPAID]]></err_code>
<err_code_des><![CDATA[该订单已支付]]></err_code_des>
</xml>
[2017-09-22 19:47:59.058] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[8VTVzzt9qAv9lwHh]]></nonce_str>\n<sign><![CDATA[7795ED1C2A19BE418438636F86A1873B]]></sign>\n<result_code><![CDATA[FAIL]]></result_code>\n<err_code><![CDATA[ORDERPAID]]></err_code>\n<err_code_des><![CDATA[该订单已支付]]></err_code_des>\n</xml>' ]
[2017-09-22 19:47:59.059] [ERROR] console - TypeError: Cannot read property 'split' of undefined
    at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
    at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) '充值5钻石'
[2017-09-22 19:47:59.078] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { err: 
   TypeError: Cannot read property 'split' of undefined
       at Object.getXMLNodeValue (/Users/zyg/optimization/pay/app/wechat/wxpay.js:33:24)
       at Object._callee$ (/Users/zyg/optimization/pay/app/wechat/wxpay.js:138:38)
       at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
       at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
       at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
       at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
       at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
       at process._tickDomainCallback (internal/process/next_tick.js:129:7),
  body: '充值5钻石' }
[2017-09-22 19:47:59.079] [INFO] console - enter===>22 { code: 508 }
[2017-09-22 19:47:59.079] [INFO] console - enter====> client { code: 508 } false
[2017-09-22 19:47:59.080] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce79e7bd1ae8d598d918f5c058e9bade2&_v=2[39m [32m200[39m [90m294ms[39m [90m12b[39m
[2017-09-22 19:48:31.874] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:48:31.882] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:48:31.909] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:48:33.402] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:48:33.412] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-22 19:48:33.737] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081coLMa2blaSR0A9kLa2zBNMa2coLMh&state=6688&_v=0[39m
[2017-09-22 19:48:33.744] [INFO] console - enter===>
[2017-09-22 19:48:33.953] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce052266c1f1396ee791380c2f63eb430' }
[2017-09-22 19:48:33.956] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce052266c1f1396ee791380c2f63eb430' } false
[2017-09-22 19:48:33.957] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081coLMa2blaSR0A9kLa2zBNMa2coLMh&state=6688&_v=0[39m [32m200[39m [90m220ms[39m [90m153b[39m
[2017-09-22 19:48:38.797] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce052266c1f1396ee791380c2f63eb430&_v=1[39m
[2017-09-22 19:48:38.798] [INFO] console - enter===>
[2017-09-22 19:48:38.799] [INFO] console - goooooooo
[2017-09-22 19:48:38.807] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:48:38.811] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:48:38.812] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce052266c1f1396ee791380c2f63eb430&_v=1[39m [32m200[39m [90m15ms[39m [90m26b[39m
[2017-09-22 19:48:39.515] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce052266c1f1396ee791380c2f63eb430&_v=2[39m
[2017-09-22 19:48:39.517] [INFO] console - enter===>
[2017-09-22 19:48:39.518] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:48:39.552] [INFO] console - { __v: 0,
  id: 860000040,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:48:39.520Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f897ff6c8af58f793e30 }
[2017-09-22 19:48:39.553] [INFO] console - cdfdfdf { __v: 0,
  id: 860000040,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:48:39.520Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f897ff6c8af58f793e30 }
[2017-09-22 19:48:39.554] [INFO] console - { __v: 0,
  id: 860000040,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:48:39.520Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f897ff6c8af58f793e30 }
[2017-09-22 19:48:39.556] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'q5fjv8958zu4akb',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000040,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:48:39.826] [INFO] console - string
[2017-09-22 19:48:39.827] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[YgN1qsd1lE11v2hI]]></nonce_str>
<sign><![CDATA[C7C2B49FC8B86FE8F21A4CF08375CFCC]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170922194839e5b8de30b30320178717]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:48:39.827] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[YgN1qsd1lE11v2hI]]></nonce_str>\n<sign><![CDATA[C7C2B49FC8B86FE8F21A4CF08375CFCC]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170922194839e5b8de30b30320178717]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:48:39.829] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506080919',
     nonceStr: 'q5fjv8958zu4akb',
     signType: 'MD5',
     package: 'prepay_id=wx20170922194839e5b8de30b30320178717',
     paySign: '292ED936A57AE8CACDA248973F1BEC00' } } false
[2017-09-22 19:48:39.833] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0ce052266c1f1396ee791380c2f63eb430&_v=2[39m [32m200[39m [90m318ms[39m [90m225b[39m
[2017-09-22 19:49:31.967] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:49:31.973] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:49:31.999] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:49:33.443] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:49:33.457] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m15ms[39m [90m473b[39m
[2017-09-22 19:49:33.742] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081VUcaa0Ywcdu1G8maa003Y9a0VUcae&state=6688&_v=0[39m
[2017-09-22 19:49:33.746] [INFO] console - enter===>
[2017-09-22 19:49:33.988] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6260aa421d1798b426aedc81ecc8828b' }
[2017-09-22 19:49:33.992] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6260aa421d1798b426aedc81ecc8828b' } false
[2017-09-22 19:49:33.993] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=081VUcaa0Ywcdu1G8maa003Y9a0VUcae&state=6688&_v=0[39m [32m200[39m [90m251ms[39m [90m153b[39m
[2017-09-22 19:49:39.794] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6260aa421d1798b426aedc81ecc8828b&_v=1[39m
[2017-09-22 19:49:39.795] [INFO] console - enter===>
[2017-09-22 19:49:39.797] [INFO] console - goooooooo
[2017-09-22 19:49:39.806] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:49:39.813] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:49:39.817] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6260aa421d1798b426aedc81ecc8828b&_v=1[39m [32m200[39m [90m24ms[39m [90m26b[39m
[2017-09-22 19:49:40.610] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6260aa421d1798b426aedc81ecc8828b&_v=2[39m
[2017-09-22 19:49:40.612] [INFO] console - enter===>
[2017-09-22 19:49:40.613] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:49:40.643] [INFO] console - { __v: 0,
  id: 860000041,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:49:40.616Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f8d40e9605f5c958f411 }
[2017-09-22 19:49:40.644] [INFO] console - cdfdfdf { __v: 0,
  id: 860000041,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:49:40.616Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f8d40e9605f5c958f411 } ruijing860000041
[2017-09-22 19:49:40.646] [INFO] console - { __v: 0,
  id: 860000041,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:49:40.616Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f8d40e9605f5c958f411 }
[2017-09-22 19:49:40.648] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'zfpb1gpukqgbcwn',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 860000041,
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:49:41.022] [INFO] console - string
[2017-09-22 19:49:41.022] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[9fXZ1DGfDr0XOBcX]]></nonce_str>
<sign><![CDATA[2B24D93E53822D58C30B41D51294B7D7]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170922194940d00a3b51680898526491]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:49:41.022] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[9fXZ1DGfDr0XOBcX]]></nonce_str>\n<sign><![CDATA[2B24D93E53822D58C30B41D51294B7D7]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170922194940d00a3b51680898526491]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:49:41.023] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506080980',
     nonceStr: 'zfpb1gpukqgbcwn',
     signType: 'MD5',
     package: 'prepay_id=wx20170922194940d00a3b51680898526491',
     paySign: 'D6C73C7E148D5650102DDB1D502DF8A2' } } false
[2017-09-22 19:49:41.025] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c6260aa421d1798b426aedc81ecc8828b&_v=2[39m [32m200[39m [90m415ms[39m [90m225b[39m
[2017-09-22 19:50:53.067] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:50:53.072] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:50:53.099] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:50:59.150] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:50:59.155] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:50:59.189] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:51:48.501] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:51:48.515] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m15ms[39m [90m473b[39m
[2017-09-22 19:51:48.929] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071LmaaF1DqZv30QRh8F1CPcaF1LmaaY&state=6688&_v=0[39m
[2017-09-22 19:51:48.933] [INFO] console - enter===>
[2017-09-22 19:51:49.158] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ef42a3332b0f77ffc1bd235f2df8174' }
[2017-09-22 19:51:49.163] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ef42a3332b0f77ffc1bd235f2df8174' } false
[2017-09-22 19:51:49.166] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071LmaaF1DqZv30QRh8F1CPcaF1LmaaY&state=6688&_v=0[39m [32m200[39m [90m237ms[39m [90m153b[39m
[2017-09-22 19:51:54.470] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ef42a3332b0f77ffc1bd235f2df8174&_v=1[39m
[2017-09-22 19:51:54.473] [INFO] console - enter===>
[2017-09-22 19:51:54.475] [INFO] console - goooooooo
[2017-09-22 19:51:54.482] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:51:54.484] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:51:54.485] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ef42a3332b0f77ffc1bd235f2df8174&_v=1[39m [32m200[39m [90m16ms[39m [90m26b[39m
[2017-09-22 19:51:55.507] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ef42a3332b0f77ffc1bd235f2df8174&_v=2[39m
[2017-09-22 19:51:55.508] [INFO] console - enter===>
[2017-09-22 19:51:55.509] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:51:55.534] [INFO] console - { __v: 0,
  id: 860000042,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:51:55.509Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4f95b520dd3f630595ba4 }
[2017-09-22 19:51:55.538] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '5olg6q4niug2q7z',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000042',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:51:55.794] [INFO] console - string
[2017-09-22 19:51:55.795] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[I0xnIrbL5nHqr45E]]></nonce_str>
<sign><![CDATA[5FB4A1E953614570F735E385F0A33B48]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221951558eca91d8700205107499]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:51:55.795] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[I0xnIrbL5nHqr45E]]></nonce_str>\n<sign><![CDATA[5FB4A1E953614570F735E385F0A33B48]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221951558eca91d8700205107499]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:51:55.797] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506081115',
     nonceStr: '5olg6q4niug2q7z',
     signType: 'MD5',
     package: 'prepay_id=wx201709221951558eca91d8700205107499',
     paySign: '982473BF07C82D20FD3A2D1A2FB84B11' } } false
[2017-09-22 19:51:55.798] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ef42a3332b0f77ffc1bd235f2df8174&_v=2[39m [32m200[39m [90m291ms[39m [90m225b[39m
[2017-09-22 19:51:58.000] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ef42a3332b0f77ffc1bd235f2df8174&_v=3[39m
[2017-09-22 19:51:58.006] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ef42a3332b0f77ffc1bd235f2df8174&_v=3[39m [33m404[39m [90m6ms[39m [90m-[39m
[2017-09-22 19:52:59.237] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:52:59.252] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:54:04.095] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 19:54:04.100] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 19:54:04.128] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 19:56:04.154] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:56:04.169] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 19:57:32.555] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:57:32.567] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m13ms[39m [90m473b[39m
[2017-09-22 19:57:32.902] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0713p2F20Lj71G1Ib5D20ChiF203p2FL&state=6688&_v=0[39m
[2017-09-22 19:57:32.907] [INFO] console - enter===>
[2017-09-22 19:57:33.145] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c30f09dfdd91c71dea584808a34d09823' }
[2017-09-22 19:57:33.146] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c30f09dfdd91c71dea584808a34d09823' } false
[2017-09-22 19:57:33.148] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0713p2F20Lj71G1Ib5D20ChiF203p2FL&state=6688&_v=0[39m [32m200[39m [90m246ms[39m [90m153b[39m
[2017-09-22 19:57:42.296] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c30f09dfdd91c71dea584808a34d09823&_v=1[39m
[2017-09-22 19:57:42.298] [INFO] console - enter===>
[2017-09-22 19:57:42.301] [INFO] console - goooooooo
[2017-09-22 19:57:42.308] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 19:57:42.310] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:57:42.311] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c30f09dfdd91c71dea584808a34d09823&_v=1[39m [32m200[39m [90m15ms[39m [90m26b[39m
[2017-09-22 19:57:43.217] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c30f09dfdd91c71dea584808a34d09823&_v=2[39m
[2017-09-22 19:57:43.218] [INFO] console - enter===>
[2017-09-22 19:57:43.219] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:57:43.245] [INFO] console - { __v: 0,
  id: 860000043,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:57:43.220Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4fab7aa7fcff70fc3c9ed }
[2017-09-22 19:57:43.248] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '6qoztf6x2aqkw1k',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000043',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:57:43.522] [INFO] console - string
[2017-09-22 19:57:43.523] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[reTeWmv92pFOexQt]]></nonce_str>
<sign><![CDATA[14E87979A7AE87B0F7EE01BF6233C2B7]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709221957438338a438920266171288]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:57:43.523] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[reTeWmv92pFOexQt]]></nonce_str>\n<sign><![CDATA[14E87979A7AE87B0F7EE01BF6233C2B7]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709221957438338a438920266171288]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:57:43.524] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506081463',
     nonceStr: '6qoztf6x2aqkw1k',
     signType: 'MD5',
     package: 'prepay_id=wx201709221957438338a438920266171288',
     paySign: 'DFCC0CF82B38909AAAE24A42CDE3B129' } } false
[2017-09-22 19:57:43.525] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c30f09dfdd91c71dea584808a34d09823&_v=2[39m [32m200[39m [90m308ms[39m [90m225b[39m
[2017-09-22 19:57:46.343] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c30f09dfdd91c71dea584808a34d09823&_v=3[39m
[2017-09-22 19:57:46.345] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c30f09dfdd91c71dea584808a34d09823&_v=3[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-22 19:58:38.852] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:58:38.855] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m3ms[39m [90m473b[39m
[2017-09-22 19:58:39.172] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021jTt4F1Bd7q30ENn5F18pz4F1jTt46&state=6688&_v=0[39m
[2017-09-22 19:58:39.173] [INFO] console - enter===>
[2017-09-22 19:58:39.329] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ad4a72625b4ffee2a02f3e0b4a7f284' }
[2017-09-22 19:58:39.330] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ad4a72625b4ffee2a02f3e0b4a7f284' } false
[2017-09-22 19:58:39.332] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=021jTt4F1Bd7q30ENn5F18pz4F1jTt46&state=6688&_v=0[39m [32m200[39m [90m160ms[39m [90m153b[39m
[2017-09-22 19:58:44.100] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ad4a72625b4ffee2a02f3e0b4a7f284&_v=1[39m
[2017-09-22 19:58:44.101] [INFO] console - enter===>
[2017-09-22 19:58:44.106] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-22 19:58:44.109] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:58:44.111] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ad4a72625b4ffee2a02f3e0b4a7f284&_v=1[39m [32m200[39m [90m11ms[39m [90m26b[39m
[2017-09-22 19:58:45.023] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=0.01&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ad4a72625b4ffee2a02f3e0b4a7f284&_v=2[39m
[2017-09-22 19:58:45.025] [INFO] console - enter===>
[2017-09-22 19:58:45.025] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:58:45.025] [INFO] console - enter===>22 { code: 501 }
[2017-09-22 19:58:45.026] [INFO] console - enter====> client { code: 501 } false
[2017-09-22 19:58:45.028] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=0.01&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ad4a72625b4ffee2a02f3e0b4a7f284&_v=2[39m [32m200[39m [90m5ms[39m [90m12b[39m
[2017-09-22 19:58:48.391] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=0.01&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ad4a72625b4ffee2a02f3e0b4a7f284&_v=3[39m
[2017-09-22 19:58:48.393] [INFO] console - enter===>
[2017-09-22 19:58:48.394] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:58:48.394] [INFO] console - enter===>22 { code: 501 }
[2017-09-22 19:58:48.395] [INFO] console - enter====> client { code: 501 } false
[2017-09-22 19:58:48.395] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=0.01&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c4ad4a72625b4ffee2a02f3e0b4a7f284&_v=3[39m [32m200[39m [90m4ms[39m [90m12b[39m
[2017-09-22 19:59:22.505] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 19:59:22.507] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m2ms[39m [90m473b[39m
[2017-09-22 19:59:22.873] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071mhuws0KyJDb161jus0Gwxws0mhuwS&state=6688&_v=0[39m
[2017-09-22 19:59:22.876] [INFO] console - enter===>
[2017-09-22 19:59:23.042] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf1d7c2fb322b95db9e668e14d69b82fc' }
[2017-09-22 19:59:23.044] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf1d7c2fb322b95db9e668e14d69b82fc' } false
[2017-09-22 19:59:23.046] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071mhuws0KyJDb161jus0Gwxws0mhuwS&state=6688&_v=0[39m [32m200[39m [90m173ms[39m [90m153b[39m
[2017-09-22 19:59:27.680] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf1d7c2fb322b95db9e668e14d69b82fc&_v=1[39m
[2017-09-22 19:59:27.680] [INFO] console - enter===>
[2017-09-22 19:59:27.681] [INFO] console - enter===>22 { code: 200, name: '1003' }
[2017-09-22 19:59:27.682] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 19:59:27.686] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf1d7c2fb322b95db9e668e14d69b82fc&_v=1[39m [32m200[39m [90m6ms[39m [90m26b[39m
[2017-09-22 19:59:30.154] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf1d7c2fb322b95db9e668e14d69b82fc&_v=2[39m
[2017-09-22 19:59:30.155] [INFO] console - enter===>
[2017-09-22 19:59:30.155] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 19:59:30.162] [INFO] console - { __v: 0,
  id: 860000044,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T11:59:30.156Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4fb22aa7fcff70fc3c9ee }
[2017-09-22 19:59:30.163] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'bldhn5gjpw33lye',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000044',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 19:59:30.461] [INFO] console - string
[2017-09-22 19:59:30.461] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[1DnwwaCxiLQaQkcI]]></nonce_str>
<sign><![CDATA[E5F9BCEEAE50228852916A5511BC5EDA]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170922195930d0ad0448d60464910146]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 19:59:30.461] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[1DnwwaCxiLQaQkcI]]></nonce_str>\n<sign><![CDATA[E5F9BCEEAE50228852916A5511BC5EDA]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170922195930d0ad0448d60464910146]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 19:59:30.462] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506081570',
     nonceStr: 'bldhn5gjpw33lye',
     signType: 'MD5',
     package: 'prepay_id=wx20170922195930d0ad0448d60464910146',
     paySign: 'A2B9E3C3C997200292FCDF6557FB91BF' } } false
[2017-09-22 19:59:30.464] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf1d7c2fb322b95db9e668e14d69b82fc&_v=2[39m [32m200[39m [90m311ms[39m [90m225b[39m
[2017-09-22 19:59:32.811] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf1d7c2fb322b95db9e668e14d69b82fc&_v=3[39m
[2017-09-22 19:59:32.813] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf1d7c2fb322b95db9e668e14d69b82fc&_v=3[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-22 20:04:33.848] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 20:04:33.853] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 20:04:33.883] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 20:04:40.582] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 20:04:40.593] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m10ms[39m [90m473b[39m
[2017-09-22 20:04:40.997] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061RMwsP0Xtdn82tMSuP0SMAsP0RMwsx&state=6688&_v=0[39m
[2017-09-22 20:04:41.002] [INFO] console - enter===>
[2017-09-22 20:04:41.188] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35e39281b727cc2e21547918ec02a05' }
[2017-09-22 20:04:41.190] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35e39281b727cc2e21547918ec02a05' } false
[2017-09-22 20:04:41.192] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=061RMwsP0Xtdn82tMSuP0SMAsP0RMwsx&state=6688&_v=0[39m [32m200[39m [90m196ms[39m [90m153b[39m
[2017-09-22 20:04:58.541] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35e39281b727cc2e21547918ec02a05&_v=1[39m
[2017-09-22 20:04:58.542] [INFO] console - enter===>
[2017-09-22 20:04:58.545] [INFO] console - goooooooo
[2017-09-22 20:04:58.549] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 20:04:58.552] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 20:04:58.553] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35e39281b727cc2e21547918ec02a05&_v=1[39m [32m200[39m [90m12ms[39m [90m26b[39m
[2017-09-22 20:04:59.462] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35e39281b727cc2e21547918ec02a05&_v=2[39m
[2017-09-22 20:04:59.463] [INFO] console - enter===>
[2017-09-22 20:04:59.465] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 20:04:59.465] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-22 20:04:59.494] [INFO] console - { __v: 0,
  id: 860000045,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T12:04:59.466Z,
  status: 0,
  way: 'wx',
  cost: 1500,
  count: 5,
  after: 0,
  _id: 59c4fc6b9540abf948cb4246 }
[2017-09-22 20:04:59.497] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '9hn6ck4c9e8nhwg',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000045',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1500,
  trade_type: 'JSAPI' }
[2017-09-22 20:04:59.772] [INFO] console - string
[2017-09-22 20:04:59.772] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[r3oBtJ9LlZVplDRO]]></nonce_str>
<sign><![CDATA[C3881361A9D1367B654F33A85F479AE5]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170922200459e4a5ab78260223778383]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 20:04:59.772] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[r3oBtJ9LlZVplDRO]]></nonce_str>\n<sign><![CDATA[C3881361A9D1367B654F33A85F479AE5]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170922200459e4a5ab78260223778383]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 20:04:59.773] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506081899',
     nonceStr: '9hn6ck4c9e8nhwg',
     signType: 'MD5',
     package: 'prepay_id=wx20170922200459e4a5ab78260223778383',
     paySign: 'B7E7551AD3E47EFE5D9C6FFC81275681' } } false
[2017-09-22 20:04:59.775] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35e39281b727cc2e21547918ec02a05&_v=2[39m [32m200[39m [90m313ms[39m [90m225b[39m
[2017-09-22 20:05:36.003] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35e39281b727cc2e21547918ec02a05&_v=3[39m
[2017-09-22 20:05:36.005] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cf35e39281b727cc2e21547918ec02a05&_v=3[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-22 20:06:33.874] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 20:06:33.891] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 20:06:51.211] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-22 20:06:51.216] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-22 20:06:51.248] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-22 20:06:51.471] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-22 20:06:51.488] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m17ms[39m [90m473b[39m
[2017-09-22 20:06:51.774] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071a3b3l0TKgvn1Jw24l0vxf3l0a3b31&state=6688&_v=0[39m
[2017-09-22 20:06:51.778] [INFO] console - enter===>
[2017-09-22 20:06:52.003] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1d9d10a451efeebfe209f0ccc18d3f3c' }
[2017-09-22 20:06:52.007] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1d9d10a451efeebfe209f0ccc18d3f3c' } false
[2017-09-22 20:06:52.009] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=071a3b3l0TKgvn1Jw24l0vxf3l0a3b31&state=6688&_v=0[39m [32m200[39m [90m235ms[39m [90m153b[39m
[2017-09-22 20:06:57.656] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1d9d10a451efeebfe209f0ccc18d3f3c&_v=1[39m
[2017-09-22 20:06:57.657] [INFO] console - enter===>
[2017-09-22 20:06:57.660] [INFO] console - goooooooo
[2017-09-22 20:06:57.666] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-22 20:06:57.668] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-22 20:06:57.669] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1d9d10a451efeebfe209f0ccc18d3f3c&_v=1[39m [32m200[39m [90m13ms[39m [90m26b[39m
[2017-09-22 20:06:58.474] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1d9d10a451efeebfe209f0ccc18d3f3c&_v=2[39m
[2017-09-22 20:06:58.476] [INFO] console - enter===>
[2017-09-22 20:06:58.477] [INFO] console - ::ffff:192.168.0.107
[2017-09-22 20:06:58.477] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-22 20:06:58.502] [INFO] console - { __v: 0,
  id: 860000046,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-22T12:06:58.478Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59c4fce282921af9d20fafde }
[2017-09-22 20:06:58.504] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'vww5a7b80pjcccc',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000046',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-22 20:06:58.735] [INFO] console - string
[2017-09-22 20:06:58.735] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[A8zxl08hkiUop6XD]]></nonce_str>
<sign><![CDATA[8F6B28507D1B1D77F93D8245342103CE]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170922200658da8517573e0792213923]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-22 20:06:58.735] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[A8zxl08hkiUop6XD]]></nonce_str>\n<sign><![CDATA[8F6B28507D1B1D77F93D8245342103CE]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170922200658da8517573e0792213923]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-22 20:06:58.737] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506082018',
     nonceStr: 'vww5a7b80pjcccc',
     signType: 'MD5',
     package: 'prepay_id=wx20170922200658da8517573e0792213923',
     paySign: 'B6354919103B74060959AC744CA6ED75' } } false
[2017-09-22 20:06:58.738] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1d9d10a451efeebfe209f0ccc18d3f3c&_v=2[39m [32m200[39m [90m264ms[39m [90m225b[39m
[2017-09-22 20:07:26.530] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1d9d10a451efeebfe209f0ccc18d3f3c&_v=3[39m
[2017-09-22 20:07:26.531] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c1d9d10a451efeebfe209f0ccc18d3f3c&_v=3[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-22 20:08:18.902] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124016610970785901724_1506082098837&code=Bi5gdxZx1Ecm20CIsrtf0WE_MBXYpYB4Yrrx2W-IjNk&state=1288Aa&_v=0&_=1506082098838[39m
[2017-09-22 20:08:18.907] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-22 20:08:18.944] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery1124016610970785901724_1506082098837&code=Bi5gdxZx1Ecm20CIsrtf0WE_MBXYpYB4Yrrx2W-IjNk&state=1288Aa&_v=0&_=1506082098838[39m [32m200[39m [90m42ms[39m [90m2b[39m
[2017-09-22 20:08:29.804] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407844847825193682_1506082109747&code=aYWMAgd6I7ouMWC7We7Q8SEdaJuy5d7z3XnNRHkU3es&state=1288Aa&_v=0&_=1506082109748[39m
[2017-09-22 20:08:29.807] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-22 20:08:29.816] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407844847825193682_1506082109747&code=aYWMAgd6I7ouMWC7We7Q8SEdaJuy5d7z3XnNRHkU3es&state=1288Aa&_v=0&_=1506082109748[39m [32m200[39m [90m12ms[39m [90m2b[39m
[2017-09-22 20:08:33.188] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240610308731417591_1506082113129&code=yahCJ5LWXla2eXQ9_cBDK0SZ2fu-l8HQUi8upD8TBck&state=1288Aa&_v=0&_=1506082113130[39m
[2017-09-22 20:08:33.190] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-22 20:08:33.196] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery11240610308731417591_1506082113129&code=yahCJ5LWXla2eXQ9_cBDK0SZ2fu-l8HQUi8upD8TBck&state=1288Aa&_v=0&_=1506082113130[39m [32m200[39m [90m8ms[39m [90m2b[39m
[2017-09-22 20:08:36.768] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407844521095217265_1506082116711&code=pmHgSKXjojaqg7dpNFmcyjUk-iFNc2DAagHaFEvKLkw&state=1288Aa&_v=0&_=1506082116712[39m
[2017-09-22 20:08:36.774] [INFO] console - enter====> client ReferenceError: req is not defined
    at _callee$ (/Users/zyg/optimization/pay/controllers/wechat.js:25:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.login (/Users/zyg/optimization/pay/controllers/wechat.js:23:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:23:35)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-22 20:08:36.781] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/v1/login?callback=jQuery112407844521095217265_1506082116711&code=pmHgSKXjojaqg7dpNFmcyjUk-iFNc2DAagHaFEvKLkw&state=1288Aa&_v=0&_=1506082116712[39m [32m200[39m [90m13ms[39m [90m2b[39m
[2017-09-22 20:08:51.240] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-22 20:08:51.245] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-23 10:59:20.330] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-23 10:59:20.335] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-23 10:59:20.362] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-23 11:01:02.994] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-23 11:01:03.000] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-23 11:01:03.032] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-23 11:03:03.122] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-23 11:03:03.137] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/dyh/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-23 12:10:30.253] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-23 12:10:30.267] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m15ms[39m [90m473b[39m
[2017-09-23 12:10:31.000] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0212Frpq0CW4ar1t90qq0T7Mpq02FrpO&state=6688&_v=0[39m
[2017-09-23 12:10:31.004] [INFO] console - enter===>
[2017-09-23 12:10:31.262] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdffd0d88d241f2664b398ddc15eaf423' }
[2017-09-23 12:10:31.264] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdffd0d88d241f2664b398ddc15eaf423' } false
[2017-09-23 12:10:31.266] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0212Frpq0CW4ar1t90qq0T7Mpq02FrpO&state=6688&_v=0[39m [32m200[39m [90m266ms[39m [90m153b[39m
[2017-09-23 12:10:38.353] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdffd0d88d241f2664b398ddc15eaf423&_v=1[39m
[2017-09-23 12:10:38.353] [INFO] console - enter===>
[2017-09-23 12:10:38.378] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-23 12:10:38.380] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-23 12:10:38.383] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdffd0d88d241f2664b398ddc15eaf423&_v=1[39m [32m200[39m [90m30ms[39m [90m26b[39m
[2017-09-23 12:10:48.848] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdffd0d88d241f2664b398ddc15eaf423&_v=2[39m
[2017-09-23 12:10:48.848] [INFO] console - enter===>
[2017-09-23 12:10:48.850] [INFO] console - ::ffff:192.168.0.107
[2017-09-23 12:10:48.851] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-23 12:10:48.902] [INFO] console - { __v: 0,
  id: 860000047,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-23T04:10:48.853Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59c5dec8a9ae1f05b2d75ba0 }
[2017-09-23 12:10:48.904] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'l9gvk1dz0evyclm',
  notify_url: 'http://120.76.182.17/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000047',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-23 12:10:49.264] [INFO] console - string
[2017-09-23 12:10:49.264] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[7DAYR63wGNG3hdft]]></nonce_str>
<sign><![CDATA[601BC661AE4A3FA7D475A2D99DC1B294]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170923121049fc071b6d150558520516]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-23 12:10:49.264] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[7DAYR63wGNG3hdft]]></nonce_str>\n<sign><![CDATA[601BC661AE4A3FA7D475A2D99DC1B294]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170923121049fc071b6d150558520516]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-23 12:10:49.266] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506139848',
     nonceStr: 'l9gvk1dz0evyclm',
     signType: 'MD5',
     package: 'prepay_id=wx20170923121049fc071b6d150558520516',
     paySign: '0A4E7416B27ED1BE3CEC26F7936248C7' } } false
[2017-09-23 12:10:49.267] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdffd0d88d241f2664b398ddc15eaf423&_v=2[39m [32m200[39m [90m419ms[39m [90m225b[39m
[2017-09-23 12:11:30.018] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdffd0d88d241f2664b398ddc15eaf423&_v=3[39m
[2017-09-23 12:11:30.022] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0cdffd0d88d241f2664b398ddc15eaf423&_v=3[39m [33m404[39m [90m4ms[39m [90m-[39m
[2017-09-23 12:12:10.114] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-23 12:12:10.119] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-23 12:12:10.133] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:5000/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:5000/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-23 12:12:10.157] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-23 12:13:30.814] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-23 12:13:30.822] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-23 12:13:30.839] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-23 12:13:30.865] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-23 12:13:35.385] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-23 12:13:35.393] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-23 12:13:35.403] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-23 12:13:35.438] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-23 12:13:49.466] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-23 12:13:49.476] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-23 12:13:49.483] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-23 12:13:49.512] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-23 12:13:52.763] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-23 12:13:52.775] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m11ms[39m [90m473b[39m
[2017-09-23 12:13:53.212] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0110du0V0iIpyY1vMq1V0fDy0V00du0u&state=6688&_v=0[39m
[2017-09-23 12:13:53.214] [INFO] console - enter===>
[2017-09-23 12:13:53.392] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8493af45e93c739a45a93944fc0798d0' }
[2017-09-23 12:13:53.393] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8493af45e93c739a45a93944fc0798d0' } false
[2017-09-23 12:13:53.394] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=0110du0V0iIpyY1vMq1V0fDy0V00du0u&state=6688&_v=0[39m [32m200[39m [90m182ms[39m [90m153b[39m
[2017-09-23 12:13:56.428] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8493af45e93c739a45a93944fc0798d0&_v=1[39m
[2017-09-23 12:13:56.429] [INFO] console - enter===>
[2017-09-23 12:13:56.436] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-23 12:13:56.438] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-23 12:13:56.439] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8493af45e93c739a45a93944fc0798d0&_v=1[39m [32m200[39m [90m11ms[39m [90m26b[39m
[2017-09-23 12:13:57.452] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8493af45e93c739a45a93944fc0798d0&_v=2[39m
[2017-09-23 12:13:57.453] [INFO] console - enter===>
[2017-09-23 12:13:57.455] [INFO] console - ::ffff:192.168.0.107
[2017-09-23 12:13:57.455] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-23 12:13:57.483] [INFO] console - { __v: 0,
  id: 860000048,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-23T04:13:57.457Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59c5df85233c950debb03214 }
[2017-09-23 12:13:57.487] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'zjqcux0gg7uop9r',
  notify_url: 'http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000048',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-23 12:13:57.763] [INFO] console - string
[2017-09-23 12:13:57.763] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[PYcp9quY3VId6pTZ]]></nonce_str>
<sign><![CDATA[6D19EC28E6ABBC668AEAD5284C6513AC]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709231213579e362827fd0942253371]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-23 12:13:57.763] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[PYcp9quY3VId6pTZ]]></nonce_str>\n<sign><![CDATA[6D19EC28E6ABBC668AEAD5284C6513AC]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709231213579e362827fd0942253371]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-23 12:13:57.764] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506140037',
     nonceStr: 'zjqcux0gg7uop9r',
     signType: 'MD5',
     package: 'prepay_id=wx201709231213579e362827fd0942253371',
     paySign: '79EE3B5CD9B4CB5B670659F3BE915EF5' } } false
[2017-09-23 12:13:57.765] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c8493af45e93c739a45a93944fc0798d0&_v=2[39m [32m200[39m [90m313ms[39m [90m225b[39m
[2017-09-23 12:15:49.507] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-23 12:22:40.972] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-23 12:22:40.977] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-23 12:22:40.987] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-23 12:22:41.022] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-25 11:55:04.905] [INFO] console -   [90m<--[39m [1mGET[22m [90m/chiying.txt?0.212957[39m
[2017-09-25 11:55:04.917] [INFO] console -   [90m-->[39m [1mGET[22m [90m/chiying.txt?0.212957[39m [33m404[39m [90m15ms[39m [90m-[39m
[2017-09-25 11:55:32.267] [INFO] console -   [90m<--[39m [1mGET[22m [90m/chiying.txt?0.207668[39m
[2017-09-25 11:55:32.272] [INFO] console -   [90m-->[39m [1mGET[22m [90m/chiying.txt?0.207668[39m [33m404[39m [90m4ms[39m [90m-[39m
[2017-09-25 11:55:55.733] [INFO] console -   [90m<--[39m [1mGET[22m [90m/chiying.txt?0.245212[39m
[2017-09-25 11:55:55.734] [INFO] console -   [90m-->[39m [1mGET[22m [90m/chiying.txt?0.245212[39m [33m404[39m [90m1ms[39m [90m-[39m
[2017-09-25 12:07:04.424] [INFO] console -   [90m<--[39m [1mGET[22m [90m/[39m
[2017-09-25 12:07:04.431] [INFO] console -   [90m-->[39m [1mGET[22m [90m/[39m [33m404[39m [90m7ms[39m [90m-[39m
[2017-09-26 14:18:05.180] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 14:18:05.189] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 14:18:05.205] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 14:18:05.238] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 14:20:05.263] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 14:37:16.759] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 14:37:16.764] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 14:37:16.773] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:5000/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:5000',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 14:37:16.797] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 14:39:16.787] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:05:08.394] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:05:08.410] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:05:08.438] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:05:08.467] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 9,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 404,
  statusText: 'Not Found',
  headers: Headers {} }
[2017-09-26 15:06:06.038] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:06:06.043] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:06:06.064] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:06:06.072] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 9,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 404,
  statusText: 'Not Found',
  headers: Headers {} }
[2017-09-26 15:06:56.264] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:06:56.279] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:06:56.306] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:06:56.314] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 9,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 404,
  statusText: 'Not Found',
  headers: Headers {} }
[2017-09-26 15:08:41.878] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m
[2017-09-26 15:08:41.898] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/page[39m [36m302[39m [90m20ms[39m [90m473b[39m
[2017-09-26 15:08:42.297] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011n90ps1MuAmp0Nwmls1Szdps1n90pA&state=6688&_v=0[39m
[2017-09-26 15:08:42.301] [INFO] console - enter===>
[2017-09-26 15:08:42.539] [INFO] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - login { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c' }
[2017-09-26 15:08:42.540] [INFO] console - enter====> client { code: 200,
  id: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  key: '873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c' } false
[2017-09-26 15:08:42.541] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/login?code=011n90ps1MuAmp0Nwmls1Szdps1n90pA&state=6688&_v=0[39m [32m200[39m [90m244ms[39m [90m153b[39m
[2017-09-26 15:08:56.293] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:09:32.814] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=1[39m
[2017-09-26 15:09:32.816] [INFO] console - enter===>
[2017-09-26 15:09:32.827] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-26 15:09:32.829] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 15:09:32.830] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=1[39m [32m200[39m [90m16ms[39m [90m26b[39m
[2017-09-26 15:09:33.963] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=2[39m
[2017-09-26 15:09:33.964] [INFO] console - enter===>
[2017-09-26 15:09:33.965] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:09:33.966] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-26 15:09:34.001] [INFO] console - { __v: 0,
  id: 860000049,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:09:33.967Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59c9fd2d4d5886b9d1bf37ba }
[2017-09-26 15:09:34.003] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'vud6landl8l8fcc',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000049',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-26 15:09:34.275] [INFO] console - string
[2017-09-26 15:09:34.275] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[VkOuOlvbIKtl3kEP]]></nonce_str>
<sign><![CDATA[2085FB79F7E41EDBA98D66F125A7F29C]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170926150934f0322310bb0484722278]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-26 15:09:34.276] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[VkOuOlvbIKtl3kEP]]></nonce_str>\n<sign><![CDATA[2085FB79F7E41EDBA98D66F125A7F29C]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170926150934f0322310bb0484722278]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-26 15:09:34.278] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506409774',
     nonceStr: 'vud6landl8l8fcc',
     signType: 'MD5',
     package: 'prepay_id=wx20170926150934f0322310bb0484722278',
     paySign: 'A0683B99A6408BEDC1146BB81C85077A' } } false
[2017-09-26 15:09:34.280] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=2[39m [32m200[39m [90m317ms[39m [90m225b[39m
[2017-09-26 15:09:48.394] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=3[39m
[2017-09-26 15:09:48.396] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=3[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-26 15:09:51.462] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=4[39m
[2017-09-26 15:09:51.463] [INFO] console - enter===>
[2017-09-26 15:09:51.464] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:09:51.465] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-26 15:09:51.469] [INFO] console - { __v: 0,
  id: 860000050,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:09:51.465Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59c9fd3f4d5886b9d1bf37bb }
[2017-09-26 15:09:51.472] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 't60qwqkjo8p0s1x',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000050',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-26 15:09:51.769] [INFO] console - string
[2017-09-26 15:09:51.769] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[tTpHyD0AkiGCmOcN]]></nonce_str>
<sign><![CDATA[1759D55FD2B8DEC679D349982B6DD4B0]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170926150951b931c49bb30619159941]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-26 15:09:51.771] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[tTpHyD0AkiGCmOcN]]></nonce_str>\n<sign><![CDATA[1759D55FD2B8DEC679D349982B6DD4B0]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170926150951b931c49bb30619159941]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-26 15:09:51.772] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506409791',
     nonceStr: 't60qwqkjo8p0s1x',
     signType: 'MD5',
     package: 'prepay_id=wx20170926150951b931c49bb30619159941',
     paySign: '773FA444E723287A42EBE4F1D0E93613' } } false
[2017-09-26 15:09:51.773] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=4[39m [32m200[39m [90m311ms[39m [90m225b[39m
[2017-09-26 15:12:32.514] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:12:32.521] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:12:32.544] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:12:32.589] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 9,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 404,
  statusText: 'Not Found',
  headers: Headers {} }
[2017-09-26 15:13:46.878] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:13:46.885] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:13:46.910] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:13:46.982] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:14:29.667] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=5[39m
[2017-09-26 15:14:29.673] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=5[39m [33m404[39m [90m7ms[39m [90m-[39m
[2017-09-26 15:14:31.037] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=6[39m
[2017-09-26 15:14:31.045] [INFO] console - enter===>
[2017-09-26 15:14:31.046] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:14:31.050] [INFO] console - enter===>22 { code: 501 }
[2017-09-26 15:14:31.051] [INFO] console - enter====> client { code: 501 } false
[2017-09-26 15:14:31.055] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=6[39m [32m200[39m [90m18ms[39m [90m12b[39m
[2017-09-26 15:14:33.299] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=7[39m
[2017-09-26 15:14:33.300] [INFO] console - enter===>
[2017-09-26 15:14:33.300] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:14:33.301] [INFO] console - enter===>22 { code: 501 }
[2017-09-26 15:14:33.301] [INFO] console - enter====> client { code: 501 } false
[2017-09-26 15:14:33.303] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=7[39m [32m200[39m [90m4ms[39m [90m12b[39m
[2017-09-26 15:14:35.684] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=8[39m
[2017-09-26 15:14:35.684] [INFO] console - enter===>
[2017-09-26 15:14:35.694] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-26 15:14:35.696] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 15:14:35.697] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=8[39m [32m200[39m [90m14ms[39m [90m26b[39m
[2017-09-26 15:14:36.564] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=9[39m
[2017-09-26 15:14:36.564] [INFO] console - enter===>
[2017-09-26 15:14:36.565] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:14:36.565] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-26 15:14:36.592] [INFO] console - { __v: 0,
  id: 860000051,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:14:36.566Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59c9fe5ce9188fbbbec630be }
[2017-09-26 15:14:36.593] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: '4nvrx9vp7k54cx0',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000051',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-26 15:14:36.893] [INFO] console - string
[2017-09-26 15:14:36.894] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[MHoFk7uxFIfhPomM]]></nonce_str>
<sign><![CDATA[B0B3B0C31A6CF9B56B4EDD6EB12C68E5]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709261514360864c808cb0041037448]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-26 15:14:36.895] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[MHoFk7uxFIfhPomM]]></nonce_str>\n<sign><![CDATA[B0B3B0C31A6CF9B56B4EDD6EB12C68E5]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709261514360864c808cb0041037448]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-26 15:14:36.897] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506410076',
     nonceStr: '4nvrx9vp7k54cx0',
     signType: 'MD5',
     package: 'prepay_id=wx201709261514360864c808cb0041037448',
     paySign: '1D194A25C952532FF4BE17813D1CD951' } } false
[2017-09-26 15:14:36.899] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=9[39m [32m200[39m [90m335ms[39m [90m225b[39m
[2017-09-26 15:15:46.965] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:19:43.697] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:19:43.705] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:19:43.716] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:19:43.751] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:21:08.877] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:21:08.882] [INFO] console - enter===>
[2017-09-26 15:21:08.885] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: (0 , _load.load) is not a function
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:152:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-26 15:21:08.909] [INFO] console - enter===>22 TypeError: (0 , _load.load) is not a function
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:152:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-26 15:21:08.910] [INFO] console - enter====> client TypeError: (0 , _load.load) is not a function
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:152:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-26 15:21:08.916] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m38ms[39m [90m2b[39m
[2017-09-26 15:21:13.294] [INFO] console -   [90m<--[39m [1mPOST[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:21:13.296] [INFO] console -   [90m-->[39m [1mPOST[22m [90m/api/wechat/dyh/v1/wxnotify[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-26 15:21:43.807] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:22:09.357] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:22:09.363] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:22:09.374] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:22:09.404] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:22:10.481] [INFO] console -   [90m<--[39m [1mPOST[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:22:10.491] [INFO] console -   [90m-->[39m [1mPOST[22m [90m/api/wechat/dyh/v1/wxnotify[39m [33m404[39m [90m9ms[39m [90m-[39m
[2017-09-26 15:22:22.383] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:22:22.390] [INFO] console - enter===>
[2017-09-26 15:22:22.392] [INFO] console - undefined
[2017-09-26 15:22:22.393] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: (0 , _load.load) is not a function
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:153:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-26 15:22:22.414] [INFO] console - enter===>22 TypeError: (0 , _load.load) is not a function
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:153:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
[2017-09-26 15:22:22.415] [INFO] console - enter====> client TypeError: (0 , _load.load) is not a function
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:153:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at /Users/zyg/optimization/pay/utils/wrapRoute.js:5:3
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32)
    at next (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:45:18)
    at /Users/zyg/optimization/pay/node_modules/.7.2.1@koa-router/lib/router.js:345:16
    at dispatch (/Users/zyg/optimization/pay/node_modules/.3.2.1@koa-compose/index.js:44:32) false
[2017-09-26 15:22:22.418] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m35ms[39m [90m2b[39m
[2017-09-26 15:22:46.231] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:22:46.237] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:22:46.255] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:22:46.289] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:22:56.843] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:22:56.849] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:22:56.861] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:22:56.892] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:23:08.177] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:23:08.182] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:23:08.194] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:23:08.218] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:23:12.903] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:23:12.911] [INFO] console - enter===>
[2017-09-26 15:23:12.913] [INFO] console - [Function: load]
[2017-09-26 15:23:12.915] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: stream.on is not a function
    at _callee$ (/Users/zyg/optimization/pay/utils/load.js:4:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at load (/Users/zyg/optimization/pay/utils/load.js:2:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:153:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-26 15:23:12.936] [INFO] console - enter===>22 TypeError: stream.on is not a function
    at _callee$ (/Users/zyg/optimization/pay/utils/load.js:4:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at load (/Users/zyg/optimization/pay/utils/load.js:2:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:153:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
[2017-09-26 15:23:12.937] [INFO] console - enter====> client TypeError: stream.on is not a function
    at _callee$ (/Users/zyg/optimization/pay/utils/load.js:4:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at load (/Users/zyg/optimization/pay/utils/load.js:2:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:153:21)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.wxnotify (/Users/zyg/optimization/pay/controllers/dyh.js:148:7)
    at _callee$ (/Users/zyg/optimization/pay/utils/wrapRoute.js:60:33)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21) false
[2017-09-26 15:23:12.944] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m41ms[39m [90m2b[39m
[2017-09-26 15:24:21.321] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:24:21.327] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:24:21.339] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:24:21.475] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:24:26.621] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:24:26.626] [INFO] console - enter===>
[2017-09-26 15:24:26.629] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:154:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:24:26.650] [INFO] console - enter===>22 TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:154:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:24:26.651] [INFO] console - enter====> client TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:154:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13 false
[2017-09-26 15:24:26.658] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m38ms[39m [90m2b[39m
[2017-09-26 15:25:13.215] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:25:13.222] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:25:13.229] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:25:13.255] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:25:14.094] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:25:14.098] [INFO] console - enter===>
[2017-09-26 15:25:14.100] [INFO] console - undefined
[2017-09-26 15:25:14.101] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:25:14.115] [INFO] console - enter===>22 TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:25:14.116] [INFO] console - enter====> client TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13 false
[2017-09-26 15:25:14.122] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m28ms[39m [90m2b[39m
[2017-09-26 15:27:13.250] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:27:29.334] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:27:29.347] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:27:29.363] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:27:29.388] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:27:34.059] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:27:34.069] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:27:34.078] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:27:34.118] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:27:40.889] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:27:40.900] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketErrorListener (_http_client.js:310:9)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at emitErrorNT (net.js:1278:8)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify failed, reason: connect ECONNREFUSED 120.76.182.17:8085',
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED' }
[2017-09-26 15:27:40.910] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:27:40.937] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:29:32.942] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=10[39m
[2017-09-26 15:29:32.949] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=10[39m [33m404[39m [90m6ms[39m [90m-[39m
[2017-09-26 15:29:35.791] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=11[39m
[2017-09-26 15:29:35.796] [INFO] console - enter===>
[2017-09-26 15:29:35.803] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-26 15:29:35.806] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 15:29:35.808] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=11[39m [32m200[39m [90m17ms[39m [90m26b[39m
[2017-09-26 15:29:36.678] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=12[39m
[2017-09-26 15:29:36.679] [INFO] console - enter===>
[2017-09-26 15:29:36.680] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:29:36.681] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-26 15:29:36.703] [INFO] console - { __v: 0,
  id: 860000052,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:29:36.682Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59ca01e09795afc0498ec50b }
[2017-09-26 15:29:36.705] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'qiu5jxydu3zx7tc',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000052',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-26 15:29:36.968] [INFO] console - string
[2017-09-26 15:29:36.968] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[A1gEFscIba3L8MQG]]></nonce_str>
<sign><![CDATA[3C485BA930D7DC1B5368CB841D18A996]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170926152936603545f9740379631111]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-26 15:29:36.968] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[A1gEFscIba3L8MQG]]></nonce_str>\n<sign><![CDATA[3C485BA930D7DC1B5368CB841D18A996]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170926152936603545f9740379631111]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-26 15:29:36.969] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506410976',
     nonceStr: 'qiu5jxydu3zx7tc',
     signType: 'MD5',
     package: 'prepay_id=wx20170926152936603545f9740379631111',
     paySign: 'E312AFA4126313BD26BF19B37F561FE9' } } false
[2017-09-26 15:29:36.971] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=12[39m [32m200[39m [90m293ms[39m [90m225b[39m
[2017-09-26 15:29:40.934] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:31:15.437] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=13[39m
[2017-09-26 15:31:15.439] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=13[39m [33m404[39m [90m2ms[39m [90m-[39m
[2017-09-26 15:31:17.707] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=14[39m
[2017-09-26 15:31:17.707] [INFO] console - enter===>
[2017-09-26 15:31:17.708] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:31:17.708] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-26 15:31:17.712] [INFO] console - { __v: 0,
  id: 860000053,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:31:17.708Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59ca02459795afc0498ec50c }
[2017-09-26 15:31:17.713] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'etqufxgwqx7owj2',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000053',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-26 15:31:17.936] [INFO] console - string
[2017-09-26 15:31:17.937] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[Q3nHMmMJ5mZTaBkX]]></nonce_str>
<sign><![CDATA[4585C5942694F0FCDA07B70B2C29082B]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx201709261531172b1bda7e1d0309391420]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-26 15:31:17.937] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[Q3nHMmMJ5mZTaBkX]]></nonce_str>\n<sign><![CDATA[4585C5942694F0FCDA07B70B2C29082B]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx201709261531172b1bda7e1d0309391420]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-26 15:31:17.938] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506411077',
     nonceStr: 'etqufxgwqx7owj2',
     signType: 'MD5',
     package: 'prepay_id=wx201709261531172b1bda7e1d0309391420',
     paySign: '347F83B11938176D51C806D066A816B2' } } false
[2017-09-26 15:31:17.941] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=14[39m [32m200[39m [90m235ms[39m [90m225b[39m
[2017-09-26 15:32:55.714] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:32:55.719] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:32:55.745] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:32:55.776] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:33:02.394] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:33:02.400] [INFO] console - enter===>
[2017-09-26 15:33:02.401] [INFO] console - sbsbsbs
[2017-09-26 15:33:02.402] [INFO] console - undefined
[2017-09-26 15:33:02.403] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:33:02.427] [INFO] console - enter===>22 TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:33:02.427] [INFO] console - enter====> client TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13 false
[2017-09-26 15:33:02.435] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m41ms[39m [90m2b[39m
[2017-09-26 15:33:54.702] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:33:54.707] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:33:54.733] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:33:54.781] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:34:49.692] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:34:49.703] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:34:49.747] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:34:49.767] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:35:04.027] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:35:04.035] [INFO] console - enter===>
[2017-09-26 15:35:04.037] [INFO] console - sbsbsbs
[2017-09-26 15:35:04.038] [INFO] console - sbsbsbs555555
[2017-09-26 15:35:04.043] [INFO] console - undefined
[2017-09-26 15:35:04.045] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:35:04.076] [INFO] console - enter===>22 TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:35:04.077] [INFO] console - enter====> client TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13 false
[2017-09-26 15:35:04.084] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m57ms[39m [90m2b[39m
[2017-09-26 15:35:04.084] [INFO] console - sbsbsbs2233333
[2017-09-26 15:35:32.227] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:35:32.233] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:35:32.261] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:35:32.287] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:35:35.331] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:35:35.337] [INFO] console - enter===>
[2017-09-26 15:35:35.341] [INFO] console - sbsbsbs
[2017-09-26 15:35:35.341] [INFO] console - sbsbsbs555555
[2017-09-26 15:35:35.342] [INFO] console - undefined
[2017-09-26 15:35:35.343] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:35:35.363] [INFO] console - enter===>22 TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:35:35.364] [INFO] console - enter====> client TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13 false
[2017-09-26 15:35:35.370] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m38ms[39m [90m2b[39m
[2017-09-26 15:35:35.370] [INFO] console - sbsbsbs2233333 []
[2017-09-26 15:36:07.365] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:36:07.366] [INFO] console - enter===>
[2017-09-26 15:36:07.367] [INFO] console - sbsbsbs
[2017-09-26 15:36:07.367] [INFO] console - sbsbsbs555555
[2017-09-26 15:36:07.367] [INFO] console - undefined
[2017-09-26 15:36:07.369] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:36:07.373] [INFO] console - enter===>22 TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:36:07.374] [INFO] console - enter====> client TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13 false
[2017-09-26 15:36:07.378] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m12ms[39m [90m2b[39m
[2017-09-26 15:36:07.378] [INFO] console - sbsbsbs2233333 []
[2017-09-26 15:36:21.092] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:36:21.105] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:36:21.134] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:36:21.167] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:36:21.773] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:36:21.779] [INFO] console - enter===>
[2017-09-26 15:36:21.781] [INFO] console - sbsbsbs
[2017-09-26 15:36:21.781] [INFO] console - sbsbsbs555555
[2017-09-26 15:36:21.783] [INFO] console - undefined
[2017-09-26 15:36:21.784] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:36:21.808] [INFO] console - enter===>22 TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
[2017-09-26 15:36:21.809] [INFO] console - enter====> client TypeError: Cannot read property 'toString' of undefined
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:155:11)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13 false
[2017-09-26 15:36:21.815] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m44ms[39m [90m2b[39m
[2017-09-26 15:36:21.815] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:38:04.508] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:38:04.513] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:38:04.537] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:38:04.570] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:38:08.068] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:38:08.072] [INFO] console - enter===>
[2017-09-26 15:38:08.073] [INFO] console - sbsbsbs
[2017-09-26 15:38:08.074] [INFO] console - sbsbsbs555555
[2017-09-26 15:38:08.076] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:38:08.077] [INFO] console - <Buffer >
[2017-09-26 15:38:08.078] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-26 15:38:08.102] [INFO] console - enter===>22 { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-26 15:38:08.103] [INFO] console - enter====> client { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' } false
[2017-09-26 15:38:08.110] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m43ms[39m [90m17b[39m
[2017-09-26 15:38:34.998] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:38:35.003] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:38:35.027] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:38:35.065] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:39:11.574] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=15[39m
[2017-09-26 15:39:11.581] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=15[39m [33m404[39m [90m7ms[39m [90m-[39m
[2017-09-26 15:39:18.082] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=16[39m
[2017-09-26 15:39:18.087] [INFO] console - enter===>
[2017-09-26 15:39:18.093] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-26 15:39:18.095] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 15:39:18.098] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=16[39m [32m200[39m [90m16ms[39m [90m26b[39m
[2017-09-26 15:39:18.953] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=17[39m
[2017-09-26 15:39:18.955] [INFO] console - enter===>
[2017-09-26 15:39:18.957] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:39:18.957] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-26 15:39:18.981] [INFO] console - { __v: 0,
  id: 860000054,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:39:18.958Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59ca0426ccabdac390fcb89f }
[2017-09-26 15:39:18.984] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'mdvgvriwea9vyrb',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000054',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-26 15:39:19.279] [INFO] console - string
[2017-09-26 15:39:19.280] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[jHVypk0eccUr415n]]></nonce_str>
<sign><![CDATA[6F1CE51A1AB885558D5505ECDAA999FA]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx20170926153919168641d6cd0314189405]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-26 15:39:19.280] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[jHVypk0eccUr415n]]></nonce_str>\n<sign><![CDATA[6F1CE51A1AB885558D5505ECDAA999FA]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx20170926153919168641d6cd0314189405]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-26 15:39:19.282] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506411558',
     nonceStr: 'mdvgvriwea9vyrb',
     signType: 'MD5',
     package: 'prepay_id=wx20170926153919168641d6cd0314189405',
     paySign: '49A7C38DCB68131411141640BB2CD0B9' } } false
[2017-09-26 15:39:19.285] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=17[39m [32m200[39m [90m332ms[39m [90m225b[39m
[2017-09-26 15:39:35.963] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=18[39m
[2017-09-26 15:39:35.966] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=18[39m [33m404[39m [90m3ms[39m [90m-[39m
[2017-09-26 15:40:35.025] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:42:01.917] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:42:01.923] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:42:01.961] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:42:01.981] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:42:03.888] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:42:03.893] [INFO] console - enter===>
[2017-09-26 15:42:03.895] [INFO] console - sbsbsbs
[2017-09-26 15:42:03.895] [INFO] console - sbsbsbs555555
[2017-09-26 15:42:03.897] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:42:03.897] [INFO] console - 
[2017-09-26 15:42:03.899] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-26 15:42:03.926] [INFO] console - enter===>22 { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-26 15:42:03.927] [INFO] console - enter====> client { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' } false
[2017-09-26 15:42:03.936] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m48ms[39m [90m17b[39m
[2017-09-26 15:42:05.673] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:42:05.674] [INFO] console - enter===>
[2017-09-26 15:42:05.674] [INFO] console - sbsbsbs
[2017-09-26 15:42:05.675] [INFO] console - sbsbsbs555555
[2017-09-26 15:42:05.675] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:42:05.676] [INFO] console - 
[2017-09-26 15:42:05.676] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-26 15:42:05.677] [INFO] console - enter===>22 { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-26 15:42:05.678] [INFO] console - enter====> client { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' } false
[2017-09-26 15:42:05.680] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m7ms[39m [90m17b[39m
[2017-09-26 15:42:40.670] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:42:40.676] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:42:40.704] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:42:40.744] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:42:41.001] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:42:41.006] [INFO] console - enter===>
[2017-09-26 15:42:41.008] [INFO] console - sbsbsbs
[2017-09-26 15:42:41.008] [INFO] console - sbsbsbs555555
[2017-09-26 15:42:41.009] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:42:41.010] [INFO] console - 12312 
[2017-09-26 15:42:41.013] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-26 15:42:41.039] [INFO] console - enter===>22 { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' }
[2017-09-26 15:42:41.040] [INFO] console - enter====> client { Wechat: body is empty
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:157:22)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'Wechat' } false
[2017-09-26 15:42:41.046] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m45ms[39m [90m17b[39m
[2017-09-26 15:43:51.583] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:43:51.591] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:43:51.656] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:43:51.673] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:43:53.898] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:43:53.904] [INFO] console - enter===>
[2017-09-26 15:43:53.907] [INFO] console - sbsbsbs
[2017-09-26 15:43:53.907] [INFO] console - sbsbsbs555555
[2017-09-26 15:43:53.909] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:43:53.909] [INFO] console - 12312 123123123123
[2017-09-26 15:43:53.912] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:169:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:43:53.935] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:220:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:43:53.943] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:220:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 15:43:53.951] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m53ms[39m [90m2b[39m
[2017-09-26 15:43:54.868] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:43:54.868] [INFO] console - enter===>
[2017-09-26 15:43:54.869] [INFO] console - sbsbsbs
[2017-09-26 15:43:54.869] [INFO] console - sbsbsbs555555
[2017-09-26 15:43:54.869] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:43:54.869] [INFO] console - 12312 123123123123
[2017-09-26 15:43:54.871] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:169:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:43:54.872] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:220:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:43:54.874] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:220:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 15:43:54.876] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m8ms[39m [90m2b[39m
[2017-09-26 15:44:23.719] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:44:23.743] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:44:23.790] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:44:23.795] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:44:23.800] [INFO] console - enter===>
[2017-09-26 15:44:23.802] [INFO] console - sbsbsbs
[2017-09-26 15:44:23.802] [INFO] console - sbsbsbs555555
[2017-09-26 15:44:23.803] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:44:23.805] [INFO] console - 12312 <Buffer 31 32 33 31 32 33 31 32 33 31 32 33> 123123123123
[2017-09-26 15:44:23.808] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:169:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:44:23.830] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:220:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:44:23.839] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:220:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 15:44:23.847] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m52ms[39m [90m2b[39m
[2017-09-26 15:44:23.863] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:44:31.406] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:44:31.407] [INFO] console - enter===>
[2017-09-26 15:44:31.407] [INFO] console - sbsbsbs
[2017-09-26 15:44:31.408] [INFO] console - sbsbsbs555555
[2017-09-26 15:44:31.408] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:44:31.408] [INFO] console - 12312 <Buffer 31 32 33 31 32 33 31 32 33 31 32 33> 123123123123
[2017-09-26 15:44:31.411] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:169:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:44:31.413] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:220:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:44:31.415] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:220:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 15:44:31.417] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m11ms[39m [90m2b[39m
[2017-09-26 15:46:23.857] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:52:04.142] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=19[39m
[2017-09-26 15:52:04.144] [INFO] console - enter===>
[2017-09-26 15:52:04.156] [INFO] console - { _id: 59aa1e178f182c37556d604e,
  id: 10000,
  openid: '1003',
  __v: 0,
  head: 'http://wx.qlogo.cn/mmopen/PiajxSqBRaEIrZyEsQIv1C5Uxiac0wicaICWticoLSCc4IVTIg4gegs5a4TicI79Zk35CrqVXILIkFibDwjRHcPjn9hQ/0',
  name: '1003',
  sex: 1,
  enable: true,
  lastLogin: 2017-09-19T02:08:58.905Z }
[2017-09-26 15:52:04.158] [INFO] console - enter====> client { code: 200, name: '1003' } false
[2017-09-26 15:52:04.160] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getusername?uid=10000&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=19[39m [32m200[39m [90m18ms[39m [90m26b[39m
[2017-09-26 15:52:06.000] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=20[39m
[2017-09-26 15:52:06.002] [INFO] console - enter===>
[2017-09-26 15:52:06.004] [INFO] console - ::ffff:192.168.0.107
[2017-09-26 15:52:06.005] [INFO] console - 15 10000 owhU5wTjaXvop_zknhZYp_dNR3KM
[2017-09-26 15:52:06.037] [INFO] console - { __v: 0,
  id: 860000055,
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  userid: '10000',
  date: 2017-09-26T07:52:06.007Z,
  status: 0,
  way: 'wx',
  cost: 1,
  count: 5,
  after: 0,
  _id: 59ca0726669915c5912cd15c }
[2017-09-26 15:52:06.039] [INFO] console - { appid: 'wxfe1105bf0e4beb05',
  attach: '充值',
  body: '充值5钻石',
  mch_id: '1433459502',
  nonce_str: 'pgzpm08ajwywgd1',
  notify_url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  openid: 'owhU5wTjaXvop_zknhZYp_dNR3KM',
  out_trade_no: 'ruijing860000055',
  spbill_create_ip: '192.168.0.107',
  total_fee: 1,
  trade_type: 'JSAPI' }
[2017-09-26 15:52:06.292] [INFO] console - string
[2017-09-26 15:52:06.292] [INFO] console - <xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[k8Hypdi4HsvHElrC]]></nonce_str>
<sign><![CDATA[9F43AE1981ED26FF1FCF5FCC4E3DD7E2]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx2017092615520643a0964f1b0795497726]]></prepay_id>
<trade_type><![CDATA[JSAPI]]></trade_type>
</xml>
[2017-09-26 15:52:06.292] [INFO] console - [ '<xml><return_code><![CDATA[SUCCESS]]></return_code>\n<return_msg><![CDATA[OK]]></return_msg>\n<appid><![CDATA[wxfe1105bf0e4beb05]]></appid>\n<mch_id><![CDATA[1433459502]]></mch_id>\n<nonce_str><![CDATA[k8Hypdi4HsvHElrC]]></nonce_str>\n<sign><![CDATA[9F43AE1981ED26FF1FCF5FCC4E3DD7E2]]></sign>\n<result_code><![CDATA[SUCCESS]]></result_code>\n',
  '<![CDATA[wx2017092615520643a0964f1b0795497726]]></prepay_id>\n<trade_type><![CDATA[JSAPI]]></trade_type>\n</xml>' ]
[2017-09-26 15:52:06.293] [INFO] console - enter====> client { code: 200,
  data: 
   { appId: 'wxfe1105bf0e4beb05',
     timeStamp: '1506412326',
     nonceStr: 'pgzpm08ajwywgd1',
     signType: 'MD5',
     package: 'prepay_id=wx2017092615520643a0964f1b0795497726',
     paySign: '174F3F6EDDF34359291C6B2C0EFBAD05' } } false
[2017-09-26 15:52:06.295] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/order?uid=10000&pid=15&id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=20[39m [32m200[39m [90m295ms[39m [90m225b[39m
[2017-09-26 15:52:18.853] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=21[39m
[2017-09-26 15:52:18.857] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/getcard?id=owhU5wTjaXvop_zknhZYp_dNR3KM&key=873ab82af94fc82fc7b044201291613c1f6e034bf704b6c1010c9619e774cc0c40a53596aa36727d40109cf355a2e05c&_v=21[39m [33m404[39m [90m4ms[39m [90m-[39m
[2017-09-26 15:53:00.205] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:53:00.213] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:53:00.248] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:53:00.252] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:53:00.256] [INFO] console - enter===>
[2017-09-26 15:53:00.258] [INFO] console - sbsbsbs
[2017-09-26 15:53:00.258] [INFO] console - sbsbsbs555555
[2017-09-26 15:53:00.259] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:53:00.264] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:186:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:53:00.290] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:237:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:53:00.297] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:237:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 15:53:00.303] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m51ms[39m [90m2b[39m
[2017-09-26 15:53:00.312] [DEBUG] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - Response {
  body: 
   PassThrough {
     _readableState: 
      ReadableState {
        objectMode: false,
        highWaterMark: 16384,
        buffer: [Object],
        length: 2,
        pipes: null,
        pipesCount: 0,
        flowing: null,
        ended: true,
        endEmitted: false,
        reading: false,
        sync: false,
        needReadable: false,
        emittedReadable: true,
        readableListening: false,
        resumeScheduled: false,
        defaultEncoding: 'utf8',
        ranOut: false,
        awaitDrain: 0,
        readingMore: false,
        decoder: null,
        encoding: null },
     readable: true,
     domain: null,
     _events: { end: [Object] },
     _eventsCount: 1,
     _maxListeners: undefined,
     _writableState: 
      WritableState {
        objectMode: false,
        highWaterMark: 16384,
        needDrain: false,
        ending: true,
        ended: true,
        finished: true,
        decodeStrings: true,
        defaultEncoding: 'utf8',
        length: 0,
        writing: false,
        corked: 0,
        sync: false,
        bufferProcessing: false,
        onwrite: [Function],
        writecb: null,
        writelen: 0,
        bufferedRequest: null,
        lastBufferedRequest: null,
        pendingcb: 0,
        prefinished: true,
        errorEmitted: false,
        bufferedRequestCount: 0,
        corkedRequestsFree: [Object] },
     writable: false,
     allowHalfOpen: true,
     _transformState: 
      TransformState {
        afterTransform: [Function],
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: 'buffer' } },
  size: 0,
  timeout: 0,
  url: 'http://120.76.182.17:8085/api/wechat/dyh/v1/wxnotify',
  status: 201,
  statusText: 'Created',
  headers: Headers {} }
[2017-09-26 15:53:09.241] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:53:09.242] [INFO] console - enter===>
[2017-09-26 15:53:09.242] [INFO] console - sbsbsbs
[2017-09-26 15:53:09.242] [INFO] console - sbsbsbs555555
[2017-09-26 15:53:09.243] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:53:09.244] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:186:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:53:09.251] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:237:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:53:09.253] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:237:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 15:53:09.255] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m14ms[39m [90m2b[39m
[2017-09-26 15:55:00.335] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:55:27.002] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:55:27.011] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:55:27.049] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:55:29.364] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 15:55:29.368] [INFO] console - enter===>
[2017-09-26 15:55:29.369] [INFO] console - sbsbsbs
[2017-09-26 15:55:29.369] [INFO] console - sbsbsbs555555
[2017-09-26 15:55:29.370] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 15:55:29.375] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - TypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:186:31)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:55:29.401] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:237:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 15:55:29.409] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:237:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 15:55:29.416] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m53ms[39m [90m2b[39m
[2017-09-26 15:57:27.083] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 15:59:33.765] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:59:33.786] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:59:33.825] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 15:59:45.282] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 15:59:45.288] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 15:59:45.315] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:00:12.389] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:00:12.395] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:00:12.425] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:00:22.114] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:00:22.130] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:00:22.170] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:00:22.233] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:00:22.239] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:00:22.264] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:01:27.901] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:01:27.909] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:01:27.937] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:01:36.722] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:01:36.728] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:01:36.764] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:01:36.952] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:01:36.958] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:01:36.986] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:01:39.945] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:01:39.954] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:01:39.989] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:01:42.254] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:01:42.258] [INFO] console - enter===>
[2017-09-26 16:01:42.260] [INFO] console - sbsbsbs
[2017-09-26 16:01:42.260] [INFO] console - sbsbsbs555555
[2017-09-26 16:01:42.261] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:01:42.266] [INFO] console - sbsbsdbsbsb undefined
[2017-09-26 16:01:42.267] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:191:39)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:01:42.308] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:240:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:01:42.310] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:240:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:01:42.338] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m85ms[39m [90m2b[39m
[2017-09-26 16:01:42.339] [ERROR] console - (node:51750) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): BadMessageTypeError: Cannot read property 'toString' of undefined
[2017-09-26 16:02:03.232] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:02:03.238] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:02:03.268] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:02:14.561] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:02:14.570] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:02:14.614] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:02:15.145] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:02:15.150] [INFO] console - enter===>
[2017-09-26 16:02:15.151] [INFO] console - sbsbsbs
[2017-09-26 16:02:15.152] [INFO] console - sbsbsbs555555
[2017-09-26 16:02:15.153] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:02:15.154] [INFO] console - sbsbsbs
[2017-09-26 16:02:15.157] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { BadMessageTypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at /Users/zyg/optimization/pay/utils/load.js:25:16
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at _callee2$ (/Users/zyg/optimization/pay/utils/load.js:24:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at parseString (/Users/zyg/optimization/pay/utils/load.js:22:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:188:24)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'BadMessageTypeError' }
[2017-09-26 16:02:15.181] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:240:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:02:15.190] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:240:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:02:15.198] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m52ms[39m [90m2b[39m
[2017-09-26 16:02:49.886] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:02:49.891] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:02:49.917] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:02:52.975] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:02:52.980] [INFO] console - enter===>
[2017-09-26 16:02:52.982] [INFO] console - sbsbsbs
[2017-09-26 16:02:52.982] [INFO] console - sbsbsbs555555
[2017-09-26 16:02:52.984] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:02:52.986] [INFO] console - sbsbsbs undefined
[2017-09-26 16:02:52.990] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { BadMessageTypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at /Users/zyg/optimization/pay/utils/load.js:25:16
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at _callee2$ (/Users/zyg/optimization/pay/utils/load.js:24:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at parseString (/Users/zyg/optimization/pay/utils/load.js:22:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:188:24)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'BadMessageTypeError' }
[2017-09-26 16:02:53.014] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:240:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:02:53.027] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:240:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:02:53.034] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m58ms[39m [90m2b[39m
[2017-09-26 16:03:46.184] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:03:46.190] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:03:46.215] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:03:47.611] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:03:47.615] [INFO] console - enter===>
[2017-09-26 16:03:47.617] [INFO] console - sbsbsbs
[2017-09-26 16:03:47.617] [INFO] console - sbsbsbs555555
[2017-09-26 16:03:47.620] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:03:47.623] [INFO] console - undefined
[2017-09-26 16:03:47.625] [INFO] console - sbsbsbs undefined
[2017-09-26 16:03:47.629] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { BadMessageTypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at /Users/zyg/optimization/pay/utils/load.js:25:16
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at _callee2$ (/Users/zyg/optimization/pay/utils/load.js:24:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at parseString (/Users/zyg/optimization/pay/utils/load.js:22:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:189:24)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'BadMessageTypeError' }
[2017-09-26 16:03:47.655] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:241:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:03:47.661] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:241:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:03:47.670] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m60ms[39m [90m2b[39m
[2017-09-26 16:05:46.266] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:06:38.084] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:06:38.089] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:06:38.113] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:06:41.649] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:06:41.656] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:06:41.690] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:07:06.279] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:07:06.284] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:07:06.308] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:08:05.538] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:08:05.551] [INFO] console - enter===>
[2017-09-26 16:08:05.554] [INFO] console - sbsbsbs
[2017-09-26 16:08:05.554] [INFO] console - sbsbsbs555555
[2017-09-26 16:08:05.556] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:08:05.560] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:08:05.560] [INFO] console - undefined
[2017-09-26 16:08:05.561] [INFO] console - sbsbsbs undefined
[2017-09-26 16:08:05.567] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { BadMessageTypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at /Users/zyg/optimization/pay/utils/load.js:25:16
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at _callee2$ (/Users/zyg/optimization/pay/utils/load.js:24:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at parseString (/Users/zyg/optimization/pay/utils/load.js:22:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:189:24)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'BadMessageTypeError' }
[2017-09-26 16:08:05.735] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:241:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:08:05.746] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:241:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:08:05.756] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m217ms[39m [90m2b[39m
[2017-09-26 16:09:06.328] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:10:51.722] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:10:51.730] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:10:51.735] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:10:51.753] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:10:51.766] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:10:51.786] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:11:02.594] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:11:02.600] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:11:02.628] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:11:11.358] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:11:11.364] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:11:11.387] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:11:18.039] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:11:18.047] [INFO] console - enter===>
[2017-09-26 16:11:18.050] [INFO] console - sbsbsbs
[2017-09-26 16:11:18.050] [INFO] console - sbsbsbs555555
[2017-09-26 16:11:18.052] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:11:18.054] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:11:18.054] [INFO] console - caoooo undefined
[2017-09-26 16:11:18.055] [INFO] console - sbsbsbs undefined
[2017-09-26 16:11:18.060] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { BadMessageTypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at /Users/zyg/optimization/pay/utils/load.js:25:16
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at _callee2$ (/Users/zyg/optimization/pay/utils/load.js:24:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at parseString (/Users/zyg/optimization/pay/utils/load.js:22:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:189:24)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'BadMessageTypeError' }
[2017-09-26 16:11:18.094] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:241:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:11:18.103] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:241:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:11:18.118] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m79ms[39m [90m2b[39m
[2017-09-26 16:12:17.172] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:12:17.177] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:12:17.202] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:12:20.703] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:12:20.711] [INFO] console - enter===>
[2017-09-26 16:12:20.714] [INFO] console - sbsbsbs
[2017-09-26 16:12:20.714] [INFO] console - sbsbsbs555555
[2017-09-26 16:12:20.715] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:12:20.716] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:12:20.716] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:12:20.717] [INFO] console - sbsbsbs undefined
[2017-09-26 16:12:20.722] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { BadMessageTypeError: Cannot read property 'toString' of undefined
    at Parser.exports.Parser.Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:311:18)
    at Parser.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:5:59)
    at Object.exports.parseString (/Users/zyg/optimization/pay/node_modules/.0.4.19@xml2js/lib/parser.js:354:19)
    at /Users/zyg/optimization/pay/utils/load.js:25:16
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at _callee2$ (/Users/zyg/optimization/pay/utils/load.js:24:12)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12
    at parseString (/Users/zyg/optimization/pay/utils/load.js:22:14)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:190:24)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) name: 'BadMessageTypeError' }
[2017-09-26 16:12:20.750] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:242:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:12:20.758] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:242:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:12:20.778] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m75ms[39m [90m2b[39m
[2017-09-26 16:13:44.384] [ERROR] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js -  Caught exception: Error: listen EADDRINUSE :::80
    at Object.exports._errnoException (util.js:1022:11)
    at exports._exceptionWithHostPort (util.js:1045:20)
    at Server._listen2 (net.js:1259:14)
    at listen (net.js:1295:10)
    at Server.listen (net.js:1391:5)
    at Application.listen (/Users/zyg/optimization/pay/node_modules/.2.3.0@koa/lib/application.js:64:19)
    at Object.<anonymous> (/Users/zyg/optimization/pay/app.js:27:5)
    at Module._compile (module.js:570:32)
    at loader (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Function.Module.runMain (module.js:604:10)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-cli/lib/_babel-node.js:154:22)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:394:7)
[2017-09-26 16:13:44.391] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:13:44.411] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:13:44.419] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:13:44.430] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:13:44.463] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:13:48.923] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:13:48.937] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:13:48.966] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:13:57.855] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:13:57.885] [INFO] console - enter===>
[2017-09-26 16:13:57.892] [INFO] console - sbsbsbs
[2017-09-26 16:13:57.893] [INFO] console - sbsbsbs555555
[2017-09-26 16:13:57.899] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:13:57.902] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:13:57.902] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:13:57.917] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:13:57.976] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ '充值' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijing860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:13:57.993] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: buyHistory is not defined
    at _callee2$ (/Users/zyg/optimization/pay/app/dyh_orderManger.js:35:19)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:35:14
    at Promise.F (/Users/zyg/optimization/pay/node_modules/.2.5.0@core-js/library/modules/_export.js:35:28)
    at Object.<anonymous> (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:14:12)
    at Object.GetOrderByID (/Users/zyg/optimization/pay/app/dyh_orderManger.js:30:7)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:210:36)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:13:58.018] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:243:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:13:58.030] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:243:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:13:58.040] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m185ms[39m [90m2b[39m
[2017-09-26 16:14:14.175] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:14:14.181] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:14:14.209] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:15:44.508] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:16:14.191] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:16:17.961] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:16:17.971] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:16:18.009] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:16:18.170] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:16:18.177] [INFO] console - enter===>
[2017-09-26 16:16:18.180] [INFO] console - sbsbsbs
[2017-09-26 16:16:18.181] [INFO] console - sbsbsbs555555
[2017-09-26 16:16:18.182] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:16:18.183] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:16:18.183] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:16:18.184] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijing860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:16:18.199] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ '充值' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijing860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:16:18.215] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - { CastError: Cast to number failed for value "ruijing860000055" at path "id" for model "buy_history"
    at MongooseError.CastError (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/error/cast.js:27:11)
    at SchemaNumber.cast (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/schema/number.js:231:9)
    at SchemaNumber.SchemaType._castForQuery (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/schematype.js:1064:15)
    at SchemaNumber.castForQuery (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/schema/number.js:282:14)
    at SchemaNumber.SchemaType.castForQueryWrapper (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/schematype.js:1021:15)
    at cast (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/cast.js:269:32)
    at Query.cast (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/query.js:3109:12)
    at Query._castConditions (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/query.js:1145:10)
    at Query._findOne (/Users/zyg/optimization/pay/node_modules/.4.11.12@mongoose/lib/query.js:1352:8)
    at /Users/zyg/optimization/pay/node_modules/.1.5.0@kareem/index.js:250:8
    at /Users/zyg/optimization/pay/node_modules/.1.5.0@kareem/index.js:23:7
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'Cast to number failed for value "ruijing860000055" at path "id" for model "buy_history"',
  name: 'CastError',
  stringValue: '"ruijing860000055"',
  kind: 'number',
  value: 'ruijing860000055',
  path: 'id',
  reason: undefined,
  model: 
   { [Function: model]
     hooks: Kareem { _pres: {}, _posts: {} },
     base: 
      Mongoose {
        connections: [Object],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        plugins: [Object] },
     modelName: 'buy_history',
     model: [Function: model],
     db: 
      NativeConnection {
        base: [Object],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        hosts: null,
        host: 'localhost',
        port: 27017,
        user: null,
        pass: null,
        name: 'majiang',
        options: null,
        otherDbs: [],
        states: [Object],
        _readyState: 1,
        _closeCalled: false,
        _hasOpened: true,
        _listening: false,
        _events: [Object],
        _eventsCount: 1,
        _connectionOptions: {},
        db: [Object] },
     discriminators: undefined,
     nextCount: [Function: nextCount],
     resetCount: [Function: resetCount],
     '$appliedHooks': true,
     _events: { init: [Function], save: [Function] },
     _eventsCount: 2,
     schema: 
      Schema {
        obj: [Object],
        paths: [Object],
        aliases: {},
        subpaths: {},
        virtuals: {},
        singleNestedPaths: {},
        nested: {},
        inherits: {},
        callQueue: [Object],
        _indexes: [],
        methods: [Object],
        statics: [Object],
        tree: [Object],
        query: {},
        childSchemas: [],
        plugins: [Object],
        s: [Object],
        options: [Object],
        '$globalPluginsApplied': true },
     collection: 
      NativeCollection {
        collection: [Object],
        opts: [Object],
        name: 'buy_histories',
        collectionName: 'buy_histories',
        conn: [Object],
        queue: [],
        buffer: false,
        emitter: [Object] },
     Query: { [Function] base: [Object] },
     '$__insertMany': [Function],
     insertMany: [Function] } }
[2017-09-26 16:16:18.239] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:240:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:16:18.260] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:240:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as throw] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:30:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:16:18.268] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m98ms[39m [90m2b[39m
[2017-09-26 16:18:18.007] [INFO] /Users/zyg/optimization/pay/app/wechat//Users/zyg/optimization/pay/app/wechat/wxpay.js - { FetchError: request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/zyg/optimization/pay/node_modules/.2.0.0-alpha.8@node-fetch/lib/index.js:1279:11)
    at emitOne (events.js:96:13)
    at ClientRequest.emit (events.js:188:7)
    at Socket.socketOnEnd (_http_client.js:346:9)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickDomainCallback (internal/process/next_tick.js:122:9)
  message: 'request to http://120.76.182.17/v1/wxnotify failed, reason: socket hang up',
  type: 'system',
  errno: 'ECONNRESET',
  code: 'ECONNRESET' }
[2017-09-26 16:18:39.666] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:18:39.671] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:18:39.721] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:18:44.265] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:18:44.270] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:18:44.296] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:20:20.588] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:20:20.594] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:20:20.621] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:20:22.163] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:20:22.168] [INFO] console - enter===>
[2017-09-26 16:20:22.170] [INFO] console - sbsbsbs
[2017-09-26 16:20:22.170] [INFO] console - sbsbsbs555555
[2017-09-26 16:20:22.171] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:20:22.173] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:20:22.173] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:20:22.175] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:20:22.197] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ '充值' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:20:22.203] [ERROR] /Users/zyg/optimization/pay/controllers//Users/zyg/optimization/pay/controllers/dyh.js - ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:204:39)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:20:22.240] [INFO] console - enter===>22 ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:241:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7)
[2017-09-26 16:20:22.243] [INFO] console - enter====> client ReferenceError: reply is not defined
    at Object.Result (/Users/zyg/optimization/pay/app/wechat/wxpay.js:175:45)
    at _callee5$ (/Users/zyg/optimization/pay/controllers/dyh.js:241:37)
    at tryCatch (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:65:40)
    at GeneratorFunctionPrototype.invoke [as _invoke] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:299:22)
    at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/Users/zyg/optimization/pay/node_modules/.0.11.0@regenerator-runtime/runtime.js:117:21)
    at step (/Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:17:30)
    at /Users/zyg/optimization/pay/node_modules/.6.26.0@babel-runtime/helpers/asyncToGenerator.js:28:13
    at process._tickDomainCallback (internal/process/next_tick.js:129:7) false
[2017-09-26 16:20:22.270] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m108ms[39m [90m2b[39m
[2017-09-26 16:21:43.952] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:21:43.958] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:21:43.986] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:21:55.570] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:21:55.576] [INFO] console - enter===>
[2017-09-26 16:21:55.578] [INFO] console - sbsbsbs
[2017-09-26 16:21:55.578] [INFO] console - sbsbsbs555555
[2017-09-26 16:21:55.579] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:21:55.581] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:21:55.581] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:21:55.583] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:21:55.596] [INFO] console - sbsbsdbsbsb { xml: 
   { appid: [ 'wxfe1105bf0e4beb05' ],
     attach: [ '充值' ],
     bank_type: [ 'CFT' ],
     cash_fee: [ '1' ],
     fee_type: [ 'CNY' ],
     is_subscribe: [ 'Y' ],
     mch_id: [ '1433459502' ],
     nonce_str: [ 'pgzpm08ajwywgd1' ],
     openid: [ 'owhU5wTjaXvop_zknhZYp_dNR3KM' ],
     out_trade_no: [ 'ruijin860000055' ],
     result_code: [ 'SUCCESS' ],
     return_code: [ 'SUCCESS' ],
     sign: [ '84680DD50C6B7B52FFA91A7957B0A135' ],
     time_end: [ '20170926155215' ],
     total_fee: [ '1' ],
     trade_type: [ 'JSAPI' ],
     transaction_id: [ '4200000017201709264372528711' ] } }
[2017-09-26 16:21:55.603] [INFO] console - enter===>22 <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml>
[2017-09-26 16:21:55.604] [INFO] console - enter====> client <xml>
    <return_code><![CDATA[FAIL]]></return_code>
    <return_msg><![CDATA[FAIL]]></return_msg>
</xml> false
[2017-09-26 16:21:55.612] [INFO] console -   [90m-->[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m [32m200[39m [90m44ms[39m [90m106b[39m
[2017-09-26 16:23:09.372] [INFO] /Users/zyg/optimization/pay//Users/zyg/optimization/pay/app.js - Listening on port 80
[2017-09-26 16:23:09.376] [INFO] /Users/zyg/optimization/pay/utils//Users/zyg/optimization/pay/utils/redis.js - connect redis success...
[2017-09-26 16:23:09.403] [WARN] /Users/zyg/optimization/pay/app/dao//Users/zyg/optimization/pay/app/dao/dbMaster.js - db connection sucess!
[2017-09-26 16:23:11.799] [INFO] console -   [90m<--[39m [1mGET[22m [90m/api/wechat/dyh/v1/wxnotify[39m
[2017-09-26 16:23:11.804] [INFO] console - enter===>
[2017-09-26 16:23:11.806] [INFO] console - sbsbsbs
[2017-09-26 16:23:11.806] [INFO] console - sbsbsbs555555
[2017-09-26 16:23:11.807] [INFO] console - sbsbsbs2233333 <Buffer >
[2017-09-26 16:23:11.808] [INFO] console - qqqqqq====> <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:23:11.809] [INFO] console - caoooo <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
[2017-09-26 16:23:11.809] [INFO] console - sbsbsbs <xml><appid><![CDATA[wxfe1105bf0e4beb05]]></appid>
<attach><![CDATA[充值]]></attach>
<bank_type><![CDATA[CFT]]></bank_type>
<cash_fee><![CDATA[1]]></cash_fee>
<fee_type><![CDATA[CNY]]></fee_type>
<is_subscribe><![CDATA[Y]]></is_subscribe>
<mch_id><![CDATA[1433459502]]></mch_id>
<nonce_str><![CDATA[pgzpm08ajwywgd1]]></nonce_str>
<openid><![CDATA[owhU5wTjaXvop_zknhZYp_dNR3KM]]></openid>
<out_trade_no><![CDATA[ruijin860000055]]></out_trade_no>
<result_code><![CDATA[SUCCESS]]></result_code>
<return_code><![CDATA[SUCCESS]]></return_code>
<sign><![CDATA[84680DD50C6B7B52FFA91A7957B0A135]]></sign>
<time_end><![CDATA[20170926155215]]></time_end>
<total_fee>1</total_fee>
<trade_type><![CDATA[JSAPI]]></trade_type>
<transaction_id><![CDATA[4200000017201709264372528711]]></transaction_id>
</xml>
